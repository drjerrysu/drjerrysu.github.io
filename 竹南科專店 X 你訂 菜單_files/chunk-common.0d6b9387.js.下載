(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"00ef":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMC4zNTEiIGhlaWdodD0iMTAuOTQzIiB2aWV3Qm94PSIwIDAgMTAuMzUxIDEwLjk0MyI+DQogIDxnIGlkPSJHcm91cF8xMDMwIiBkYXRhLW5hbWU9Ikdyb3VwIDEwMzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuNjUgMC45MTkpIj4NCiAgICA8ZyBpZD0iR3JvdXBfMTAyOCIgZGF0YS1uYW1lPSJHcm91cCAxMDI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjM5MSkiPg0KICAgICAgPGxpbmUgaWQ9IkxpbmVfOTMiIGRhdGEtbmFtZT0iTGluZSA5MyIgeDI9IjQuMzkxIiB5Mj0iNC41MjciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjEuMyIvPg0KICAgICAgPGxpbmUgaWQ9IkxpbmVfOTQiIGRhdGEtbmFtZT0iTGluZSA5NCIgeTE9IjQuNTI3IiB4Mj0iNC4zOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgNC41NzcpIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjMiLz4NCiAgICA8L2c+DQogICAgPGxpbmUgaWQ9IkxpbmVfOTUiIGRhdGEtbmFtZT0iTGluZSA5NSIgeDI9IjguNzgyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDQuNjE5KSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4zIi8+DQogIDwvZz4NCjwvc3ZnPg0K"},"0121":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showLeftBtn?i("div",{staticClass:"full-width flex flex-center",class:[2===t.type?"col full-height text-accent":"",{"bg-d-gray text-white":2===t.type&&t.showBtn.disable},{"bg-white":2===t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2===t.type&&!t.showBtn.disable&&!t.showRightBtn}]},[i("div",{staticClass:"text-center text-bold flex flex-center",class:[2===t.type?"q-py-md full-width full-height":"btn-primary text-accent border q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"bg-d-gray text-white":2!==t.type&&t.showBtn.disable},{"bg-white":2!==t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2!==t.type&&!t.showBtn.disable&&!t.showRightBtn}],style:2===t.type?"":"height: 71.141px",on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v(t._s(t.showBtn.name))])],1)]):t._e()},o=[],r=(i("7f7f"),i("c5f6"),{props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,show:Object,showRightBtn:Boolean,cantEdit:Boolean},data:function(){return{btns:{1:{name:this.$t("order.add_items"),event:"goToMenu"},2:{name:this.$t("order.step_previous"),event:"goStepBack"},3:{name:this.$t("order.cancel_trade"),event:"cancelTrade"},4:{name:this.$t("order.order_again_one"),event:"orderAgain"},5:{name:this.$t("order.order_again"),event:"reorder",disable:!1},6:{name:this.$t("order.order_delete"),event:"removeOrder"}}}},computed:{showLeftBtn:function(){return!(!this.showRightBtn&&this.showBtn.disable)},disReorder:function(){var t=this.orderInfo.status,e=this.orderInfo.order_type;return 3===e||99!==t&&(120!==t&&(121!==t&&(122!==t&&(140!==t&&130!==t))))},showSpinner:function(){return!!this.show&&this.show.btn_spinner},showBtn:function(){var t=this.orderInfo;return this.step?3===t.order_type&&3===this.step?this.btns[4]:1!==this.step||this.cantEdit?1===this.step&&this.cantEdit?this.btns[6]:1===t.status||2===t.status?this.btns[3]:this.btns[2]:this.btns[1]:(this.btns[5].disable=this.disReorder,this.disReorder?(this.btns[5].event="",this.btns[5].name=this.$t("order.order_again_un")):(this.btns[5].event="reorder",this.btns[5].name=this.$t("order.order_again")),this.btns[5])}}}),n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},"017f":function(t,e,i){"use strict";var s=i("1a3f"),o=i.n(s);o.a},"0368":function(t,e,i){"use strict";var s=i("6276"),o=i.n(s);o.a},"04fc":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0xNi4zOTc2IDIxLjY0MTFIOC45NzQxMUM4LjQ1NjU0IDIxLjY0MTEgOC4wNDI0OCAyMS4yMjcgOC4wNDI0OCAyMC43MDk1QzguMDQyNDggMjAuMTkxOSA4LjQ1NjU0IDE5Ljc3NzggOC45NzQxMSAxOS43Nzc4SDE2LjM5NzZDMTYuOTE1MSAxOS43Nzc4IDE3LjMyOTIgMjAuMTkxOSAxNy4zMjkyIDIwLjcwOTVDMTcuMzQ0IDIxLjIxMjMgMTYuOTE1MSAyMS42NDExIDE2LjM5NzYgMjEuNjQxMVoiIGZpbGw9IiMwMDAxMDAiLz4KPHBhdGggZD0iTTUuOTcyMTYgMjEuNzAwM0g0LjgxODcxQzQuMzAxMTQgMjEuNzAwMyAzLjg4NzA4IDIxLjI4NjIgMy44ODcwOCAyMC43Njg3QzMuODg3MDggMjAuMjUxMSA0LjMwMTE0IDE5LjgzNyA0LjgxODcxIDE5LjgzN0g1Ljk3MjE2QzYuNDg5NzMgMTkuODM3IDYuOTAzNzkgMjAuMjUxMSA2LjkwMzc5IDIwLjc2ODdDNi45MDM3OSAyMS4yODYyIDYuNDg5NzMgMjEuNzAwMyA1Ljk3MjE2IDIxLjcwMDNaIiBmaWxsPSIjMDAwMTAwIi8+CjxwYXRoIGQ9Ik0zMS4wODE4IDguMzc2NDZIMS44NzU5OFYxMi44MTI4SDMxLjA4MThWOC4zNzY0NloiIGZpbGw9IiMwMDAxMDAiLz4KPHBhdGggZD0iTTIzLjY4OCAyMy4zNzEySDIuNjU5NzdWNS4zNTk3SDI5Ljk3MjhWMTUuNTc4MUMzMC42MDg2IDE1LjcxMTEgMzEuMjAwMiAxNS45NjI2IDMxLjczMjUgMTYuMjg3OVY0LjQ3MjQ1QzMxLjczMjUgMy45ODQ0NSAzMS4zMzMyIDMuNTk5OTggMzAuODYgMy41OTk5OEgxLjc3MjVDMS4yODQ1MSAzLjU5OTk4IDAuOTAwMDI0IDMuOTk5MjQgMC45MDAwMjQgNC40NzI0NVYyNC4yNDM3QzAuOTAwMDI0IDI0LjczMTcgMS4yOTkyOSAyNS4xMTYyIDEuNzcyNSAyNS4xMTYySDI0LjkxNTRDMjQuMzk3OCAyNC42MjgyIDIzLjk4MzcgMjQuMDIxOSAyMy42ODggMjMuMzcxMloiIGZpbGw9IiMwMDAxMDAiLz4KPHBhdGggZD0iTTMxLjQyMTkgMzIuOTM4OEMzMS4xNzA1IDMyLjkzODggMzAuOTE5MSAzMi44MzUzIDMwLjc0MTcgMzIuNjU3OUwyOC44MTkzIDMwLjczNTVMMjYuODk2OCAzMi42NTc5QzI2LjYxNTkgMzIuOTM4OCAyNi4yMDE4IDMzLjAxMjggMjUuODMyMSAzMi44NjQ5QzI1LjQ2MjQgMzIuNzE3IDI1LjIyNTggMzIuMzYyMSAyNS4yMjU4IDMxLjk2MjhWMjUuMzUyN0MyNS4yMjU4IDI0LjgyMDMgMjUuNjU0NyAyNC4zNzY3IDI2LjIwMTggMjQuMzc2N0MyNi43NDkgMjQuMzc2NyAyNy4xNzc4IDI0LjgwNTYgMjcuMTc3OCAyNS4zNTI3VjI5LjYyNjRMMjguMTI0MiAyOC42OEMyOC41MDg3IDI4LjI5NTUgMjkuMTE1IDI4LjI5NTUgMjkuNDk5NSAyOC42OEwzMC40NDU5IDI5LjYyNjRWMjUuMzUyN0MzMC40NDU5IDI0LjgyMDMgMzAuODc0OCAyNC4zNzY3IDMxLjQyMTkgMjQuMzc2N0MzMS45NjkxIDI0LjM3NjcgMzIuMzk3OSAyNC44MDU2IDMyLjM5NzkgMjUuMzUyN1YzMS45NjI4QzMyLjM5NzkgMzIuMzYyMSAzMi4xNjEzIDMyLjcwMjIgMzEuNzkxNiAzMi44NjQ5QzMxLjY3MzMgMzIuOTI0IDMxLjU1NSAzMi45Mzg4IDMxLjQyMTkgMzIuOTM4OFoiIGZpbGw9IiMwMDAxMDAiLz4KPHBhdGggZD0iTTI4LjgxOTMgMjYuNzEzMkMyNS43MTM5IDI2LjcxMzIgMjMuMTg1MiAyNC4xODQ1IDIzLjE4NTIgMjEuMDc5MUMyMy4xODUyIDE3Ljk3MzcgMjUuNzEzOSAxNS40NDQ5IDI4LjgxOTMgMTUuNDQ0OUMzMS45MjQ3IDE1LjQ0NDkgMzQuNDUzNSAxNy45NzM3IDM0LjQ1MzUgMjEuMDc5MUMzNC40NTM1IDI0LjE4NDUgMzEuOTI0NyAyNi43MTMyIDI4LjgxOTMgMjYuNzEzMlpNMjguODE5MyAxNy4zOTY5QzI2Ljc3ODYgMTcuMzk2OSAyNS4xMzcyIDE5LjA1MzIgMjUuMTM3MiAyMS4wNzkxQzI1LjEzNzIgMjMuMTA1IDI2Ljc5MzQgMjQuNzYxMiAyOC44MTkzIDI0Ljc2MTJDMzAuODQ1MiAyNC43NjEyIDMyLjUwMTUgMjMuMTA1IDMyLjUwMTUgMjEuMDc5MUMzMi41MDE1IDE5LjA1MzIgMzAuODYgMTcuMzk2OSAyOC44MTkzIDE3LjM5NjlaIiBmaWxsPSIjMDAwMTAwIi8+Cjwvc3ZnPgo="},"07bc":function(t,e,i){},"08cb":function(t,e,i){},"0a09":function(t,e,i){},"0c76":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsSAAALEgHS3X78AAAWiklEQVR42u2deXhTZfbHv1napOmWpC1p6UJbyi5LKSAUhDIgo/hjXwuo1BbFGRCc0VGckXHhN+gzKlSUAUVBQTbRsuiAMCMFadGylK1laelK9zZd06RbOn+0Se/NTZObNEjB83kenocmudu53/ue8573fc8FCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCKJ7IrD47arUmQBmAIgCEEzmIgDkAEgEcAjx4QdtE9aq1CgA20lMBA+RxSA+PNH0C6EZUW0AcJJERfAgGMDJds1YaLFWpW4HsJTsRdjBDsSHx3BbrDbVkagIe1nKbLkEjJjqJNmGcAATER+eaGixtpM9CAexva3FakspJJA9CAcyS4i2PBVBOJIZQrQlPwnCkUQJQfkqwvEEC8kGxN2AhEWQsAgSFkHCIggSFkHCIkhYBEHCIkhYBAmLIEhYBAmLIGERBAmLIGERJCyCIGER3Rix6QcuTkI83EtmdcMqbQsuFWht2obJ+bx61DXqjX9Hhbk9kAZm2smU/j4SqDydrFRm4UdSlgZN+lYAwACVFCp3sdVtimuacKO0AQAQrHRGsNK5S9djUViLIxT4dGGg1Q3rGvToufYaahv08PcQ4+SKMJsM8czuPGxPUQMARgS42Lz9/UJiZh0mfpQJAHjIV4qnRioxpb87hvq7OPQ4MbvzsKPdnn+d3AOLRyqtblOpbcH4+AxcK9Zh6Sgl/v6Yr03XY5MrfDHKh9eFuEmEWDpKabchFg1XdIhstNcD7RZ83cVIeCYYV1/tj5cn9XC4qADghfHeNm+jcBHxakS67AonhrlhoK/UYpPn6izEyKA2t7dqgg82/VRuU1M5upcMUichJvd3h6+7GLrmViwb48V6IjpjmL8L5C4iAMClAi2qtC02X7DcRYRh7Tc2rUiHMk0zvwfJWYjhgTIIzfgt0/24S4SICJQZXUz6awOgaD9vA5oGPS7eqUdLq+VzNNDZ9RpsEh4gQ2SwK5JzNLy2eyTUFSKhAKODXfFnk8bkQn49ahs6whQ/Dyf06yGxX1grHulQ/T//W4p//KfE7EbZawciWOmM3t4STBvkgevFOtaFWGoqdz/ZC9ERba3VnKFyaJv0EIva7tb1Yp3FbU+uCDPGYi8mFFgUYWdEhbkZ3e6bR4vw9ZVq3tu6OQsRN9oLf3/c1yhwc/uJCHDB+Zf6GYVlQNukx67zldhyphwXLTx8zHMEALWmGZEbM6Bt0nN++/9T/fDaFJXx/pkKqzM7vfmYL9a2u743HvfDgUtVxu+e25ePC3c6zi/uYSU+jQ6yr1cYKHfC7KFyAEBTSys++6Wi0402nSoz/n/5WNua4P2pHRcQM0rJcolfnlN3a5dW16jHxtNlGLPhFip4tnQGrhRqMeSdG3h2X75FUZnjy3Nqs6ICgI/PlKM9ZseC4QpEBPBzs+uOl+BGia4jrHlY6VBbGYW1ekJHc/jVhUqU1HZuuM9TOi506kAPhHnzbyaPpFWjvK5t3xFBMkzq5278bi9DdN2ZG6UNWPpVHu/fZ5Q2YMKmTGRWNNp1vPjT5Z1+V1jThH0XK9tupqAtPOFDk74VsXvyoWnQ370YSygAnmYE4v/6qdxql3PX+UpjbLTKhsCxpRX49ko1no1kB+zn8uqRo260+0LcJUL09bEucEu/kTkJMUDF/T6rohGVJnHKd+k1yCpvQCiPhyp2b55d8SAAHLlabdUuW5PLjeHFwuEK/Hizlte+k3M0ePt4Md6Z1vPuCGtBuAJerm3hVnqxDin59awfRYfL8e3VajQ0d0Sa285WGIU1sZ+HxYN4SoWo1nU8GUeucYXF9PEGodTa8DRFBMq6nLIYoJIYYyMmrQBWfn0HHyexH7jUO1qrwjqXW4+fsjScz+cPk+NvU1QY3NOy69rACDvabCnChN6uOJxWY/zs1G0NMsoa0MdHAieRAFF93Xlf84enyxE32gthPhKHCksIACsZQfuGxDLOj96f5Y+F4QrWZyl59bjQLkCJ2HKKb/pAtvD+fb0GZXVsV7u3vTk3MLc93usOCAC8NJHrYm6VNVjd1pCrY/LHsd7YtzTYqqiSsjQ4aRJ4Rw+XY+V47rlsZNw3a/eDibZJj9g9eQ63mXC4vwvGhLgCACo0zfjqgskNHuIJPw8nLB/LzTVtPFXG6yC/H+ABX0YmWN8KJDB6UUlZGuRVNbEMM3eYbcKq0rYgMbPO6j973e2ZbG6rwye2PJ9Xz3G366f58TrmRz+VmclX+WByP3eEejlzAvwanXV3O1AlZfVoAeB0lgZbk8od6wpXMoK9L1K4vQ9D8nJ0sCsGqaRIK9ExWpkqvDfDn9fwwdyhcnx0puPkd55TG93hFya9wTlD5JA52zaMaS3NYeCNx3w7zTAX1jTjzWPFnM+vF+vwrZm0xOhg68NYF++whRUZ4gp3qcjqdgVVTdhvEh6M6SXDgPY844px3vjToUJWj3XnuUr88RHL8W4PdzH+FOWDuH35rM9f+a4IMwZ7wtfDyTEt1uIIRactULDSGY8z3NgKkyC9Wd+KT5L5Kd20O3smW4NcdSPK6prx2c/s1MbcYZ73xOUV1TThjWPFnH/7LlUZx+EMLIlQIFBhfWzNNAEa4CHmdS6bGWkEc6mdJSOVcDLJ1n6QWIr6RutxaewYL87YbLW2BXF78x3nCp3ak5PfXq5CPsMdAcDzJgH2oggFZE7sluRfSRXQ61t5Bdd9TALE/alVSLhSzTKgt6sYMx66N8LiS3iACzbNDbBr2yoe7qqxuRWfnmU/bEqZCAsZOT8fNzHmh8s5vddd5yt5ncdnCwPhYnIvv0+vQcJlx6R8xB3+nNvyvPJdEV75rsjqU773YhUWjVBYPdiTEQqsZbiaHSlq+Lix3cKcoZ4QCm0f7w+UO2Eej7hsTLCr3cZSuYvx7BgvrHlUxbkpneHnLkYRIyd4q8x6jLf7YiVnqEld3wLJS5etbrshsZTT4zZHqLcEr09R4bXv2ff3uf13ODGY3cJKL9Zxeh+2JfDKeAkr2kRY6SU6wGTU6MkR9mWAe3tL8P5M/y4Zo6+PBFsXBKJK24Knd+WihpHucHES4ujy3gi3cQB5qL8Lim7Usq75bLbG2GEyx8bE0i4lb0/cqMWj/a2nHF6ZrMKZLA3+fb0jdVGmaeY9fmo13WAuxWALKXn1SDXJfZkjzEeCUUGdB7y9FM4YG+qKe4W7RIioMDfMHOyJHYuCON3yyR9nIqO0waZ9zhjMdetLdubiJqMTZJpiuFyo69J1/ItnD08oAD5dGAgPqcjhthSbSzHYw4ZTZfhySS/rQfwoJVLyzItw0XD7c1c56kazPTqOeJXOvKb7zBoqx8aZ/lh9sIDljqZvy0Lyi305sxU6Y+FwBV79rgjVjMx7lroRg9+9ibnD5MZZA7/r44ZHeruZTTHYSkJ7tp7PxL2enk5Y97gvXkgocKywzKUYNs32x4rxnY856Zr08Fubxhqm2HuxCv+cYd0VzRkqxx8O3DH73VNdmN+Vo27EGzyEFRXmxnse2aooH1wp0uLzX9QsVzPp40ycXtkHbhLrcZbcRYT3pvXEsv3sHleTvhV7GEnhJ0cMMJti8HUXo+Cth2Ap7Izdk8c6RwD48FQZPpjFLzRYOcEHe1OrODMjuuQKzSU5oyMsx0tSJyGihys4htphYUYEM48yxcyQwyBfKfqrpN2uB/jpgkCMM4mHUu9o8eTOHN77iIv0wioL+aX5w+QI9ZZg29kKToohergC1voyyyO5+96eokYLj966sZcY7dgJf0LTFMPcIZ7GcUNLPGNmmsUnZyt4HXSOmd7b/GHybiUow00RCgXY/VQveJvY5OC1GrzNo4U0BuRzArBptj/8PbkJyGfHeKEV4ExVchIK8MpkldV9j+wl4wyuV2lbsNtKiJNZ2oDG9vHf/iqpTZMJrLpC00TZ8nEdO39+fz62JFewLrTgrUHwcRNjRJAMiyMUKKhmCzNf3chJvqnc2cacO9ST5QbMtZJyFxFnP8xu8DA7p/cytxvoK0VUfQurV2iMGX8sRdxYb8hdRAhUOOPY8lC8xMh0A8CPmXWYlK2xuB8mK8b74I/jfXDieg3OZGuQWdoAoUiASf3ccS63Hr29JejNGCaKDHE1jmoU1TSh59o0dpA+L8CYNP3bFBXHHV4t0nHsxPz7l1wNdp5X482pbUNMb031Q0ZZI+pNQqN+PWz3JILW1laz7aW2SQ+/19NQbZLQe39GT/xpYg886Czbk4f8qiYcfb53l1bRnM3R4EqBFs+N7VprsO6HYrx+lN1CDlRJkbamv937/OqcGkv35OPSy/0wyI+feOxeTGFg38UqjqiAthmLvxV+uFmLl7rYW2pobsXyr+9gXHwGjlyrtns/5sIMQ06sKzTrWxG31/GzG8QfnzbfvWW6QCZZFY1Yc7gQAXKnB1pU6e3z+D84VQaJWGA2NuJDRvvUmqRsDaZvy4bMSYjxvV0xIkgGF7EQnlLrPcu8ykbOcJuBv31fhNlD7BsCO5fblvb5Obcey/flYzCPViujjF8eT4BVqa0gCAdDS+wJEhZBwiJIWARBwiJIWMRvGfGvfcBxoa7497Ohd/UYtQ16jP8wA7cZK499XMU4/+e+UMhEdNcfRGGJhQJeq1S6grtUhP1LgzE2PgO65lYIBUBCbAiCeMxPIsgVWmR4oAwfzm5b8PDu//W8pzNTqcX6lTlyrRrTt2Xbte0Xi4Kw9mgRcivZQx3TBnng8LI2V7ss0gvuEiEWMmZOLNmZy5kxO9hPijWTVFi0K5f38SMCXDB7qBzPj/NmzSat1bXA49WrvPczUCXFpD5u+MtkFWuYjO9grzlM105mlDXg/ZOl+O/NWt6FSb6JCTZWH6rVteCT5AocuFyFC/lazlK4B6rFUshESIgLhavJwtYjaTV450THCg2mqD5JKueISu4iQkJsCNyktpniwh0t/vp9EULfSkdyFwaC00t02HSmHAPXX8fBy46vtrMjRY1B629ga3IFb1EFK52NorpaqMXgd2/gpcOF+Dm3npeo7ntXGO7vgi3zuOv71nxfhJ9us1cdXcyvNzuv+5uYYNYcKFup0rZg6idZKKxu6nKHY9GuPNyycbGGJZKzNYjZncdbDAYMFf50TXrM/iyb4xWsMTHM7f6PsZaMVJqd+Tj78xyUtq/nq9S2YM7nOaxqOQCwYWZP/M6GyiydUa1twT+Ol3R5P9omPd4+Xuww27zzH9vPSe4iQszDbesSd56vtKum1+oJPvc2xjIHsxwkXz6YFYDUO1qcZpQLKtc0Y/Zn2Ti9qg+e2pmLnEq2gZZEKLA6qodd57L3QiUW78plzU9nrs2zFvMYSMrSYPq2LKgZs0+Ppdu+n844ep1dJ2tssCsOLwuB0pXfbTd3Lj88F4opAzx+G71CoQBIiAtFkMkcsaQcDfq8nY7vTAwU7u+CrQvsXzywMEKBR01aumw7qtiMDXVlFfYFgPL6FofZpdnEBT7a3523qABAbVIszlsm4iWqe94rNEdOeQPSeCQxB/hKWUvxlTIRDsaFYlx8BmvOdpbJDVfKRDgcF2JzNRtT9A6axZZpMnFObGFJTmltM9IKrdcvDfaSwNXM0rS9FysxPtQVPdzYt10qFsJf4QSpSdkAqUmdrfL6Frz3Yyl+39cdQsZPRQIBVB5iKBii7XbCiuFZ8aTmncGcRGt4gAu2zA/AU53UBxUKgENxIQhQ2J8o1TXp8dnPapy4xXYzgywsXUvMrAPMrOi5VqTFNyblkcZbyLdtTirHZh6rnA0uPLKXDMm5HYuDb5Q24Hebb3e6XV8fCf4w1hsvRPlAAGByX3ccu8G+zpcPF+LlTrZXuogwb5gc657w637C6ipPjlTix1t12GGmAvOrk1QYF8o/frMlj/R7C7USDEXf+J6/o1gW6Y3kXP7z2W+VNWD1wQJcKtRi+6IgzA+XY+3RYs6qHUuuc+vZCvyYWfdgZt41nRgirVh7V44ndxHhLzzW/1ljzhBPh5bFXvqwEjF27G9HihrHrtcgUOGMbQsC4SyybZ1SRllD92ux+vpI4M5j6bpQYP5i3/1PCb6+ZD7ReKh9kenrNvSsrKGUifDD8t68qhp2hkQswIsTfLDuCcslJP08nNCTR+E2pv0+jw7CzIc8sT1FjXO59Sio4ZeT2v6LGo8N8ED0CAWGB8nw/slS/JKjQXpJA6dTcF8E71sXBNr9JrCj6TV41Uo9r7XHihERKMPUQR5dOs9BKimiIxRYOd7barWWqDA3RIW54ZvLVbhaxK4kE9XbDV/HBMPbzfqteC7Sy6Z0g4Hpgz0xfXDnK3nyKxvx8IYMFDFEl8dIz/TrIcEnFnrRDc2tiP4iBwlXq7uvsOzlZokOi3bmcoL1OYM9Oa81WbQrF7+s7oN+VmpF2JNT60xYf3/MF4sjFJj4USbuMLL0ibfrcOhaNWLv4YuqAhXOGNpTyhKWLb1eiViAOUM8u7ewLvF8HchgP6mxxkSNrgXzduRwivSvm+qHNY+qsPjLXOxmLOmv1rZg7vYcJK3uc1dqQ3VGmI8Ex5/vjcj4DNa5xu3Nh1wqMlvTgpWKUTfy6gQY3j2Yo27kVSW6pKYJSSbjnV6uYt7vJmzRt+I9kxpr3U5YL/JceXw4LgTT2muVxu7J57iYx/u7Y82jbQH1lvkBuFSgbasgaOjqF+sQuycfX8cEd+l8K+qa8e2VaiyL5NfiDPCV4lBsCCZtvs2KVZ7enYdgL2fjW8M6C6p3pFh/35AhQ/9FippXaSdzzBriybsS9X0RY9nK+hMlOGAyKyDQ0wlfPd0hGHepCPuWBiNy4y3W2y4OXK7C+hMlRgFaE7zp05unbjQmYPkKCwDGh7lhy/wAVpViTaMekzffRtILfTDQ796Wcxra0wUxo5Rma9vzdY33dbrhaHoNpzirWCjAgWdCOBX3HvKTYrOZSsevfV+EHyyM8zFdtOnLCLK68O6f2NFeeMGkZlaVtgXTPs2y+c1ijmRkkAw/LA81vurPnl5ywjMh97bF8nIV2x0cOwkF2Hq2grP9khEKjGp/P3WNrgXrT5RgfftLiJaMVCKtWIefc9mlKrckV2B5pJfFskl8EQkFnP30ap8SnVaoxaVCHRa3FwKOnxOAJj1w3aQe6brjJXh6lNJu2xiO10vpzHsfvRROeGKgJ+YxSnybKyXVGTInIaYO9EB0hAJKmejXr91g+pLHu8m87Tk4cLkKa6eojDWg7GXiR5kWA+fWjcOs7iOtUIth791C0qo+RvE/qDywc94/PFVmjL3eOl7Cy939GjTrW/GEAyYGdmdO3Kz99V2hpkHPa4S+K5TVNePPJtX3Yvfm40hciM3DE8zzttYaWSOzfXZouaYZT+/KxcZZ/g+EkJpaWlHVoMfVQi12natESn49lTEiyBUSJCyChEUQJCyChEWQsAiChEWQsAgSFkGQsAgSFkHCIggSFkHCIn6rwsohMxAOJkcIIJHsQDiYRCGAQ2QHwsEcapunuyo1G0Aw2YNwhBtEfHiIIXiPIXsQDiKmo1cYH54IYCPZhOgiG9u1BPaSlVWp2wEsJfsQdrAD8eFGz8fOY7V9QS0XYU9LxQqnzC+yW5UaBWA7BfSE1UAdiDG4P+vC6hDYTAAzAESRyAiGmBIBHEJ8+EEyB0EQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBHG/8T9naHR4iSz8CwAAAABJRU5ErkJggg=="},"0ca5":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwIDE1QzMwIDYuNzE1NTYgMjMuMjg0NCAwIDE1IDBDNi43MTU1NiAwIDAgNi43MTU1NiAwIDE1QzAgMjIuNDg2NyA1LjQ4NDQ0IDI4LjY5MzMgMTIuNjU1NiAyOS44MTc4VjE5LjMzNTZIOC44NDY2N1YxNUgxMi42NTU2VjExLjY5NTZDMTIuNjU1NiA3LjkzNTU2IDE0Ljg5NTYgNS44NiAxOC4zMjIyIDUuODZDMTkuOTY0NCA1Ljg2IDIxLjY4IDYuMTUzMzMgMjEuNjggNi4xNTMzM1Y5Ljg0NDQ0SDE5Ljc4ODlDMTcuOTI0NCA5Ljg0NDQ0IDE3LjM0NDQgMTEgMTcuMzQ0NCAxMi4xODY3VjE1SDIxLjUwNDRMMjAuODQgMTkuMzM1NkgxNy4zNDQ0VjI5LjgxNzhDMjQuNTE1NiAyOC42OTMzIDMwIDIyLjQ4NjcgMzAgMTVaIiBmaWxsPSIjNDY3NkVEIi8+CjxwYXRoIGQ9Ik0yMC44Mzc4IDE5LjMzNTVMMjEuNTAyMiAxNUgxNy4zNDQ1VjEyLjE4NjdDMTcuMzQ0NSAxMSAxNy45MjQ1IDkuODQ0NDMgMTkuNzg4OSA5Ljg0NDQzSDIxLjY4VjYuMTUzMzJDMjEuNjggNi4xNTMzMiAxOS45NjQ1IDUuODU5OTkgMTguMzIyMiA1Ljg1OTk5QzE0Ljg5NTYgNS44NTk5OSAxMi42NTU2IDcuOTM1NTQgMTIuNjU1NiAxMS42OTU1VjE1SDguODQ2NjhWMTkuMzM1NUgxMi42NTU2VjI5LjgxNzhDMTMuNDIgMjkuOTM3OCAxNC4yMDIyIDMwIDE1IDMwQzE1Ljc5NzggMzAgMTYuNTggMjkuOTM3OCAxNy4zNDQ1IDI5LjgxNzhWMTkuMzM1NUgyMC44Mzc4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},"0e4e":function(t,e,i){"use strict";var s=i("306b"),o=i.n(s);o.a},"0fae":function(t,e,i){},1094:function(t,e,i){"use strict";var s=i("6504"),o=i.n(s);o.a},1329:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.md,"transition-show":t.$q.screen.lt.md?"slide-left":"scale","transition-hide":t.$q.screen.lt.md?"slide-right":"scale"},model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[Object.keys(t.info).length?s("q-card",{staticClass:"bg-m-gray nidin-prod-modal fix-modal-sm"},[s("q-card-actions",{staticClass:"border-top bg-white full-width z-top items-start row position-sticky dialog-header"},[s("div",{staticClass:"col nd-px-2"},[t._v("\n        商品資訊\n      ")]),s("div",{staticClass:"col-auto cursor-pointer"},[s("img",{staticClass:"q-ma-xs",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.openModal=!1}}})])]),s("q-card-section",{staticClass:"col q-pa-none scroll nd-pb-2",style:t.$q.screen.lt.md?"height: calc("+t.dialogH+"px - 140px)":"max-height: calc("+t.dialogH+"px - 268px)"},[t.show.loading?s("div",{staticClass:"row justify-center items-center",style:"height:"+t.prodImgH},[s("q-spinner",{attrs:{color:"grey-5",size:"40px"}})],1):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.show.loading&&t.info.product_images&&t.info.product_images.length,expression:"!show.loading && info.product_images && info.product_images.length"}],staticClass:"menu-modal-carousel"},[s("hooper",{ref:"prod-detail-img",style:"height:"+t.prodImgH,attrs:{itemsToShow:1,autoPlay:!0,playSpeed:4e3,wheelControl:!1,infiniteScroll:t.info.product_images.length>1}},[t._l(t.info.product_images,(function(e,i){return s("slide",{key:"prod-img-"+i,staticClass:"full-width"},[e?s("q-img",{attrs:{src:e,radio:800/600}}):t._e()],1)})),t.info.product_images.length>1?s("hooper-pagination",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"}):t._e()],2)],1),s("div",[s("div",{staticClass:"bg-white nd-p-4"},[s("div",{staticClass:"row font-size-subtitle-1 nd-mb-2"},[s("div",{staticClass:"col text-weight-medium"},[2===t.info.type?s("span",{staticClass:"border-label font-size-overline text-primary q-mr-sm"},[t._v("\n                套票\n              ")]):t._e(),t._v("\n              "+t._s(t.info.name)+"\n            ")]),s("div",{staticClass:"col-auto text-weight-bold b-color nd-pl-2"},[t._v("$"+t._s(parseInt(t.info.total_sale_money,10)))])]),s("div",{staticClass:"flex items-center font-size-caption text-grey-8"},[s("q-icon",{staticClass:"q-ma-none icon q-mr-xs",attrs:{name:"fas fa-clock",size:"12px"}}),t._v("\n            購買期限至 "+t._s(t.info.sale_end_time)+"\n          ")],1),t.showTransfer?s("div",{staticClass:"flex text-grey-8 nd-mt-1"},[t.showTransfer?s("div",{staticClass:"flex items-center nd-pr-4 font-size-caption"},[s("q-icon",{staticClass:"q-ma-none icon q-mr-xs",attrs:{name:"fas fa-clock",size:"12px"}}),t._v("\n              支援轉贈\n            ")],1):t._e()]):t._e()]),s("div",{staticClass:"bg-white nd-mt-2 nd-p-4"},[s("div",{staticClass:"text-weight-medium"},[t._v("商品內容")]),s("div",{staticClass:"nd-font-size-caption text-grey-8 nd-mb-2"},[t._v("電子票券數量："+t._s(t.totalNum)+" 張")]),t._l(t.info.voucher_map,(function(e,i){return s("q-expansion-item",{key:"voucher-"+i,staticClass:"font-size-body-1 text-weight-medium",attrs:{dense:"","header-class":"nd-p-0","expand-icon-class":"nd-m-0 nd-text-neutral-5 justify-xs-start nd-mt-1"},scopedSlots:t._u([{key:"header",fn:function(){return[s("q-item-section",{staticClass:"justify-xs-start",attrs:{avatar:""}},[s("nd-icon",{staticClass:"b-bg nd-mt-2",attrs:{name:"tickets",size:"17px"}})],1),s("q-item-section",{staticClass:"justify-xs-start nd-mt-1"},[t._v("\n                "+t._s(e.name)+" "+t._s(e.amount)+" 張\n              ")])]},proxy:!0}],null,!0)},[s("div",{staticClass:"bg-grey-2 nd-p-2 nd-mb-4"},[s("voucher-use-info",{attrs:{voucher:e,info:t.info}})],1)])}))],2),s("div",{staticClass:"bg-white nd-mt-2 nd-p-4"},[s("nd-more",{attrs:{headerCollapse:!0,height:75}},[s("template",{slot:"header"},[s("div",{staticClass:"text-weight-medium"},[t._v("退貨說明")])]),[s("div",{staticClass:"font-size-body-1 text-grey-8 nd-mt-2"},[s("voucher-return-des",{attrs:{brandName:t.storeInfo.brand_name,supportInfo:t.info.support_info}})],1)]],2)],1),s("div",{staticClass:"bg-white nd-mt-2 nd-p-4"},[s("nd-more",{attrs:{headerCollapse:!0,height:75}},[s("template",{slot:"header"},[s("div",{staticClass:"text-weight-medium"},[t._v("發行商資訊及履約保證")])]),[s("voucher-publisher-info",{attrs:{info:t.info}})]],2)],1)])]),s("q-card-actions",{class:["row q-pa-md border-top full-width bg-white",{"mobile-actions":t.$q.screen.lt.md}]},[s("div",{staticClass:"col-6"},[4!==t.storeInfo.store_mode?s("div",[t._v("\n          "+t._s(t.$t("menu.total"))+"\n          "+t._s(t.$t("menu.money",{money:t.totalPrice}))+"\n        ")]):t._e(),s("div",{staticClass:"q-pr-lg q-mt-sm"},[s("q-numeric",{staticClass:"input-number m-x-0",attrs:{min:1,max:999},model:{value:t.item_detail.amount,callback:function(e){t.$set(t.item_detail,"amount",e)},expression:"item_detail.amount"}})],1)]),s("div",{staticClass:"col-6 text-right"},[t.isLogin?t.isPhoneVerity&&!t.$route.meta.group_buying?s("router-link",{attrs:{to:"/certification"}},[s("q-btn",{staticClass:"btn-primary b-bg-secondary",on:{click:t.addProd}},[t._v("\n            "+t._s(t.$t("menu.btn.certification"))+"\n          ")])],1):s("q-btn",{staticClass:"btn-primary b-bg-secondary",attrs:{disabled:t.show.btn_spinner},on:{click:t.addProd}},[t.show.btn_spinner?s("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):t.itemSetUid?s("span",[t._v(t._s(t.$t("menu.btn.update_product")))]):s("span",[t._v("\n            "+t._s(4!==t.storeInfo.store_mode?t.$t("menu.btn.add_cart"):t.$t("menu.btn.add_product"))+"\n          ")])],1):s("router-link",{attrs:{to:"/login"}},[s("q-btn",{staticClass:"btn-primary b-bg-secondary",on:{click:t.addProd}},[t._v("\n            "+t._s(t.$t("menu.btn.login"))+"\n          ")])],1)],1)])],1):t._e()],1)},o=[],r=(i("c5f6"),i("791e")),n=i("0c66"),a=i("5bf6"),c=i("5473"),u=i("63f9"),d=i("1d2d"),l=i("8668"),M=i("7e04"),h=(i("955f"),{name:"menuModalVoucher",mixins:[r["a"]],props:{showModal:{type:Boolean,default:!1},storeInfo:{type:Object,default:function(){return{}}},orderId:{type:[Number,String]},orderInfo:{type:Object,default:function(){return{}}},itemSetUid:{type:Number,default:0},prodId:{type:[Number,String]},editProd:{type:Object},getOrderInfo:{type:Function}},components:{Hooper:M["a"],Slide:M["d"],HooperPagination:M["c"],"q-numeric":n["a"],"nd-icon":c["default"],"nd-more":a["a"],"voucher-use-info":u["a"],"voucher-return-des":d["a"],"voucher-publisher-info":l["a"]},data:function(){return{show:{btn_spinner:!1,loading:!1},item_detail:{amount:1,item:{},price:0},info:{},isEdit:!1}},computed:{openModal:{set:function(t){this.$emit("update:showModal",t)},get:function(){return this.showModal}},totalPrice:function(){return this.item_detail.price*this.item_detail.amount},totalNum:function(){return this.info&&this.info.voucher_map?this.info.voucher_map.reduce((function(t,e){return t+e.amount}),0):0},showTransfer:function(){return this.info.voucher_map&&this.info.voucher_map.every((function(t){return t.is_transferable}))},prodImgH:function(){var t=this.$q.screen.width;return t<600?"280px":t>=600&&t<1024?"300px":"320px"}},methods:{getVoucherDetail:function(){var t=this;this.info={};var e="/store/".concat(this.storeInfo.id,"/voucherProduct/").concat(this.prodId,"/info");this.getDataH(e,null).then((function(e){200===e.data.status&&(t.info=e.data.info,t.item_detail.price=parseInt(e.data.info.total_sale_money,10),t.restartHopper())})).catch((function(e){t.openModal=!1}))},addProd:function(){var t=this;if(this.moment().isBefore(this.info.sale_start_time))this.dialog("商品尚未開賣，請於 ".concat(this.info.sale_start_time," 再來購買。"));else{this.show.btn_spinner=!0;var e={items:[]},i={product_id:this.info.id,type:this.info.type,amount:this.item_detail.amount};e.items.push(i),this.orderInfo.order_status>0?this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"您尚有未付款的票券訂單，請完成付款後再繼續操作。",ok:{label:"前往付款",color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){t.$router.push("/orderList/voucher/"+t.orderInfo.order_id)})):this.itemSetUid?this.updateProd(i):this.orderId?this.addNewProd(e):this.isLogin&&this.addNewCart(e)}},addNewCart:function(t){var e=this,i="/voucherOrder/cartItem",s={brand_id:this.storeInfo.brand_id,store_id:this.storeInfo.id,is_empty:0,total_money:this.totalPrice,products:JSON.stringify(t)};this.postDataH(i,s).then((function(t){if(200===t.data.status){var i=e.$store.state.order.cart_amount+1;e.$set(e.orderInfo,"order_id",t.data.order_id),e.$set(e.orderInfo,"total_money",0),e.$set(e.orderInfo,"total_amount",0),e.$store.commit("order/setCartAmount",i),e.addSuccess()}})).catch((function(){e.show.btn_spinner=!1}))},updateProd:function(t){var e=this,i="/voucherOrder/"+this.orderId+"/cartProductItem/"+this.prodId,s={total_money:this.totalPrice,product:JSON.stringify(t),store_id:this.storeInfo.id};this.putDataH(i,s).then((function(t){200===t.data.status&&(e.addSuccess(!0),e.getOrderInfo())})).catch((function(){e.show.btn_spinner=!1}))},addNewProd:function(t){var e=this,i="/voucherOrder/"+this.orderId+"/cartProductItem",s={total_money:this.totalPrice,products:JSON.stringify(t),store_id:this.storeInfo.id};this.postDataH(i,s).then((function(t){200===t.data.status&&e.addSuccess()})).catch((function(){e.show.btn_spinner=!1}))},addSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(this.orderInfo.total_amount||0)+this.item_detail.amount,i=(this.orderInfo.total_money||0)+this.totalPrice;this.$set(this.orderInfo,"total_money",i),this.$set(this.orderInfo,"total_amount",e),t||this.$store.commit("cart/addVoucher",{id:this.info.id,num:this.item_detail.amount});var s="成功加入購物車，記得送單喔～";this.itemSetUid&&(s="成功更新商品"),this.$q.notify({icon:"check_circle",message:s,color:"positive",timeout:1e3,position:"bottom"}),this.show.btn_spinner=!1,this.openModal=!1,this.itemSetUid||(this.item_detail.amount=1,this.item_detail.item={})},setItemDetail:function(){var t=this,e=this.editProd;this.$nextTick((function(){t.$set(t.item_detail,"amount",e.amount),t.$set(t.item_detail,"price",e.price),t.$set(t.item_detail,"item",e)}))},clearOptions:function(){this.item_detail={amount:1,item:{},price:0}},clearEdit:function(t){t&&(this.isEdit=!1,this.$emit("clearEditProd",!0))},restartHopper:function(){var t=this;this.$nextTick((function(){t.info.product_images&&t.info.product_images.length&&(t.show.loading=!0,setTimeout((function(){t.show.loading=!1,t.$refs["prod-detail-img"]&&(t.$refs["prod-detail-img"].update(),t.$refs["prod-detail-img"].restart(),t.$refs["prod-detail-img"].restartTimer())}),700))}))}},watch:{itemSetUid:function(){this.editProd&&"undefined"!==this.editProd&&this.setItemDetail()},showModal:function(t){this.editProd&&"undefined"!==this.editProd&&this.setItemDetail(),t&&(this.clearOptions(),this.getVoucherDetail())}}}),p=h,m=(i("426d"),i("2877")),g=Object(m["a"])(p,s,o,!1,null,"3f3c6834",null);e["a"]=g.exports},"14d2":function(t,e,i){"use strict";var s=i("ef40"),o=i.n(s);o.a},"14e5":function(t,e,i){"use strict";var s=i("ceb1"),o=i.n(s);o.a},"16a7":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.wayMemo&&t.wayMemo.length?i("nd-message-block",{staticClass:"q-mt-xs",attrs:{content:t.wayMemo,icon:"error"}}):t._e(),2!==t.deliveryType?i("div",[i("nd-input-label",{staticClass:"q-mt-md",attrs:{ellipsis:!1,opt:t.opt,value:t.inputAddress},on:{updateClick:t.updateEvent}}),2===t.$store.state.location.dialogRange?i("nd-location-dialog",{on:{favoriteComplete:t.favoriteComplete,favoriteError:t.favoriteError,updateDelivery:function(e){return t.updateDelivery(e)}}}):t._e()],1):t._e()],1)},o=[],r=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("456d"),i("f751"),i("8993")),n=i.n(r),a=i("c47a"),c=i.n(a),u=(i("20d6"),i("551c"),i("06db"),i("967e")),d=i.n(u),l=(i("96cf"),i("fa84")),M=i.n(l),h=i("4db1"),p=i.n(h),m=(i("3b2b"),i("7f7f"),i("a481"),i("7514"),i("c5f6"),i("3f8d")),g=i("791e"),f=i("a62e"),y=i("808d"),I=i("7b29"),N=i("45889"),D=i("ff48"),j=i("8a92");function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var x={name:"NdDeliveryInfo",components:{"nd-address-select":D["default"],"nd-input-label":I["default"],"nd-location-dialog":j["default"],"nd-message-block":N["a"]},mixins:[g["a"],f["a"],y["a"]],props:{deliveryType:Number,deliveryTrigger:Function,orderAttach:Object,orderInfo:Object,orderOthers:Object,storeInfo:Object},data:function(){return{debug:!1,isFirst:!0,addressContent:{address:"",address_short:"",address_remark:"",address_formatted:"",area_code:"",city_code:"",latitude:0,location:"",longitude:0},addressList:[],approvedFavoriteAddress:!1,cacheAddress:[],disRank:{success:!0,text:""},cityList:[],delivery_info:{address:"",address_area_code:0,address_city_code:0,address_formatted:"",address_short:"",delivery_distance:0,delivery_duration:0,delivery_latitude:0,delivery_location:"",delivery_longitude:0,delivery_reserv_end_time:"",delivery_reserv_start_time:"",distance_service_model:0,distance_service_vendor:0,distance_service_vendor_info:{distanceMatrix:{},geocode:[]},delivery_type:3,store_address:""},errorText:"",favoriteCurr:0,show:{btn_spinner:!1},version:"v1.0.4"}},computed:{inputAddress:function(){var t=this.addressData.address;return this.addressData.address_remark&&(t+=" (".concat(this.addressData.address_remark,")")),t},opt:function(){var t="arrow";1===this.deliveryType&&(t="googlemap");var e="請確認取貨門市位置，點選地圖查看",i="";if(3===this.deliveryType){var s=Math.floor(this.orderInfo.delivery_distance/1e3*10)/10;e="外送時間會因尖峰時段延長，請見諒",i="距離門市".concat(s,"公里")}return{errorText:3===this.deliveryType?this.errorText:"",icon:t,name:e,notInput:!0,placeholder:"請輸入地址",required:!0,hint:i}},favoriteAddress:function(){var t=this.$store.state.location.favoriteAddressList,e=t.find((function(t){return 1===t.is_default}));return e&&(this.favoriteCurr=e.id),t},addressData:function(){var t=this.orderInfo||{},e=this.storeInfo||{};if(1===t.delivery_type)return{address:e.address};if(!t||!t.delivery_address)return{address:"",address_short:"",address_remark:"",address_formatted:"",area_code:0,city_code:0,latitude:0,location:"",longitude:0,distance:0,duration:0,src_type:null};var i=t.delivery_location||t.address_remark||"",s={address:t.delivery_address,address_short:t.delivery_address_short,address_remark:i,address_formatted:t.address_formatted,area_code:t.delivery_area_code?1*t.delivery_area_code:0,city_code:t.delivery_city_code?1*t.delivery_city_code:0,latitude:t.delivery_latitude?1*t.delivery_latitude:0,location:i,longitude:t.delivery_longitude?1*t.delivery_longitude:0,distance:t.delivery_distance?1*t.delivery_distance:0,duration:t.delivery_duration?1*t.delivery_duration:0,src_type:null};return"undefined"!==typeof t.delivery_src_type&&null!==t.delivery_src_type&&(s.src_type=t.delivery_src_type?1*t.delivery_src_type:null),s},addresRepeat:function(){var t=this,e=!1;return e=this.favoriteAddress.some((function(e){return e.address===t.handlerAddress})),e},cacheKeyDeliveryInfo:function(){var t="";return this.$route.params.order_id&&(t="Nidin_".concat(this.$route.params.order_id,"_delivery_info")),t},deliveryInfoErrorMessage:function(){return this.$store.state.cart.deliveryInfoErrorMessage},favoriteCurrInfo:function(){var t=this,e={},i=this.favoriteAddress.find((function(e){return e.id===t.favoriteCurr}));return i&&(e=i),e},handlerAddress:function(){var t,e,i,s,o=this.addressData.address;return this.matchAddressInfo.mCity.length>1&&o&&(t=o.slice(0,o.indexOf(this.matchAddressInfo.city.label,1)),e=o.slice(o.indexOf(this.matchAddressInfo.city.label,1)),e=e.replace(this.matchAddressInfo.city.label,""),o=t+e),this.matchAddressInfo.mArea.length>1&&o&&(i=o.slice(0,o.indexOf(this.matchAddressInfo.area.name,1)),s=o.slice(o.indexOf(this.matchAddressInfo.area.name,1)),s=s.replace(this.matchAddressInfo.area.name,""),o=i+s),o},height:function(){var t="";return t=this.$q.screen.lt.md?"min-height: calc(".concat(this.dialogH,"px - 170px); max-height: calc(").concat(this.dialogH,"px - 170px);"):"max-height: calc(".concat(this.dialogH,"px - 260px)"),t},transitionHide:function(){return this.$q.screen.lt.md?"slide-right":"scale"},transitionShow:function(){return this.$q.screen.lt.md?"slide-left":"scale"},matchAddressInfo:function(){var t=this,e={},i={},s={},o={};this.cityList&&this.cityList.length&&(i=this.cityList.find((function(e){return e.value===t.addressData.city_code}))||{}),i&&i.area_list&&(e=i.area_list.find((function(e){return e.area_code===t.addressData.area_code}))||{}),i&&i.label&&(s.city=i.label),e&&e.name&&(s.area=e.name);var r,n,a=new RegExp(s.city,"gm"),c=new RegExp(s.area,"gm"),u=this.addressData.address,d=[],l=[];while(null!==(r=a.exec(u)))r.index===a.lastIndex&&a.lastIndex++,r.forEach((function(t,e){d.push({match:t,groupIndex:e})}));while(null!==(n=c.exec(u)))n.index===c.lastIndex&&c.lastIndex++,n.forEach((function(t,e){l.push({match:t,groupIndex:e})}));return o={city:i,area:e,mCity:d,mArea:l},o},wayMemo:function(){var t=this,e=[];3===this.deliveryType&&e.push("地址是否符合外送門檻以實際系統計算距離為準。");var i=this.storeInfo.delivery_way_memo.filter((function(e){return e.delivery_type===t.deliveryType}))||[];return i.length>0&&(e=[].concat(p()(e),[i[0].memo])),e}},watch:{deliveryInfoErrorMessage:{immediate:!0,deep:!0,handler:function(t){this.errorText=t}},orderInfo:{immediate:!0,deep:!0,handler:function(){var t=M()(d.a.mark((function t(e,i){var s;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=_.isEqual(e,i),!s){t.next=3;break}return t.abrupt("return");case 3:if(this.setTempLocation(),3===this.deliveryType){t.next=6;break}return t.abrupt("return");case 6:if(!this.isFirst){t.next=11;break}return this.isFirst=!1,t.next=10,this.getCacheAddress();case 10:this.updateDelivery(this.addressData);case 11:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},disRank:{immediate:!0,deep:!0,handler:function(t){t.success?this.errorText="":this.errorText=t.text}},deliveryTotalPaid:{immediate:!0,handler:function(){this.checkAddressLimit()}},deliveryType:{immediate:!0,handler:function(){3===this.deliveryType&&this.checkAddressLimit()}}},methods:{checkDistanceAndTime:function(){var t=this;return new Promise(function(){var e=M()(d.a.mark((function e(i,s){var o;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=t.cacheAddress.findIndex((function(e){return e.address===t.addressContent.address&&e.store_address===t.storeInfo.address&&e.delivery_distance&&e.delivery_duration&&e.distance_service_model===t.storeInfo.distance_service_model&&e.delivery_latitude===t.delivery_info.delivery_latitude&&e.delivery_longitude===t.delivery_info.delivery_longitude&&t.moment(e.cache_expire_time).isAfter(t.moment())})),-1===o){e.next=9;break}t.delivery_info.distance_service_model=t.cacheAddress[o].distance_service_model,t.delivery_info.delivery_distance=t.cacheAddress[o].delivery_distance,t.delivery_info.delivery_duration=t.cacheAddress[o].delivery_duration,t.delivery_info.distance_service_vendor_info.distanceMatrix=t.cacheAddress[o].distance_service_vendor_info.distanceMatrix,e.next=11;break;case 9:return e.next=11,t.fetchMatrix();case 11:i(),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),s(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,i){return e.apply(this,arguments)}}())},closeSpinnerModal:function(){this.show.btn_spinner=!1,this.toggleLocationDialog(!1)},favoriteComplete:function(){this.$q.notify({icon:"check_circle",message:this.$t("account.success_update",{text:this.$t("account.common_address")}),color:"positive",timeout:2500,position:"bottom"})},favoriteError:function(){this.$q.notify({icon:"warning",message:this.$t("account.failed_update",{text:this.$t("account.common_address")}),color:"secondary",timeout:2500,position:"bottom"})},fetchMatrix:function(){var t=M()(d.a.mark((function t(){var e,i,s;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e={from:"deliveryInfo → fetchMatrix",origins:"",destinations:"",distance_service_model:this.storeInfo.distance_service_model,originAddressFormatted:this.storeInfo.address,destinationAddressFormatted:this.delivery_info.address},this.storeInfo.latitude&&this.storeInfo.longitude&&this.delivery_info.delivery_latitude&&this.delivery_info.delivery_longitude?(e.origins="".concat(this.storeInfo.latitude,",").concat(this.storeInfo.longitude),e.destinations="".concat(this.delivery_info.delivery_latitude,",").concat(this.delivery_info.delivery_longitude)):(e.origins=this.storeInfo.address,e.destinations=this.delivery_info.address),t.next=5,Object(m["d"])(e);case 5:i=t.sent,s=this.storeInfo.distance_service_model,this.delivery_info.distance_service_model=s,this.delivery_info.delivery_distance=i.results.rows[0].elements[0].distance.value,this.delivery_info.delivery_duration=12===s||13===s||14===s?i.results.rows[0].elements[0].duration.value:Math.round(i.results.rows[0].elements[0].duration.value/4.8),this.delivery_info.distance_service_vendor_info.distanceMatrix=i.results,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.handlerMapError(t.t0,"找不到位置，請自行確認您訂單是否符合外送門檻，以避免被門市退單");case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}(),getCacheAddress:function(){var t=M()(d.a.mark((function t(){var e,i,s,o=this;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$vlf.getItem("Nidin_user_".concat(this.$store.state.user.user_info.user_id,"_delivery_info_address_map"));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:e=t.t0,i=e.findIndex((function(t){return t.version===o.version})),s=[],-1!==i&&(s=e),this.cacheAddress=s;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handlerMapError:function(t,e){this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:e,ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"},persistent:!0}),this.show.btn_spinner=!1,this.updateOrderInfo({from:"handlerMapError",msg:"外送地址錯誤"}),this.deliveryTrigger(this.delivery_info,31)},saveDeliveryInfo:function(){var t=M()(d.a.mark((function t(){var e,i=arguments;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:{address:"",address_short:"",address_remark:"",address_formatted:"",area_code:0,city_code:0,latitude:0,location:"",longitude:0,distance:0,duration:0,src_type:0},e.city_code){t.next=4;break}return this.tips(this.$t("error.no_city_code")),t.abrupt("return");case 4:if(e.area_code){t.next=7;break}return this.tips(this.$t("error.no_area_code")),t.abrupt("return");case 7:if(e.address_short){t.next=10;break}return this.tips(this.$t("error.no_address")),t.abrupt("return");case 10:if(!(this.approvedFavoriteAddress&&this.favoriteAddress&&this.favoriteAddress.length>=10)){t.next=13;break}return this.tips("已達常用地址設定上限，最多僅限十筆，可至我的/常用地址變更。"),t.abrupt("return");case 13:if(t.prev=13,this.show.btn_spinner=!0,this.setDeliveryInfo(e),!this.addressContent.address){t.next=20;break}return t.next=19,this.checkDistanceAndTime();case 19:this.setAddressFormat();case 20:this.updateOrderInfo({form:"saveDeliveryInfo",msg:"確認外送地址"}),this.deliveryTrigger(this.delivery_info,2),this.setCacheDeliveryInfoAddressMap(),this.$q.sessionStorage.set(this.cacheKeyDeliveryInfo,L({},this.delivery_info,{version:this.version})),this.closeSpinnerModal(),t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](13),this.closeSpinnerModal();case 31:case"end":return t.stop()}}),t,this,[[13,27]])})));function e(){return t.apply(this,arguments)}return e}(),setAddressFormat:function(){var t="";this.delivery_info.distance_service_vendor_info.geocode&&Array.isArray(this.delivery_info.distance_service_vendor_info.geocode)&&this.delivery_info.distance_service_vendor_info.geocode.length?t=this.delivery_info.distance_service_vendor_info.geocode[0].formatted_address:this.delivery_info.distance_service_vendor_info.distanceMatrix&&"object"===n()(this.delivery_info.distance_service_vendor_info.distanceMatrix)&&this.delivery_info.distance_service_vendor_info.distanceMatrix.destinationAddresses&&Array.isArray(this.delivery_info.distance_service_vendor_info.distanceMatrix.destinationAddresses)&&this.delivery_info.distance_service_vendor_info.distanceMatrix.destinationAddresses.length&&(t=this.delivery_info.distance_service_vendor_info.distanceMatrix.destinationAddresses[0]),this.addressContent.address_formatted=t,this.delivery_info.address_formatted=t},setCacheDeliveryInfoAddressMap:function(){var t=M()(d.a.mark((function t(){var e,i,s,o,r,n,a=this;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.cacheAddress.findIndex((function(t){return t.address===a.delivery_info.address&&t.store_address===a.storeInfo.address&&t.distance_service_model===a.delivery_info.distance_service_model})),-1!==e&&(this.cacheAddress[e].delivery_latitude||(this.cacheAddress[e].delivery_latitude=this.delivery_info.delivery_latitude),this.cacheAddress[e].delivery_longitude||(this.cacheAddress[e].delivery_longitude=this.delivery_info.delivery_longitude)),-1===e&&(i=_.cloneDeep(this.delivery_info),i.address&&(i.version=this.version,i.cache_expire_time=this.moment().add(1,"days").format("YYYY-MM-DD HH:mm:ss"),this.cacheAddress.push(i))),s=_.cloneDeep(this.cacheAddress),t.next=6,this.$vlf.getItem("Nidin_user_".concat(this.$store.state.user.user_info.user_id,"_delivery_info_address_map"));case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=[];case 9:o=t.t0,r=!1,r=_.isEqual(s,o),r||(n=JSON.parse(JSON.stringify(s)),this.setVlf({key:"Nidin_user_".concat(this.$store.state.user.user_info.user_id,"_delivery_info_address_map"),value:n}));case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setDeliveryInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{address:"",address_short:"",address_remark:"",area_code:0,city_code:0,latitude:0,location:"",longitude:0,src_type:0},e=t.address_remark||t.loc_name||t.location||t.delivery_location;this.delivery_info.address=t.address,this.delivery_info.address_area_code=t.area_code,this.delivery_info.address_city_code=t.city_code,this.delivery_info.address_short=t.address_short,this.delivery_info.delivery_latitude=t.latitude,this.delivery_info.delivery_location=e,this.delivery_info.delivery_longitude=t.longitude,this.delivery_info.store_address=this.storeInfo.address},setTempLocation:function(){var t=this.addressData,e=t.address,i=void 0===e?"":e,s=t.address_remark,o=void 0===s?"":s,r=t.address_short,n=void 0===r?"":r,a=t.area_code,c=void 0===a?0:a,u=t.city_code,d=void 0===u?0:u,l=t.latitude,M=void 0===l?0:l,h=t.longitude,p=void 0===h?0:h,m=this.favoriteAddress.find((function(t){return t.address===i}))||{id:0},g={src_type:null,tempAreaCode:c,tempAddressLogsCurrentId:0,tempAddressRemarkText:o||"",tempAddressShortText:n,tempCityCode:d,tempFavoriteCurrentId:m.id,tempLatitude:M,tempLongitude:p,tempSrcType:null};this.delivery_info.delivery_src_type&&(g.src_type=this.delivery_info.delivery_src_type,g.tempSrcType=this.delivery_info.delivery_src_type),this.$store.commit("location/SET_LOCATION_DATA",g)},tips:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:t,ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"}})},toggleLocationDialog:function(){var t=M()(d.a.mark((function t(e){var i;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e&&(this.setTempLocation(),i=this.delivery_info.delivery_src_type||this.addressData.src_type,i&&1!=i?this.$store.commit("location/SET_DIALOG_LAYOUT",2):this.$store.commit("location/SET_DIALOG_LAYOUT",1),this.$store.commit("location/SET_DIALOG_RANGE",2)),this.$store.commit("location/SET_DIALOG_VISIBLE",e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),updateDelivery:function(){var t=M()(d.a.mark((function t(){var e,i,s,o=arguments;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:{address:"",address_short:"",address_remark:"",address_formatted:"",area_code:0,city_code:0,latitude:0,location:"",longitude:0,distance:0,duration:0,src_type:0},i=e.address_remark||e.loc_name||e.location||e.delivery_location,s={address:e.address,area_code:e.area_code,city_code:e.city_code,address_area_code:e.area_code,address_city_code:e.city_code,address_formatted:e.address,address_short:e.address_short,address_remark:i,location:i,delivery_location:i,delivery_latitude:e.latitude,delivery_longitude:e.longitude},e.src_type&&(s.src_type=e.src_type,s.delivery_src_type=e.src_type),this.addressContent=Object.assign(this.addressContent,s),this.delivery_info=Object.assign(this.delivery_info,s),3!==this.deliveryType||s.address){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,this.saveDeliveryInfo(e);case 10:this.checkAddressLimit();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateEvent:function(){1===this.deliveryType?window.open(this.linkMap(this.storeInfo),"_blank").focus():3===this.deliveryType&&this.toggleLocationDialog(!0)},updateOrderInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:""},e=t.from,i=void 0===e?"":e;this.debug,this.$emit("update:order-info",this.delivery_info,i)}}},T=x,w=i("2877"),A=Object(w["a"])(T,s,o,!1,null,null,null);e["a"]=A.exports},1816:function(t,e,i){},"199f":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.orders.show.error?i("div",{staticClass:"row full-width q-mt-lg"},[i("nd-spinner",{attrs:{name:"error",description:t.$t("error.web_error")}})],1):t.orders.show.loading?i("div",{staticClass:"row full-width q-mt-lg"},[i("nd-spinner",{attrs:{name:"loading",description:t.$t("spinner.loading")}})],1):t.orders.show.order_empty||!t.orders.total?i("div",{staticClass:"row full-width q-mt-lg"},[i("nd-spinner",{attrs:{name:"order_empty"}})],1):i("div",{staticClass:"row full-width"},[i("q-infinite-scroll",{ref:t.type+"Loading",staticClass:"row full-width",attrs:{offset:250},on:{load:t.listOnLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[i("div",{staticClass:"row justify-center q-my-md"},[i("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},t._l(t.orders.list,(function(e,s){return i("div",{key:"cart-"+s,staticClass:"col-xs-12 col-sm-6 col-md-4 q-px-md q-my-sm"},[i("div",{staticClass:"full-height",on:{click:function(i){return t.goPage(e)}}},[i("order-block-v2",{attrs:{orderInfo:e,type:t.type},on:{reload:function(i){return t.delCart(e)}}})],1)])})),0)],1)])},o=[],r=(i("6762"),i("2fdb"),i("791e")),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-height flex items-center cursor-pointer bg-white shadow q-pa-none border-around overflow-hidden"},[t.statusName?i("div",{staticClass:"title text-center flex flex-center column absolute full-width",class:t.statusColor},[i("div",{staticClass:"font-size-subtitle-1 text-bold text-capitalize text-white"},[t._v("\n      "+t._s(t.statusName)+"\n    ")]),130===this.orderInfo.status&&130===t.deliveryComplete.status?i("div",{staticClass:"font-size-caption text-capitalize text-white"},[t._v("\n      "+t._s(t.statusSubName)+"\n    ")]):t._e()]):t._e(),i("div",{staticClass:"q-pa-md full-width full-height items-center flex",class:t.statusName?"n-pt-status":""},[i("div",{staticClass:"flex justify-between items-center q-mb-sm absolute full-width q-px-md q-pt-md",class:t.statusName?"n-pt-status":"",staticStyle:{top:"0px",left:"0px"}},[i("div",{staticClass:"text-left"},[t.orderType?i("q-badge",{staticClass:"border",attrs:{label:t.orderType}}):t._e()],1),i("div",{staticClass:"text-right"},[t.statusName?i("div",[t._v(t._s(t.getTime(1,t.orderInfo.order_time,"MM/DD HH:mm")))]):i("div",[t._v(t._s(t.getTime(1,t.orderInfo.create_time,"MM/DD HH:mm")))])])]),i("div",{staticClass:"flex column full-width"},[i("div",{staticClass:"flex flex-center",staticStyle:{"margin-top":"33px"}},[t.orderInfo.store_image?i("div",{staticStyle:{width:"70px"}},[i("q-img",{attrs:{src:t.orderInfo.store_image,ratio:1,"img-class":"circle border"}})],1):t.orderInfo.store_images?i("div",{staticStyle:{width:"70px"}},[i("img",{staticClass:"full-width circle border",attrs:{src:t.orderInfo.store_images[0],alt:""}})]):t._e()]),i("div",{staticClass:"text-center q-mt-sm"},[i("div",{staticClass:"font-size-subtitle-1 mobile-small"},[t._v(t._s(t.orderInfo.total_amount)+" 項商品")]),i("div"),i("div",{staticClass:"font-size-subtitle-1 mobile-small"},[t._v(t._s(t.orderInfo.brand_name_s)+" "+t._s(t.orderInfo.store_name_s))]),i("hr",{staticClass:"q-my-sm"}),i("div",{staticClass:"text-bold font-size-h5 q-py-sm"},[t._v(t._s(t.$t("order.total",{money:t.money||0})))]),"carts"===t.$route.name||"cart"===t.$route.name||"OnSiteCheckout"===t.$route.name?i("div",{staticClass:"q-my-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill",attrs:{label:t.$t("order.order_pay")}})],1):t._e(),t.showDelete&&!t.orderInfo.order_status?i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"absolute q-pa-sm cursor",staticStyle:{right:"-10px",bottom:"0px"},on:{click:function(e){return e.stopPropagation(),t.clickDelBtn(e)}}},[i("q-icon",{attrs:{name:"delete",size:"20px",color:"secondary"}})],1):t._e(),t.$route.path.includes("orders")&&!t.orderInfo.is_rated&&t.orderInfo.can_rating&&"voucher"!==t.type?i("div",{staticClass:"q-my-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill bg-secondary",attrs:{label:"前往評價"}})],1):t.$route.path.includes("orders")&&!t.disReorder?i("div",{staticClass:"q-my-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill",class:t.disReorder?"bg-white":"bg-secondary",attrs:{label:t.$t("order.order_again"),disable:t.disReorder},on:{click:function(e){return e.stopPropagation(),t.clickReorderBtn(e)}}})],1):t._e()])])])])},a=[],c=(i("7f7f"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c1df")),u=i.n(c),d=i("179c"),l={mixins:[r["a"],d["a"]],props:{orderInfo:Object,type:String},data:function(){return{show:{modal_del_cart:!1}}},methods:{rebuildOrder:function(){var t=this,e="voucher"===this.type?"/voucherOrder/":"/order/",i=e+this.orderInfo.order_id+"/rebuild";this.putDataH(i,null).then((function(e){if(200===e.data.status){var i=t.$store.state.order.cart_amount+1;t.$store.commit("order/setCartAmount",i),t.$router.push({path:("voucher"===t.type?"/orderList/voucher/":"/orderList/")+e.data.order_id,query:{f:"reorder"}})}})).catch((function(t){}))},checkRebuildOrder:function(){var t=this,e="voucher"===this.type?"/voucherOrder/":"/order/",i=e+this.orderInfo.order_id+"/rebuildCheck";this.getDataH(i,null).then((function(e){if(200===e.data.status){var i=e.data.invalid_orders||{},s="";if(Object.keys(i).length){for(var o in i){for(var r=t.$t("common.order")+"&nbsp;"+o,n="",a=0;a<i[o].error.length;a++){var c=a+1;n=n+"<br>"+c+". "+i[o].error[a].msg,c===i[o].error.length&&(n+="<br><br>")}s=s+r+n}t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:s,ok:{label:t.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:t.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},html:!0}).onOk((function(){t.rebuildOrder()}))}else t.rebuildOrder()}})).catch((function(e){switch(e.data.status){case t.$config.orderVersionError:t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:t.$t("dialog.q.confirm_reorder"),cancel:{label:t.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},ok:{label:t.$t("dialog.confirm"),color:"primary",textColor:"white"},html:!0}).onOk((function(){t.$router.push("/menu/"+t.orderInfo.store_id)}));break;case t.$config.voucherRebuildProductsDisable:t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:"因商品有更新，將跳轉至菜單頁以查看最新商品。",ok:{label:"前往",color:"primary",textColor:"white"}}).onOk((function(){t.$router.push({path:"/menu/"+t.orderInfo.store_id,query:{t:"voucher"}})}));break;case t.$config.voucherRebuildCartExist:t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:"您尚有未付款的票券訂單，請完成付款後再繼續操作。",ok:{label:"前往付款",color:"primary",textColor:"white"},cancel:{label:t.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){t.$router.push("/orderList/voucher/"+e.data.order_id)}));break}}))},clickReorderBtn:function(){this.checkRebuildOrder()},clickDelBtn:function(){var t=this;this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:this.$t("dialog.q.confirm_del_order"),ok:{label:this.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){t.delCart(),t.setGATag("delete_cart")}))},delCart:function(){var t=this,e="/carts/"+this.orderInfo.order_id;"voucher"===this.type&&(e="/voucherOrder/"+this.orderInfo.order_id+"/cart"),this.delDataH(e,null).then((function(e){if(200===e.data.status){t.$emit("reload",1);var i=t.$store.state.order.cart_amount-1;t.$store.commit("order/setCartAmount",i)}})).catch((function(t){}))},timeToTime:function(t){return u()(t,"HH:mm:ss").format("HH:mm")},mToKm:function(t){var e=t/1e3;return e.toFixed(1)+" km"},goToStore:function(){this.$router.push("/store/"+this.storeInfo.id)}},computed:{money:function(){return this.orderInfo.total_paid_money?this.orderInfo.total_paid_money:this.orderInfo.total_money},deliveryComplete:function(){var t=this.orderInfo.delivery_type,e={basic:{color:"bg-green",name:this.$t("status.complete"),status:130},prod_prepare:{color:"bg-primary",name:this.$t("status.preparing"),status:1301},prod_transport:{color:"bg-primary",name:this.$t("status.ready_to_deliver"),status:1302}};if(3===t){u()(this.orderTime.date+" "+this.orderTime.start,"YYYY-MM-DD HH:mm");var i=u()(this.orderTime.date+" "+this.orderTime.end,"YYYY-MM-DD HH:mm");if(13001===this.orderInfo.special_status)return e.prod_prepare;if(13002===this.orderInfo.special_status)return e.prod_transport;if(Date.parse(u()())>Date.parse(i))return e.basic}return e.basic},disReorder:function(){var t=this.orderInfo.status,e=this.orderInfo.order_type;return"voucher"===this.type?99!==t&&(120!==t&&(121!==t&&(130!==t&&140!==t))):this.orderInfo.shopper_id!==this.getUId||(3===e||99!==t&&(120!==t&&(121!==t&&(122!==t&&(140!==t&&130!==t)))))},orderType:function(){switch(this.orderInfo.order_type){case 2:return this.$t("common.group_buying");case 3:return this.$t("common.with_group");default:return!1}},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=u()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=u()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}},showDelete:function(){return"carts"===this.$route.name&&2!==this.orderInfo.order_status},statusName:function(){if("OnSiteCheckout"===this.$route.name)return"";if("voucher"===this.type)return this.voucherOrderStatus(this.orderInfo.status);switch(this.orderInfo.status){case 0:return this.$t("status.not_confirm");case 1:case 2:return this.$t("status.paying");case 3:return this.$t("status.connecting");case 100:return this.$t("status.not_accept");case 110:return this.$t("status.accept");case 99:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.cancel");case 120:case 121:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.reject");case 122:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.store_cancel");case 130:return this.deliveryComplete.name;case 140:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.invalid");case 31:return this.$t("status.grouping");case 35:return this.$t("status.group_success");case 39:return this.$t("status.group_fail");case 38:return this.$t("status.leader_del");default:return""}},statusColor:function(){if("voucher"===this.type)return this.voucherOrderStatusColor(this.orderInfo.status);switch(this.orderInfo.status){case 99:case 120:case 121:case 122:case 140:case 39:case 38:return"bg-secondary";case 35:case 130:return this.deliveryComplete.color;case 1:case 2:case 3:case 100:case 110:case 31:case 0:default:return"bg-primary"}},statusSubName:function(){var t="";switch(this.orderInfo.delivery_type){case 1:t="請依取貨時間取貨";break;case 2:t="請依取貨時間取貨";break;case 3:t="將於約定時間配達";break;default:break}return t}}},M=l,h=(i("a0e9"),i("2877")),p=Object(h["a"])(M,n,a,!1,null,"a27636ec",null),m=p.exports,g={name:"NdOrderList",mixins:[r["a"]],props:{type:{type:String,default:"product"},orders:{type:Object,default:function(){return{}}}},components:{"order-block-v2":m},methods:{listOnLoad:function(t,e){var i=this,s=Math.ceil(this.orders.total/this.orders.count);this.orders.page<s?setTimeout((function(){i.$emit("changePage",i.orders.page+1),i.$emit("getList"),e()}),2e3):this.$refs["".concat(this.type,"Loading")].stop()},goPage:function(t){var e="",i="voucher"===this.type?"/voucher/":"/";this.$route.path.includes("carts")?e="/orderList":this.$route.path.includes("orders")&&(e="/orderListInfo"),this.$router.push(e+i+t.order_id)},delCart:function(t){this.$emit("removeCart",{id:t.order_id,type:this.type})}}},_=g,f=Object(h["a"])(_,s,o,!1,null,null,null);e["a"]=f.exports},"1a3f":function(t,e,i){},"1a50":function(t,e,i){"use strict";var s=i("b7ae"),o=i.n(s);o.a},"1ae1":function(t,e,i){"use strict";var s=i("5ee5"),o=i.n(s);o.a},"1b50":function(t,e,i){t.exports=i.p+"img/din_prepare.fea56097.svg"},"1bad":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.favoriteApiStatus&&t.isLogin,expression:"favoriteApiStatus === 1 && isLogin"}],staticClass:"row"},[t.selectMode&&3!=t.dialogLayout?s("div",{staticClass:"col-12"},[s("div",{staticClass:"nd-font-size-body text-grey-7"},[t._v("\n        常用地址\n      ")])]):t._e(),s("div",{staticClass:"col-12"},[t.$store.state.location.cityAreaList.length?s("q-list",[t._l(t.favoriteAddressList,(function(e){return s("q-item",{key:e.id,staticClass:"q-my-sm",class:{"border rounded-borders":t.selectMode,"border-primary":t.tempFavoriteCurrentId===e.id},attrs:{clickable:t.selectMode,tag:t.selectMode?"label":null,"v-ripple":t.selectMode}},[t.selectMode?s("q-item-section",{attrs:{avatar:""}},[s("q-radio",{attrs:{val:e.id},model:{value:t.tempFavoriteCurrentId,callback:function(e){t.tempFavoriteCurrentId=e},expression:"tempFavoriteCurrentId"}})],1):t._e(),t.editMode?s("q-item-section",{attrs:{side:""}},[s("q-img",{attrs:{width:"24px",src:i("81a2")}})],1):t._e(),s("q-item-section",[s("q-item-label",{staticClass:"flex items-center"},[s("div",[t._v("\n                "+t._s(t.addressWithSpace(e))+"\n              ")]),e.is_default?s("q-badge",{staticClass:"nd-badge",attrs:{color:"blue"}},[t._v("\n                預設\n              ")]):t._e()],1),e.loc_name?s("q-item-label",{attrs:{caption:""}},[t._v("\n              "+t._s(e.loc_name)+"\n            ")]):t._e()],1),t.editMode?s("q-item-section",{attrs:{side:""}},[s("div",{staticClass:"text-grey"},[s("q-btn",{attrs:{size:"md",flat:"",dense:"",round:"",icon:"edit"},on:{click:function(i){return t.$emit("edit",e)}}}),s("q-btn",{attrs:{size:"md",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(i){return t.$emit("delete",e)}}})],1)]):t._e()],1)})),t.favoriteAddressList.length?t._e():s("q-item",[s("q-item-section",{staticClass:"text-center"},[t._v("\n            "+t._s(t.$t("common.common_address_empty"))+"\n          ")])],1)],2):t._e()],1)])])},o=[],r=(i("7f7f"),i("7514"),{name:"NdFavoriteAddress",props:{selectMode:{type:Boolean,default:!0},editMode:{type:Boolean,default:!1}},computed:{isLogin:function(){return this.$store.getters["user/uid"]},dialogLayout:function(){return this.$store.state.location.dialogLayout},favoriteAddressList:function(){return this.$store.state.location.favoriteAddressList},selectAddress:function(){var t=this;return this.favoriteAddressList.find((function(e){return e.id===t.tempFavoriteCurrentId}))},tempFavoriteCurrentId:{get:function(){return this.$store.state.location.tempFavoriteCurrentId},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$store.dispatch("location/setTempCurrentMode",{id:t,type:1})}},favoriteApiStatus:function(){return this.$store.state.location.favoriteApiStatus}},created:function(){this.$store.state.location.cityAreaList.length||this.$store.dispatch("location/getCityAreaList")},watch:{selectAddress:{deep:!0,handler:function(t){if(t){var e=this.selectAddress,i=e.id,s=e.city_code,o=e.area_code,r=e.address_short,n=e.loc_name,a=e.latitude,c=e.longitude;this.$store.commit("location/SET_LOCATION_DATA",{tempFavoriteCurrentId:i,tempCityCode:s,tempAreaCode:o,tempAddressShortText:r,tempAddressRemarkText:n||"",tempLatitude:a,tempLongitude:c})}}}},methods:{addressWithSpace:function(t){var e=this.$store.state.location.cityAreaList;if(e.length){var i=e.find((function(e){return e.city_code===t.city_code})),s=i.area_list.find((function(e){return e.area_code===t.area_code}));return"".concat(i.name).concat(s.name," ").concat(t.address_short)}return""}}}),n=r,a=(i("871b"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"32b7c4c0",null);e["default"]=c.exports},"1d2d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ol",{staticClass:"number-list"},[i("li",[t._v("本券未使用時皆可退款，原購買人可在本券歸戶後，透過「訂單>申請退貨」辦理商品退貨，退款金額依當初支付的金額計算退款後退回原支付工具。如確定退貨，發行人、履保商或系統商得保留收取返還金額百分之三之費用作為手續費之權利。")]),i("li",[t._v("本券於兌換期限到期時未使用者，視為雙方合意解除訂單，系統將自動進行退貨流程。")]),t._m(0),i("li",[t._v("優惠活動於退貨當下即解除買賣契約，該優惠活動與購買組數視同放棄，將無法回溯與返還。")]),t._l(t.supportList,(function(e,s){return i("li",{key:"support-"+s},[t._v("\n    "+t._s(e.text)+"\n    "),i("ul",{staticClass:"disc-list"},[e.content?[e.content.line&&!e.usage_type?i("li",[t._v("\n          Line 官方客服：\n          "),i("span",{staticClass:"text-primary cursor-pointer",on:{click:t.linkNidinLine}},[t._v(t._s(e.content.line))])]):t._e(),e.content.tel?i("li",[t._v("\n          客服電話：\n          "),i("a",{staticClass:"text-primary",attrs:{href:"tel:"+e.content.tel}},[t._v(t._s(e.content.tel))])]):t._e(),e.content.email?i("li",[t._v("\n          客服信箱：\n          "),i("a",{staticClass:"text-primary",attrs:{href:"mailto:"+e.content.email}},[t._v(t._s(e.content.email))])]):t._e(),e.content.service_hours?i("li",[t._v("\n          客服時段："+t._s(e.content.service_hours)+"\n        ")]):t._e()]:t._e()],2)])}))],2)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[t._v("套票退貨時，已使用的券無法享有優惠價，將以原價計價。\n    "),i("span",{staticClass:"text-weight-medium"},[t._v("退款金額 = 付款金額 - 已使用商品[(已兌商品數量 x 商品原價)] - 酌收退貨手續費 [(未使用單一商品的販售價 x 3%)] - [若曾有已退貨商品，將扣除該金額]")]),t._v("。\n  ")])}],r=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("55dd"),i("c47a")),n=i.n(r),a=i("791e");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={name:"voucherReturnDes",mixins:[a["a"]],props:{brandName:{type:String,default:""},supportInfo:{type:Array,default:function(){return[]}}},computed:{supportList:function(){var t=this,e=[];return this.supportInfo&&this.supportInfo.length>0&&(this.supportInfo.forEach((function(i){var s={};i.usage_type?1===i.usage_type?(s=u({},i,{text:"電子票券商品問題及活動優惠問題，請洽詢".concat(t.brandName,"。")}),e.push(s)):i.usage_type:(s=u({},i,{text:"電子票券購買、退貨及信託問題，請洽詢你訂Nidin！。"}),e.push(s))})),e=e.sort((function(t,e){return e.usage_type-t.usage_type}))),e}},methods:{linkNidinLine:function(){var t="https://page.line.me/nidin";window.open(t,"_blank")}}},l=d,M=i("2877"),h=Object(M["a"])(l,s,o,!1,null,null,null);e["a"]=h.exports},"1e9a":function(t,e,i){},"1edd":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.discountList.length?s("div",[s("div",[s("div",{staticClass:"nd-mb-2"},[s("q-radio",{attrs:{dense:"",val:1,label:"參加",disabled:!t.matchActivity.length||t.cupDisableActivity,row:""},on:{input:function(e){return t.saveDiscount(!0)}},model:{value:t.attendRadio,callback:function(e){t.attendRadio=e},expression:"attendRadio"}})],1),s("div",{on:{click:function(e){t.showDialog=!0}}},[t.attendRadio?s("input-label",{attrs:{opt:t.opt,value:""}},[s("template",{slot:"badge-before"},[s("span",{staticClass:"text-black"},[t._v("\n              已參加 1 檔活動，折抵\n            ")]),s("span",[t._v("\n              $"+t._s(t.appliableDiscount.total_discount||0)+"\n            ")])])],2):t._e()],1),s("div",[s("q-radio",{attrs:{dense:"",val:0,label:"不參加",row:""},on:{input:function(e){return t.saveDiscount(!1)}},model:{value:t.attendRadio,callback:function(e){t.attendRadio=e},expression:"attendRadio"}})],1)])]):s("div",{staticClass:"nd-text-neutral-6"},[t._v("\n    目前無活動\n  ")]),s("q-dialog",{attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[s("q-card",{staticClass:"q-card w-100 flex column no-wrap bg-m-gray",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("div",{staticClass:"nd-px-4 nd-py-3 border-bottom bg-white"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.showDialog=!1}}}),s("div",{staticClass:"nd-font-weight-medium font-size-subtitle-1"},[t._v("\n          現折活動\n        ")]),s("div",{staticClass:"nd-mt-3 nd-pb-2 flex justify-center confirm-input-button"},[s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col input-text border q-pl-md q-pr-sm"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.promoCode,expression:"promoCode"}],attrs:{type:"search",placeholder:"請輸入折扣碼"},domProps:{value:t.promoCode},on:{input:[function(e){e.target.composing||(t.promoCode=e.target.value)},function(e){t.promoCodeErrorText=""}]}}),s("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.promoCode,expression:"promoCode"}],staticStyle:{color:"#a3a3a3"},attrs:{name:"fas fa-times-circle"},on:{click:function(e){t.promoCode="",t.promoCodeErrorText=""}}})],1),s("button",{staticClass:"col-auto btn-submit cursor-pointer",attrs:{disabled:!!t.promoCodeErrorText},on:{click:t.submitPromoCode}},[t._v("\n              確認\n            ")])]),t.promoCodeErrorText?s("div",{staticClass:"nd-font-size-caption full-width nd-mt-1 text-secondary"},[t._v("\n            "+t._s(t.promoCodeErrorText)+"\n          ")]):t._e()])]),s("q-card-section",{staticClass:"nd-p-0 col-shrink scroll",style:t.$q.screen.lt.sm?"":"min-height: 200px;"},[t.matchActivity.length?s("div",{staticClass:"nd-p-4 bg-white nd-my-2"},[s("div",{staticClass:"flex items-center nd-mb-3"},[s("div",{staticClass:"nd-font-weight-medium "},[t._v("符合活動資格")]),s("div",{staticClass:"nd-font-size-caption nd-text-neutral-6 nd-ml-2"},[t._v("(擇一參加)")])]),s("div",[s("b-radio-list",{attrs:{list:t.matchActivity,opt:t.activityOpt,noIcon:!0,"init-value":!!t.activityId,value:t.activityId},on:{updateChange:t.setActivityId},scopedSlots:t._u([{key:"after-label",fn:function(e){var i=e.item;return[s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.showDetail(i)}}},[s("div",{staticClass:"flex items-center nd-text-neutral-6"},[s("div",{staticClass:"nd-font-size-caption"},[t._v("活動詳情")]),s("div",[s("q-icon",{class:{active:i.value===t.openId},attrs:{name:"fas fa-chevron-down",size:"8px"}})],1)])]),i.exchangeCode?s("div",{staticClass:"nd-font-size-caption nd-text-neutral-9 nd-bg-neutral-2 nd-px-2 nd-rounded-sm"},[t._v("\n                    使用折扣碼 "+t._s(i.exchangeCode)+"\n                  ")]):t._e()])]}},{key:"before-radio",fn:function(e){var i=e.item;return[s("div",{staticClass:"text-secondary nd-font-weight-medium nd-pr-4"},[t._v("\n                  -$"+t._s(i.discount||0)+"\n                ")])]}},{key:"description",fn:function(e){var i=e.item;return[s("transition",{attrs:{name:"fade"}},[i.value===t.openId?s("div",{staticClass:"font-size-caption nd-px-1"},[s("div",[t._v(t._s(t._f("showCombinedUseText")(i.rule)))]),s("div",{staticClass:"nd-text-neutral-6"},[t._v(t._s(i.description))])]):t._e()])]}}],null,!1,1257904974)})],1)]):t._e(),t.notMatchActivity.length?s("div",{staticClass:"nd-p-4 bg-white nd-mb-6"},[s("div",{staticClass:"nd-mb-3 nd-font-weight-medium"},[t._v("未符合活動資格")]),s("div",[s("b-radio-list",{attrs:{list:t.notMatchActivity,opt:t.activityOpt,noIcon:!0},scopedSlots:t._u([{key:"after-label",fn:function(e){var i=e.item;return[s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.showDetail(i)}}},[s("div",{staticClass:"flex items-center nd-text-neutral-6"},[s("div",{staticClass:"nd-font-size-caption"},[t._v("活動詳情")]),s("div",[s("q-icon",{class:{active:i.value===t.openId},attrs:{name:"fas fa-chevron-down",size:"8px"}})],1)])]),i.exchangeCode?s("div",{staticClass:"nd-font-size-caption nd-text-neutral-9 nd-bg-neutral-2 nd-px-2 nd-rounded-sm"},[t._v("\n                    使用折扣碼 "+t._s(i.exchangeCode)+"\n                  ")]):t._e()])]}},{key:"description",fn:function(e){var i=e.item;return[s("transition",{attrs:{name:"fade"}},[i.value===t.openId?s("div",{staticClass:"font-size-caption nd-px-1"},[s("div",[t._v(t._s(t._f("showCombinedUseText")(i.rule)))]),s("div",{staticClass:"nd-text-neutral-6"},[t._v(t._s(i.description))])]):t._e()])]}}],null,!1,2053975207)})],1)]):t._e(),t.show.loading?s("div",{staticClass:"loading"},[s("q-spinner-dots",{staticClass:"fixed-center",attrs:{color:"primary",size:"40px"}})],1):t._e()]),s("q-card-actions",{staticClass:"row q-mt-auto border-top bg-white"},[s("div",{staticClass:"col-12 text-center nd-mb-4 nd-font-size-caption"},[t.activityId?s("span",[t._v("\n            已參加 "),s("span",{staticClass:"text-secondary"},[t._v("1 項活動， 折抵 NT$"+t._s(t.chooseActivityDiscount))])]):s("span",[t._v("\n            尚未參加活動\n          ")])]),s("div",{staticClass:"col-12"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",class:{"bg-d-gray":t.show.btn_spinner},attrs:{disabled:t.show.btn_spinner},on:{click:t.clickSave}},[t.show.btn_spinner?s("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):s("span",[t._v(t._s(t.$t("common.confirm")))])],1)],1)])],1)],1),t._e(),t._e(),t._e()],2)},o=[],r=(i("7f7f"),i("6762"),i("2fdb"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7514"),i("967e")),n=i.n(r),a=(i("96cf"),i("fa84")),c=i.n(a),u=(i("c5f6"),i("791e")),d=i("283b"),l=i("f95b"),M=i("c469"),h={name:"OrderDiscount",components:{"mapping-card":d["a"],"input-label":l["a"],"b-radio-list":M["a"]},props:{discountStore:{type:Array,default:function(){return[]}},discountOrder:{type:Array,default:function(){return[]}},discountAttendOption:{type:Number,default:0},discountList:{type:Array,default:function(){return[]}},multiAppliableDiscount:{type:Object,default:function(){return{}}},appliableDiscount:{type:Object,default:function(){return{}}},activityList:{type:Array,default:function(){return[]}},storeInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}},updateAllDiscount:{type:Function,default:function(){}},pageLoading:{type:Boolean,default:!1},orderAttach:{type:Object,default:function(){return{}}},cupDisableActivity:{type:Boolean,default:!1},dialogOpen:{type:Boolean,default:!1},getOrderDiscount:{type:Function,default:function(){}}},mixins:[u["a"]],filters:{showCombinedUseText:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&(t.excluded_by_product_coupon||t.ignore_product_coupon)?t.excluded_by_product_coupon?"此活動無法與單品折扣券併用。":"":"使用單品折扣券的商品無法再參加此活動。"}},data:function(){return{show:{allowance_all:!1,btn_spinner:!1,activity:null,allowance:null,discount:null,loading:!1},attendRadio:1,opt:{type:"text",required:!1,icon:"arrow",notInput:!0},openId:0,activityId:0,activityOpt:{name:"",max:99},promoCode:"",promoCodeErrorText:"",exchangeActivityIds:[]}},methods:{clickSave:function(){var t=0;this.appliableDiscount.list&&this.appliableDiscount.list.length&&(t=this.appliableDiscount.list[0].activity_id),this.activityId&&t!==this.activityId?(this.show.btn_spinner=!0,this.saveDiscount(!0)):this.showDialog=!1},showActivity:function(t){this.show.activity!==t?this.show.activity=t:this.show.activity=null},click_allowance:function(t){this.show.allowance!==t?this.show.allowance=t:this.show.allowance=null},click_discount:function(t){this.show.discount!==t?this.show.discount=t:this.show.discount=null},setActivityId:function(t){this.activityId=t},showDetail:function(t){this.openId=this.openId===t.value?0:t.value},submitPromoCode:function(){var t=this,e=this.promoCode.trim();if(e){this.show.loading=!0;var i=this.$route.params.order_id,s="/order/"+i+"/exchangeDiscountByCode",o={exchange_code:e};this.postDataH(s,o).then(function(){var e=c()(n.a.mark((function e(i){var s;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==i.data.status){e.next=13;break}if(s=10===i.data.exchange_status,t.exchangeActivityIds=i.data.activity_list.map((function(t){return t.activity_id}))||[],s){e.next=7;break}t.promoCodeErrorText="折扣碼已無法使用",e.next=11;break;case 7:return t.promoCodeErrorText="",t.promoCode="",e.next=11,t.getOrderDiscount();case 11:t.$q.notify({icon:s?"check_circle":"warning",message:s?"兌換成功":"兌換失敗",color:s?"positive":"secondary",timeout:2500,position:"bottom"}),t.show.loading=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.show.loading=!1}))}},userParticipate_allowance:function(t){if(0!==this.orderInfo.allowance.list.length){var e=!1;return this.orderInfo.allowance.list.forEach((function(i){i.setting_id===t&&(e=!0)})),e}return!1},userParticipate_discount:function(t){var e=this.storeInfo&&this.storeInfo.cup_activity&&this.storeInfo.cup_activity.calc_mode&&void 0!==this.storeInfo.cup_activity.calc_mode,i=this.orderAttach&&this.orderAttach.cup_applicable_discount&&this.orderAttach.cup_applicable_discount.total_discount,s=!1;return 0===e&&i>0?s:this.discountOrder?(this.discountOrder.forEach((function(e){e.activity_id===t&&(s=!0)})),s):this.appliableDiscount&&this.appliableDiscount.list?(this.appliableDiscount.list.forEach((function(e){e.activity_id===t&&(s=!0)})),s):void 0},userParticipate_discount_allNot:function(t){var e=[];return this.discountOrder?this.discountOrder.forEach((function(i){t.forEach((function(t){i.activity_id===t.activity_id&&e.push(i.activity_id)}))})):this.appliableDiscount&&this.appliableDiscount.list&&this.appliableDiscount.list.forEach((function(i){t.forEach((function(t){i.activity_id===t.activity_id&&e.push(i.activity_id)}))})),0!==e.length},saveDiscount:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("update:page-loading",!0);var i={};this.multiAppliableDiscount.list&&this.multiAppliableDiscount.list.length&&(i=this.activityId?this.multiAppliableDiscount.list.find((function(e){return e.activity_id===t.activityId})):this.multiAppliableDiscount.list[0]);var s={discount_attend_option:9,discount_money:0,discount_list:[]};e&&Object.keys(i).length&&(s={discount_attend_option:1,discount_money:i.total_discount||0,discount_list:[i]});var o=this.$route.params.order_id,r="/order/"+o+"/applyDiscount";this.postDataH(r,s).then((function(e){200===e.data.status&&(t.updateAllDiscount({clearPoint:!0}),t.showDialog&&(t.show.btn_spinner=!1,t.showDialog=!1),setTimeout((function(){t.$emit("update:page-loading",!1)}),700))}))},setDefaultActivityId:function(){var t,e=null===(t=this.appliableDiscount)||void 0===t?void 0:t.list;e&&e.length?this.activityId=e[0].activity_id||0:this.activityId=0}},computed:{matchActivityIds:function(){return this.multiAppliableDiscount.list?this.multiAppliableDiscount.list.map((function(t){return t.activity_id})):[]},matchActivity:function(){var t=this;return this.discountList.filter((function(e){return t.matchActivityIds.includes(e.activity_id)})).map((function(e){var i=t.multiAppliableDiscount.list.find((function(t){return t.activity_id===e.activity_id}));return{label:(e.is_give_over?" (兌換完畢) ":"")+e.name,labelEllipsis:!0,value:e.activity_id,description:e.description,discount:i?i.total_discount:0,exchangeCode:e.exchange_code||"",rule:e.rule||""}}))},notMatchActivity:function(){var t=this;return this.discountList.filter((function(e){return!t.matchActivityIds.includes(e.activity_id)})).map((function(t){return{label:(t.is_give_over?" (兌換完畢) ":"")+t.name,labelEllipsis:!0,value:t.activity_id,description:t.description,disabled:!0,exchangeCode:t.exchange_code||"",rule:t.rule||""}}))},chooseActivityDiscount:function(){var t=this,e=this.matchActivity.find((function(e){return e.value===t.activityId}));return e?e.discount:0},showDialog:{get:function(){return this.dialogOpen},set:function(t){this.$emit("update:dialog-open",t)}}},watch:{appliableDiscount:{handler:function(t){t&&t.list&&t.list.length?0!==t.total_discount&&this.cupDisableActivity&&0===this.discountAttendOption?this.saveDiscount(!1):this.attendRadio=1:this.attendRadio=0},immediate:!0,deep:!0},showDialog:function(t){t?this.setDefaultActivityId():this.exchangeActivityIds=[]},discountAttendOption:function(t){1===t&&(this.attendRadio=1),9===t&&(this.attendRadio=0)},cupDisableActivity:function(t){t&&0!==this.appliableDiscount.total_discount&&0===this.discountAttendOption&&this.saveDiscount(!1)},matchActivityIds:{handler:function(t){var e=this;if(t.length&&this.exchangeActivityIds.length){var i=t.find((function(t){return e.exchangeActivityIds.includes(t)}));i&&(this.activityId=i)}},deep:!0}}},p=h,m=(i("017f"),i("2877")),g=Object(m["a"])(p,s,o,!1,null,"eb3a6b0e",null);e["a"]=g.exports},"1fd1":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"cursor-pointer":t.canEdit},attrs:{disabled:!t.canEdit},on:{click:function(e){t.show.modal_delivery_time_detail=!0}}},[s("div",{staticClass:"full-width q-px-md q-py-sm q-py-md-md flex justify-between"},[s("div",{staticClass:"col"},[s("div",{staticClass:"q-mb-sm flex"},[s("div",{staticClass:"font-size-subtitle-1"},[t._v("\n          "+t._s(t.$t("order.pickup_time"))+"\n        ")]),!t.isToday&&t.storeInfo.order_tolerance_day&&t.canEdit?s("div",{staticClass:"col-auto flex flex-center q-ml-xs"},[s("q-badge",{staticStyle:{padding:"4px 8px","padding-bottom":"5px"},attrs:{outline:"",color:"secondary",label:"預約-非今日"}})],1):t._e()]),s("div",{staticClass:"text-bold font-size-subtitle-1 flex items-center"},[s("q-icon",{staticClass:"q-ma-xs q-mr-sm",staticStyle:{top:"0px"},attrs:{name:"far fa-clock"}}),!t.storeInfo.is_off_day||t.storeInfo.is_off_allow_order&&t.storeInfo.order_tolerance_day?t.storeInfo.is_preparing&&!t.storeInfo.is_preparing_allow_order?s("span",{staticClass:"text-bold",staticStyle:{top:"-1px"}},[t._v("\n          門市尚未營業\n        ")]):t.storeInfo.is_close&&!t.storeInfo.is_close_allow_order?s("span",{staticClass:"text-bold",staticStyle:{top:"-1px"}},[t._v("\n          門市結束營業\n        ")]):s("span",{staticClass:"text-bold",staticStyle:{top:"-1px"}},[t.isToday?t._e():s("span",{staticClass:"text-bold"},[t._v(t._s(t.orderTime.date)+"  ")]),s("span",{staticClass:"text-bold"},[t._v(t._s(t.orderTime.start))]),3===t.orderInfo.delivery_type?s("span",{staticClass:"text-bold"},[t._v("~"+t._s(t.orderTime.end))]):t._e()]):s("span",{staticClass:"text-bold",staticStyle:{top:"-1px"}},[t._v("\n          門市公休\n        ")])],1),t.canEdit?s("div",{staticClass:"text-gray-2"},[t._v("\n        取貨時間可能會依門市現場狀況有所調整\n      ")]):t._e()]),t.canEdit?s("div",{staticClass:"col-auto flex flex-center"},[s("div",[s("q-icon",{staticClass:"b-color cursor-pointer",attrs:{name:"event",size:"18px"}}),s("div",{staticClass:"b-color text-center"},[t._v("編輯")])],1)]):t._e()]),s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.show.modal_delivery_time_detail,callback:function(e){t.$set(t.show,"modal_delivery_time_detail",e)},expression:"show.modal_delivery_time_detail"}},[s("q-card",{staticClass:"q-card bg-white nidin-modal",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_delivery_time_detail=!1}}}),s("q-card-section",{staticClass:"col scroll q-pa-none",staticStyle:{"padding-bottom":"200px"},style:t.$q.screen.lt.sm?"height: calc("+t.dialogH+"px - 122px)":"min-height: calc("+t.dialogH+"px - 350px); max-height: calc("+t.dialogH+"px - 268px)"},[s("div",{staticClass:"q-mb-md"},[s("p",[s("span",{staticClass:"text-bold text-secondary q-mr-xs"},[t._v("＊")]),t._v("\n            "+t._s(t.$t("order.pickup_time"))+"\n          ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.storeInfo.order_tolerance_day&&2!==t.orderInfo.delivery_type,expression:"storeInfo.order_tolerance_day && orderInfo.delivery_type !== 2"}],staticClass:"q-mb-md"},[s("q-input",{staticClass:"font-size-subtitle-2",attrs:{outlined:""},on:{click:function(e){return t.$refs.qDateProxy.show()}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer q-mx-none",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"YYYY-MM-DD",options:t.dateOption},on:{input:t.changeDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)]},proxy:!0}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.orderInfo.delivery_type,expression:"orderInfo.delivery_type === 1"}],staticClass:"font-size-subtitle-2 q-mb-md"},[s("div",{staticClass:"flex justify-between border-m-around cursor-pointer nidin-time-picker",staticStyle:{border:"1px solid rgba(0,0,0, 0.26)"}},[s("vue-timepicker",{staticClass:"col",attrs:{format:t.timepicker.format,"minute-interval":t.timepicker.min_interval,"hide-clear-button":"","input-width":"100%","auto-scroll":"","hide-disabled-items":"","hour-range":t.selfRange.hour,"minute-range":t.self_minute_range},on:{change:function(e){return t.changeSingleTime(e,1)}},model:{value:t.self_time,callback:function(e){t.self_time=e},expression:"self_time"}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.orderInfo.delivery_type,expression:"orderInfo.delivery_type === 2"}],staticClass:"font-size-subtitle-2 q-mb-md"},[s("div",{staticClass:"flex justify-between border-m-around nidin-time-picker",staticStyle:{border:"1px solid rgba(0,0,0, 0.26)"}},[s("vue-timepicker",{staticClass:"col",attrs:{format:t.timepicker.format,"minute-interval":t.timepicker.min_interval,"hide-clear-button":"","input-width":"100%","auto-scroll":"","hide-disabled-items":"","hour-range":t.innerRange.hour,"minute-range":t.inner_minute_range},on:{change:function(e){return t.changeSingleTime(e,2)}},model:{value:t.inner_time,callback:function(e){t.inner_time=e},expression:"inner_time"}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:3===t.orderInfo.delivery_type,expression:"orderInfo.delivery_type === 3"}],staticClass:"font-size-subtitle-2 flex flex-center"},[s("div",{staticClass:"col flex border-m-around nidin-time-picker",staticStyle:{border:"1px solid rgba(0,0,0, 0.26)"}},[s("vue-timepicker",{attrs:{format:t.timepicker.format,"minute-interval":t.timepicker.min_interval,"hide-clear-button":"","input-width":"100%","auto-scroll":"","hide-disabled-items":"","hour-range":t.deliveryStartRange.hour,"minute-range":t.delivery_start_minute_range},on:{change:function(e){return t.changeSingleTime(e,3)}},model:{value:t.delivery_time.start_time,callback:function(e){t.$set(t.delivery_time,"start_time",e)},expression:"delivery_time.start_time"}})],1),s("div",{staticClass:"col-auto q-px-xs"},[t._v(" ~ ")]),s("div",{staticClass:"col flex border-m-around nidin-time-picker",staticStyle:{border:"1px solid rgba(0,0,0, 0.26)"}},[s("vue-timepicker",{attrs:{format:t.timepicker.format,"minute-interval":t.timepicker.min_interval,"hide-clear-button":"","input-width":"100%","auto-scroll":"","hide-disabled-items":"","hour-range":t.deliveryEndRange.hour,"minute-range":t.delivery_end_minute_range},on:{change:function(e){return t.changeSingleTime(e,31)}},model:{value:t.delivery_time.end_time,callback:function(e){t.$set(t.delivery_time,"end_time",e)},expression:"delivery_time.end_time"}})],1)])]),s("div",{staticClass:"b-bg q-pa-md"},[s("div",{staticClass:"text-white text-bold"},[t._v("預計取貨時間會依門市狀況調整"),s("br"),t._v("請在送單後再次確認，並保持電話暢通"),s("br"),t._v("避免溝通延誤，謝謝")]),t.storeInfo.shipping_fee_type&&3===t.orderInfo.delivery_type?s("div",{staticClass:"q-mt-md"},[s("shipping-block",{attrs:{storeInfo:t.storeInfo,orderDate:t.date}})],1):t._e(),s("div",{staticClass:"q-mt-md"},[s("delivery-limit",{attrs:{storeInfo:t.storeInfo,deliveryType:t.orderInfo.delivery_type}})],1)])]),s("q-card-actions",{staticClass:"row q-pt-md q-px-none border-top"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",attrs:{disabled:t.show.btn_spinner},on:{click:t.clickSave}},[s("span",[t._v(t._s(t.$t("common.save")))])])],1)])],1)],1)],1)},o=[],r=(i("7514"),i("20d6"),i("967e")),n=i.n(r),a=(i("96cf"),i("fa84")),c=i.n(a),u=i("c1df"),d=i.n(u),l=i("791e"),M=i("5738"),h=i("b7bf"),p=i("97fc"),m=i.n(p),g=(i("1e11"),{mixins:[l["a"]],components:{VueTimepicker:m.a,"shipping-block":h["a"],"delivery-limit":M["a"]},props:{orderInfo:Object,storeInfo:Object,getDisableProd:Function},data:function(){return{show:{modal_delivery_time_detail:!1},timepicker:{format:"HH:mm",min_interval:10},date:d()().format("YYYY-MM-DD"),self_time:{},self_minute_range:[],inner_time:{},inner_minute_range:[],delivery_time:{start_time:{},end_time:{}},delivery_start_minute_range:[],delivery_end_minute_range:[]}},methods:{clickSave:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveTime();case 2:return t.next=4,this.getDisableProd(!0);case 4:this.show.modal_delivery_time_detail=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeDate:function(){this.setDefault(),this.$refs.qDateProxy.hide()},changeSingleTime:function(t,e){var i=[],s=this.selfRange,o=this.self_time;if(2===e?(s=this.innerRange,o=this.inner_time):3===e?(s=this.deliveryStartRange,o=this.delivery_time.start_time):31===e&&(s=this.deliveryEndRange,o=this.delivery_time.end_time),i=s.h_min===s.h_max&&s.m_min===s.m_max?[0]:s.h_min===parseInt(t.data.HH,10)?[s.m_min,59]:s.h_max===parseInt(t.data.HH,10)?[0,s.m_max]:[0,59],i.length&&i[0]===i[1]&&(i=[i[0]]),1===e?i.length>1?this.self_minute_range=[i]:this.self_minute_range=i:2===e?i.length>1?this.inner_minute_range=[i]:this.inner_minute_range=i:3===e?i.length>1?this.delivery_start_minute_range=[i]:this.delivery_start_minute_range=i:31===e&&(i.length>1?this.delivery_end_minute_range=[i]:this.delivery_end_minute_range=i),i.length>1?parseInt(t.data.mm,10)<i[0]?this.$set(o,"mm",("0"+i[0]).slice(-2)):parseInt(t.data.mm,10)>i[1]&&this.$set(o,"mm",("0"+i[1]).slice(-2)):i[0]!==parseInt(t.data.mm,10)&&this.$set(o,"mm",("0"+i[0]).slice(-2)),3===e){var r=this.deliveryTime(3).duration,n=this.checkEndTime(d()(t.displayTime,"HH:mm").add(r,"minutes"));this.$set(this.delivery_time.end_time,"HH",d()(n).format("HH")),this.$set(this.delivery_time.end_time,"mm",d()(n).format("mm"))}},dateOption:function(t){var e=this.storeInfo,i=d()(t,"YYYY/MM/DD").day(),s=parseInt(d()(t,"YYYY/MM/DD").format("DD"),10),o=d()().format("YYYY/MM/DD"),r=d()().add(e.order_start_day,"days").format("YYYY/MM/DD"),n=d()().add(e.order_start_day,"days").add(e.order_tolerance_day,"days").format("YYYY/MM/DD"),a=e.off_times_setting,c=!1,u=e.is_close;return a.week_day.forEach((function(t){t-1===i&&(c=!0)})),a.date.forEach((function(e){d()(e,"YYYY-MM-DD").format("YYYY-MM-DD")===d()(t).format("YYYY-MM-DD")&&(c=!0)})),a.month_day.forEach((function(t){t===s&&(c=!0)})),(t!==o||!u)&&(!c&&(t>=o&&t>=r&&t<=n))},closeDate:function(){this.$refs.qDateProxy.hide()},saveDeliveryTime:function(){},setDefault:function(t,e){var i=this.storeInfo,s=i.is_off_day&&i.is_off_allow_order||i.is_close&&i.is_close_allow_order||i.order_start_day;s&&t&&(this.date=i.next_opening_date);var o=this.deliveryTime(1).available_time,r=this.deliveryTime(2).available_time,n=this.deliveryTime(3).available_time,a=this.deliveryTime(3).duration,c=this.checkEndTime(d()(this.startTime.start_time,"HH:mm:ss").add(o,"minutes")),u=this.checkEndTime(d()(this.startTime.start_time,"HH:mm:ss").add(r,"minutes")),l=this.checkEndTime(d()(this.startTime.start_time,"HH:mm:ss").add(n,"minutes")),M=this.checkEndTime(d()(this.startTime.start_time,"HH:mm:ss").add(n+a,"minutes")),h=d()().format("YYYY-MM-DD");if(this.date===h&&i.is_open&&(c=this.checkEndTime(d()().add(o,"minutes")),u=this.checkEndTime(d()().add(r,"minutes")),l=this.checkEndTime(d()().add(n,"minutes")),M=this.checkEndTime(d()().add(n+a,"minutes"))),this.$set(this.self_time,"HH",d()(c).format("HH")),this.$set(this.self_time,"mm",d()(c).format("mm")),this.$set(this.inner_time,"HH",d()(u).format("HH")),this.$set(this.inner_time,"mm",d()(u).format("mm")),this.$set(this.delivery_time.start_time,"HH",d()(l).format("HH")),this.$set(this.delivery_time.start_time,"mm",d()(l).format("mm")),this.$set(this.delivery_time.end_time,"HH",d()(M).format("HH")),this.$set(this.delivery_time.end_time,"mm",d()(M).format("mm")),t){var p=this;this.checkOrderTime(e,(function(t){p.saveTime(t),p.getDisableProd(!0)}))}},checkOrderTime:function(t,e){var i=this.orderTime,s=this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_delivery_time");s&&(i=s);var o=i.date+" "+i.start,r=this.orderInfo.delivery_type,n="";1===r?n=this.date+" "+this.self_time.HH+":"+this.self_time.mm:2===r?n=this.date+" "+this.inner_time.HH+":"+this.inner_time.mm:3===r&&(n=this.date+" "+this.delivery_time.start_time.HH+":"+this.delivery_time.start_time.mm),!t&&o&&Date.parse(d()(o,"YYYY-MM-DD HH:mm"))>Date.parse(d()(n,"YYYY-MM-DD HH:mm"))?(this.date=i.date,1===r&&(this.$set(this.self_time,"HH",d()(i.start,"HH:mm").format("HH")),this.$set(this.self_time,"mm",d()(i.start,"HH:mm").format("mm"))),2===r&&(this.$set(this.inner_time,"HH",d()(i.start,"HH:mm").format("HH")),this.$set(this.inner_time,"mm",d()(i.start,"HH:mm").format("mm"))),3===r&&(this.$set(this.delivery_time.start_time,"HH",d()(i.start,"HH:mm").format("HH")),this.$set(this.delivery_time.start_time,"mm",d()(i.start,"HH:mm").format("mm")),this.$set(this.delivery_time.end_time,"HH",d()(i.end,"HH:mm").format("HH")),this.$set(this.delivery_time.end_time,"mm",d()(i.end,"HH:mm").format("mm"))),e(s)):e()},saveTime:function(){var t=c()(n.a.mark((function t(e){var i,s,o,r,a,c,u;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=this.orderInfo,s=i.delivery_type,o=d()(this.self_time.HH+":"+this.self_time.mm,"HH:mm").format("HH:mm:ss"),r=d()(this.inner_time.HH+":"+this.inner_time.mm,"HH:mm").format("HH:mm:ss"),a=d()(this.delivery_time.start_time.HH+":"+this.delivery_time.start_time.mm,"HH:mm").format("HH:mm:ss"),c=d()(this.delivery_time.end_time.HH+":"+this.delivery_time.end_time.mm,"HH:mm").diff(d()(this.delivery_time.start_time.HH+":"+this.delivery_time.start_time.mm,"HH:mm"),"minute"),u=e||{},u&&i.delivery_type===u.delivery_type?(this.$set(i,"delivery_reserv_date",e.date),c=d()(e.end,"HH:mm").diff(d()(e.start,"HH:mm"),"minute"),this.$set(i,"delivery_reserv_time",d()(e.start,"HH:mm").format("HH:mm:ss")),this.$set(i,"delivery_reserv_tolerance",c)):(this.$set(i,"delivery_reserv_date",this.date),1===s?this.$set(i,"delivery_reserv_time",o):2===s?this.$set(i,"delivery_reserv_time",r):3===s&&(this.$set(i,"delivery_reserv_time",a),this.$set(i,"delivery_reserv_tolerance",c)),this.orderTime.start&&this.orderTime.end&&this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_delivery_time",this.orderTime));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),checkEndTime:function(t){var e=d()(this.dateTime.order_end_time,"HH:mm:ss");if(Date.parse(t)>Date.parse(e))return e;var i=Math.ceil(t.clone().minute()/this.timepicker.min_interval)*this.timepicker.min_interval;return t.clone().minute(i).second(0)},removeArrayElement:function(t,e){var i=t.findIndex((function(t){return t===e}));return i&&(t=t.slice(i)),t},deliveryTime:function(t){var e=this.storeInfo.delivery_time_info.find((function(e){return t===e.delivery_type}));return e||{available_time:0,duration:0}},getRange:function(t){var e={min:"",max:"",hour:[],h_min:"",h_max:"",m_min:"",m_max:""};this.endTime.end_time&&(e.max=d()(this.endTime.end_time,"HH:mm:ss").format("HH:mm"));var i=this.deliveryTime(t).available_time,s=this.checkEndTime(d()(this.startTime.start_time,"HH:mm:ss").add(i,"minutes")),o=d()().format("YYYY-MM-DD");if(31===t){var r=this.delivery_time.start_time;e.min=r.HH+":"+r.mm}else this.date===o?Date.parse(d()())<Date.parse(s)?e.min=s:e.min=d()(this.checkEndTime(d()().add(i,"minutes"))).format("HH:mm"):e.min=d()(s).format("HH:mm");if(e.min&&e.max){var n=parseInt(d()(e.min,"HH:mm").format("HH"),10),a=parseInt(d()(e.max,"HH:mm").format("HH"),10),c=parseInt(d()(e.min,"HH:mm").format("mm"),10),u=parseInt(d()(e.max,"HH:mm").format("mm"),10);e.hour.push([n,a]),e.h_min=n,e.h_max=a,e.m_min=c,e.m_max=u}return e}},created:function(){this.setDefault(!0)},computed:{canEdit:function(){var t=this.storeInfo;return!(t.is_off_day&&!t.is_off_allow_order)&&(!(t.is_off_day&&!t.order_tolerance_day)&&(!(t.is_preparing&&!t.is_preparing_allow_order)&&!(t.is_close&&!t.is_close_allow_order)))},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=d()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=d()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}},isToday:function(){var t=d()().format("YYYY-MM-DD"),e=this.orderInfo,i="";return e.delivery_reserv_date&&(i=e.delivery_reserv_date),i===t},dateExceptionCalendar:function(){var t=this.storeInfo.delivery_exception_calendar[this.orderInfo.delivery_type];return t||{}},dateTime:function(){var t=this.storeInfo.opening_times_weekly,e=d()(this.date,"YYYY-MM-DD").day(),i=t.find((function(t){return t.week_day-1===e}));return i||(i={order_start_time:this.storeInfo.order_start_time,order_end_time:this.storeInfo.order_end_time}),i},startTime:function(){var t=this.dateTime.order_start_time;return{HH:parseInt(this.getTime(2,t,"HH"),10),mm:parseInt(this.getTime(2,t,"mm"),10),start_time:t}},endTime:function(){var t=this.dateTime.order_end_time;return{HH:parseInt(this.getTime(2,t,"HH"),10),mm:parseInt(this.getTime(2,t,"mm"),10),end_time:t}},selfRange:function(){return this.getRange(1)},innerRange:function(){return this.getRange(2)},deliveryStartRange:function(){return this.getRange(3)},deliveryEndRange:function(){return this.getRange(31)}},watch:{"orderInfo.delivery_type":function(){this.setDefault(!0,!0)}}}),_=g,f=i("2877"),y=Object(f["a"])(_,s,o,!1,null,null,null);e["a"]=y.exports},"1fe7":function(t,e,i){},"21b8":function(t,e,i){t.exports=i.p+"img/f_coupon.1b668993.jpg"},2214:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5ZyW5bGkXzEiIGRhdGEtbmFtZT0i5ZyW5bGkIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQwLjE0IDQwLjE0Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzAwMDEwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmk8L3RpdGxlPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTM5LDYuMDZIMS4xNUExLjE0LDEuMTQsMCwwLDAsMCw3LjIxVjMyLjkzYTEuMTQsMS4xNCwwLDAsMCwxLjE0LDEuMTRIMzlhMS4xNCwxLjE0LDAsMCwwLDEuMTQtMS4xNFY3LjIxQTEuMTQsMS4xNCwwLDAsMCwzOSw2LjA2Wk02LjYxLDI5LjYySDUuMWExLjIyLDEuMjIsMCwxLDEsMC0yLjQ0SDYuNjFhMS4yMiwxLjIyLDAsMSwxLDAsMi40NFptMTMuNTgtLjA4SDEwLjUxYTEuMjIsMS4yMiwwLDEsMSwwLTIuNDRoOS42N2ExLjIyLDEuMjIsMCwxLDEsMCwyLjQ0Wk0zNy44NSwxOC4wNkgyLjI5VjEyLjI5SDM3Ljg1WiIvPjwvc3ZnPg=="},"221c":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iX+WcluWxpF8yIiBkYXRhLW5hbWU9IuWcluWxpCAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNDAxLjIxIDEyOC42NyI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogdXJsKCNsaW5lYXItZ3JhZGllbnQtMik7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogI2U3MjQxMDsKICAgICAgfQoKICAgICAgLmNscy0zIHsKICAgICAgICBmaWxsOiB1cmwoI2xpbmVhci1ncmFkaWVudCk7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgZmlsbDogIzIzMTgxNTsKICAgICAgfQogICAgPC9zdHlsZT4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iMzg4LjU2IiB5MT0iMTguMTciIHgyPSI3LjUiIHkyPSI2NC43NyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNhZTE2MDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMDkiIHN0b3AtY29sb3I9IiNiNjE4MDMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMjMiIHN0b3AtY29sb3I9IiNjZTFlMDkiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMzQiIHN0b3AtY29sb3I9IiNlNzI0MTAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZTcyNDEwIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQtMiIgeDE9IjI2My4xNyIgeTE9Ii02MC4yMSIgeDI9IjM5MS41MyIgeTI9IjMyLjA0IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2FlMTYwMSIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4wMiIgc3RvcC1jb2xvcj0iI2IyMTcwMiIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4xOCIgc3RvcC1jb2xvcj0iI2NmMWUwOSIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4zMSIgc3RvcC1jb2xvcj0iI2UwMjIwZSIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii40MSIgc3RvcC1jb2xvcj0iI2U3MjQxMCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii42OSIgc3RvcC1jb2xvcj0iI2U3MjQxMCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNlODM4MTciLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxnIGlkPSJGRVRf6YGg5YKz5qiZ6KqMIiBkYXRhLW5hbWU9IkZFVCDpgaDlgrPmqJnoqowiPgogICAgPGc+CiAgICAgIDxnPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNCIgZD0ibTI2Ni4yLDc3LjExYzEuMDcsMCwxLjk2LS44LDEuOTYtMS44MXYtNy44M2MwLTEuMDEtLjg5LTEuODItMS45Ni0xLjgyaC00MC44NWMtMy40OSwwLTYuMzEsMi42MS02LjMxLDUuODF2NTUuNDFjMCwuOTguODksMS44LDEuOTYsMS44aDEwLjkyYzEuMDgsMCwxLjk3LS44MiwxLjk3LTEuOHYtMjQuMzVoMzIuMzJjMS4wNywwLDEuOTYtLjgsMS45Ni0xLjh2LTcuODNjMC0xLS44OS0xLjgyLTEuOTYtMS44MmgtMjMuODhjLTEuMDcsMC0yLjA4LjI1LTMuMDksMS42NGwtNS4zNSw3LjMzdi0yMi45M2gzMi4zMloiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Im0zMjkuMTMsNzcuMTFjMS4wOCwwLDEuOTctLjgsMS45Ny0xLjgxdi03Ljg0YzAtLjk4LS44OS0xLjgtMS45Ny0xLjhoLTQxLjA0Yy0zLjY1LDAtNi4yMSwzLjEzLTYuMjEsNS40NnY1My4wMmMwLDIuNSwyLjIyLDQuNTQsNC45Myw0LjU0aDQyLjMyYzEuMDgsMCwxLjk3LS44MiwxLjk3LTEuOHYtNy44NWMwLS45OS0uODktMS44Mi0xLjk3LTEuODJoLTMyLjR2LTE0LjY5aDMyLjRjMS4wOCwwLDEuOTctLjgsMS45Ny0xLjh2LTcuODJjMC0xLS44OS0xLjgyLTEuOTctMS44MmgtMjMuOTFjLTIuMzctLjAxLTMuMTEsMS42OC0zLjg5LDIuNjhsLTQuNiw2LjM0di0yMi45OGgzMi40WiIvPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNCIgZD0ibTM5OS4yNSw2NS42NmgtNTMuMzRjLTEuMDksMC0xLjk4LjgyLTEuOTgsMS44MnY3Ljg1YzAsMSwuODgsMS43OCwxLjk4LDEuNzhsMzAuODQuMDJjLTEuNDIsMC0zLjUzLjU5LTQuMjgsMS42OCwwLDAtNC41Nyw1LjE3LTYuNTgsNy44NC0uODYsMS4xNi0uNzMsMi45OC0uNzMsMi45OHYzNy4yNGMwLC45OC44OCwxLjgsMS45OCwxLjhoMTAuODljMS4xLDAsMS45Ny0uODIsMS45Ny0xLjh2LTQ5Ljc2aDE5LjI1YzEuMDgsMCwxLjk3LS44LDEuOTctMS44MXYtNy44M2MwLTEtLjg4LTEuODItMS45Ny0xLjgyWiIvPgogICAgICA8L2c+CiAgICAgIDxnPgogICAgICAgIDxnPgogICAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNCIgZD0ibTAsOTEuMDV2MjkuNWM1Ljg0LDAsMTAuNTctMy4xOCwxMC41Ny05Ljc3di0xNC4zNmMwLTQuNDctMS42My01LjQ4LTQuMjgtNS40OEgwdi4xMVoiLz4KICAgICAgICAgICAgPHBhdGggY2xhc3M9ImNscy00IiBkPSJtOTMuNDgsODUuNTV2LTMuMzNIMjUuODJ2LTQuODNoMjkuMTR2LTMuNDRoLTI5LjE0di00Ljg0aDI5LjE0di0zLjU2SDB2My41NmgxOC44djQuODdIMHYzLjQzaDE4Ljh2NC44NkgwdjMuODRoMTAuMThjNS4zNCwwLDguNjIsMi41OCw4LjYyLDguNTZ2MTYuNjRjMCw0LjcxLDUuNjcsOS4yNyw5Ljk4LDkuMjdoMTMuMzJsLjAzLTExLjA0LTE2LjA1LDUuNnYtNS40N2wyNC4zMi04LjMydjE5LjI0aDQzLjA3di0yLjY2aC0xNS42NGwtMjQuMTgtNy45OCwyNC4xOC04LjEyaDE1LjY0di0yLjY5SDI1LjlzLS4wMi03Ljg2LS4wMi04LjgzYzAtMi45MSwzLjA3LTQuNzQsNy4zNy00Ljc0aDYwLjIzWiIvPgogICAgICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Im0yOC45LDEyNS41OWMtNC43MywwLTguMjMsMC0xNC4xOS00LjU5LTUuNDUsNC45NS05LjA5LDQuNTktMTQuNzEsNC41OXYyLjk3aDkzLjQ4di0yLjk3SDI4LjlaIi8+CiAgICAgICAgICAgIDxwb2x5bGluZSBjbGFzcz0iY2xzLTQiIHBvaW50cz0iOTUuNzkgNzMuOTQgNjMuMjIgNzMuOTQgNjMuMjIgNzcuMzggOTMuNDggNzcuMzgiLz4KICAgICAgICAgICAgPHJlY3QgY2xhc3M9ImNscy00IiB4PSI2My4yMiIgeT0iNjUuNTQiIHdpZHRoPSIzMC4yNSIgaGVpZ2h0PSIzLjU0Ii8+CiAgICAgICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNCIgZD0ibTM0LjE1LDk0LjNoNTkuMjl2LTRoLTU2LjUyYy0xLjEsMC0yLjguMTUtMi44LDEuMzksMCwuMzYuMDIsMi42LjAyLDIuNloiLz4KICAgICAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjkzLjQ4IDExNy45MSA5My40OCAxMDEuODEgNzAuMDUgMTA5LjkzIDkzLjQ4IDExNy45MSIvPgogICAgICAgICAgPC9nPgogICAgICAgICAgPGc+CiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtNCIgcG9pbnRzPSI5My40NiA4Mi4yMiAxMDguMDkgNzYuMDEgMTA4LjA5IDEyOC42NyAxMTYuNDIgMTI4LjY3IDExNi40MSA2NS40MyA5My40NiA3NC45MyA5My40NiA4Mi4yMiIvPgogICAgICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iMTIyLjQ3IDExOC4xNiAxMjIuNDcgMTIyLjg1IDE2My42MSAxMjIuODMgMTYzLjYxIDExOC4xNiAxMjIuNDcgMTE4LjE2Ii8+CiAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICAgIDxnPgogICAgICAgICAgPHBhdGggY2xhc3M9ImNscy00IiBkPSJtMTk3Ljg5LDcyLjI5di00LjloLTM0di0yLjc2aC04LjMydjIuNzZoLTMzLjQxdjQuOWgzMy40MXYzLjM5aC0zMy40MWwtLjAzLDIxLjcyaDMzLjQzdjMuNzdoLTMzLjQzdjQuOWg2OC4xN2M1LjUyLDAsNy41NS0xLjc2LDcuNTUtNC40MSwwLTEuNjItLjAyLTIuMzktLjAyLTIuMzloLTguMjd2MWMwLC40Ny0uMTkuNzItLjgzLjcyaC0yNC44NXYtMy41OGgzMy45N3YtMTUuOThjMC0yLjgyLTIuMzEtNS43NC04LjMtNS43NGgtMjUuNjd2LTMuMzloMzRabS00Mi4zMiwyMC4yNWgtMjUuMDJ2LTMuNThoMjUuMDJ2My41OFptMC04LjQ5aC0yNS4wNGwuMDQtMy41M2gyNC45OXYzLjUzWm0zNC4wMSw4LjQ5aC0yNS42OXYtMy41OGgyNS42OXYzLjU4Wm0tMi41Ni0xMS45OWMyLjIyLDAsMi41NiwxLjAyLDIuNTYsMi4yOXYxLjIyaC0yNS42OXYtMy41MWgyMy4xNFoiLz4KICAgICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNCIgZD0ibTEyMi4xNiwxMTQuMjRoNjcuMzZ2Ni43MmMwLC43OS0uNDEsMS40Ni0xLjUyLDEuNjktLjMuMDQtLjQyLjA2LS40Mi4wNmgtMjQuMDZ2NC44OXMyMi42NC4wNCwyNi42LjA0LDcuNzQtMi41Miw3Ljc0LTYuNzd2LTExLjUyaC03NS42OXY0Ljg5WiIvPgogICAgICAgIDwvZz4KICAgICAgPC9nPgogICAgICA8Zz4KICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iMCAzMy44NSAwIDQ4LjQ2IDQwMS4yMSA0OC40NiAzODAuOTQgMzMuODUgMCAzMy44NSIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIzNjAuMTIgMCAzNjAuMTIgMTguODMgNDAxLjIxIDQ4LjQ2IDQwMS4yMSAyOS42IDM2MC4xMiAwIi8+CiAgICAgIDwvZz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPg=="},2309:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwLjc4IDEyLjM0ODlDMjAuNzggMTIuMzMwMiAyMC43OCAxMi4zMDIyIDIwLjc4IDEyLjI4MzVDMjAuNzggMTIuMjI3MyAyMC43NzA3IDEyLjE3MTIgMjAuNzUyIDEyLjExNTFDMjAuNzQyNiAxMi4wOTY0IDIwLjc0MjYgMTIuMDc3NiAyMC43MzMzIDEyLjA1ODlDMjAuNzA1MiAxMS45OTM1IDIwLjY2NzggMTEuOTI4IDIwLjYyMSAxMS44NzE4TDE1Ljk5OTcgNi43MDc5NkMxNS43NTY1IDYuNDM2NjcgMTUuMzQ0OSA2LjQxNzk2IDE1LjA3MzYgNi42NjExOEMxNC44MDIzIDYuOTA0NDEgMTQuNzgzNiA3LjMxNjAyIDE1LjAyNjggNy41ODczMUwxOC42NzUyIDExLjY1NjdIOC4zMzgwN0M3Ljk3MzIzIDExLjY1NjcgNy42ODMyMyAxMS45NDY3IDcuNjgzMjMgMTIuMzExNUM3LjY4MzIzIDEyLjY3NjQgNy45NzMyMyAxMi45NjY0IDguMzM4MDcgMTIuOTY2NEgxOC41MDY4TDE1LjA1NDkgMTYuMjg3M0MxNC43OTI5IDE2LjUzOTkgMTQuNzgzNiAxNi45NTE1IDE1LjAzNjEgMTcuMjEzNUMxNS4xNjcxIDE3LjM0NDQgMTUuMzM1NSAxNy40MDk5IDE1LjUwMzkgMTcuNDA5OUMxNS42NjI5IDE3LjQwOTkgMTUuODMxMyAxNy4zNDQ0IDE1Ljk2MjMgMTcuMjIyOEwyMC41ODM2IDEyLjc2OTlDMjAuNTkyOSAxMi43NjA2IDIwLjU5MjkgMTIuNzYwNiAyMC41OTI5IDEyLjc1MTJDMjAuNjQ5MSAxMi42OTUxIDIwLjY5NTggMTIuNjM4OSAyMC43MjM5IDEyLjU2NDFDMjAuNzIzOSAxMi41NjQxIDIwLjcyMzkgMTIuNTY0MSAyMC43MjM5IDEyLjU1NDdDMjAuNzIzOSAxMi41NDU0IDIwLjcyMzkgMTIuNTM2IDIwLjczMzMgMTIuNTI2N0MyMC43NjEzIDEyLjQ3OTkgMjAuNzggMTIuNDE0NCAyMC43OCAxMi4zNDg5WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEwLjU5MjYgMTkuOTE3SDQuNjQyOTNWMy45NzYzMUgxMC41OTI2QzEwLjk1NzUgMy45NzYzMSAxMS4yNDc1IDMuNjg2MzEgMTEuMjQ3NSAzLjMyMTQ3QzExLjI0NzUgMi45NTY2MyAxMC45NTc1IDIuNjY2NjMgMTAuNTkyNiAyLjY2NjYzSDMuOTg4MDlDMy42MjMyNSAyLjY2NjYzIDMuMzMzMjUgMi45NTY2MyAzLjMzMzI1IDMuMzIxNDdWMjAuNTcxOEMzLjMzMzI1IDIwLjkzNjcgMy42MjMyNSAyMS4yMjY3IDMuOTg4MDkgMjEuMjI2N0gxMC41OTI2QzEwLjk1NzUgMjEuMjI2NyAxMS4yNDc1IDIwLjkzNjcgMTEuMjQ3NSAyMC41NzE4QzExLjI0NzUgMjAuMjA3IDEwLjk1NzUgMTkuOTE3IDEwLjU5MjYgMTkuOTE3WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},"247d":function(t,e,i){"use strict";var s=i("e1d3f"),o=i.n(s);o.a},2568:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-tour",{staticClass:"nd-tour",attrs:{name:"nd-tour",callbacks:t.callbacks,options:t.options,steps:t.steps},scopedSlots:t._u([{key:"default",fn:function(e){return[i("transition",{attrs:{name:"fade"}},[e.steps[e.currentStep]?i("v-step",{key:e.currentStep,attrs:{step:e.steps[e.currentStep],"previous-step":e.previousStep,"next-step":e.nextStep,stop:e.stop,skip:e.skip,"is-first":e.isFirst,"is-last":e.isLast,labels:e.labels}},[i("template",{slot:"header"},[i("div",{staticClass:"flex justify-between items-center"},[i("div",[t.options.title.show&&e.steps[e.currentStep]&&e.steps[e.currentStep].header&&e.steps[e.currentStep].header.title?i("div",{staticClass:"font-size-subtitle-1",domProps:{textContent:t._s(e.steps[e.currentStep].header.title)}}):t._e()]),i("div",[i("q-btn",{attrs:{size:"sm",flat:"",dense:"",round:"",icon:"close"},on:{click:e.stop}})],1)])]),i("template",{slot:"content"},[e.steps[e.currentStep]&&e.steps[e.currentStep].content?i("div",{staticClass:"font-size-subtitle-2 q-py-md",domProps:{innerHTML:t._s(e.steps[e.currentStep].content)}}):t._e()]),i("template",{slot:"actions"},[i("div",{staticClass:"flex justify-between items-end"},[i("div",[t.options.dots.show&&e.steps.length>1?i("div",t._l(e.steps,(function(t,s){return i("q-icon",{key:s,attrs:{name:"fas fa-circle",color:e.currentStep===s?"primary":"grey-5",size:"2px"}})})),1):t._e()]),i("div",[t.options.btns.show?i("div",{staticClass:"flex"},[e.isLast?t._e():i("div",{staticClass:"nd-mr-2 nd-tour-btn nd-tour-btn--outline",on:{click:e.skip}},[i("div",{staticClass:"nd-tour-btn__warpper"},[t._v("\n                  "+t._s(e.labels.buttonSkip)+"\n                ")])]),e.isFirst?t._e():i("div",{staticClass:"nd-mr-2 nd-tour-btn nd-tour-btn--outline",on:{click:e.previousStep}},[i("div",{staticClass:"nd-tour-btn__warpper"},[t._v("\n                  "+t._s(e.labels.buttonPrevious)+"\n                ")])]),e.isLast?t._e():i("div",{staticClass:"nd-tour-btn nd-tour-btn__next",on:{click:e.nextStep}},[i("div",{staticClass:"nd-tour-btn__warpper"},[t._v("\n                  "+t._s(e.labels.buttonNext)+"\n                ")])]),e.isLast?i("div",{staticClass:"nd-tour-btn nd-tour-btn__next",on:{click:e.stop}},[i("div",{staticClass:"nd-tour-btn__warpper"},[t._v("\n                  "+t._s(e.labels.buttonStop)+"\n                ")])]):t._e()]):t._e()])])])],2):t._e()],1)]}}])})},o=[],r={name:"NdTour",props:{steps:{type:Array,default:[]},options:{type:Object,default:function(){return{labels:{buttonSkip:"Skip",buttonPrevious:"Previous",buttonNext:"Next",buttonStop:"Finish"},title:{show:!0},dots:{show:!0},btns:{show:!0}}}}},data:function(){return{callbacks:{onFinish:this.onFinish,onNextStep:this.onNextStep,onPreviousStep:this.onPreviousStep,onSkip:this.onSkip,onStart:this.onStart,onStop:this.onStop}}},mounted:function(){this.$tours["nd-tour"].start()},methods:{onFinish:function(){this.$emit("update:call-back",{name:"onFinish"})},onNextStep:function(){this.$emit("update:call-back",{name:"onNextStep"})},onPreviousStep:function(){this.$emit("update:call-back",{name:"onPreviousStep"})},onSkip:function(){this.$emit("update:call-back",{name:"onSkip"})},onStart:function(){this.$emit("update:call-back",{name:"onStart"})},onStop:function(){this.$emit("update:call-back",{name:"onStop"})}}},n=r,a=(i("2e7c"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"9e76aaf2",null);e["a"]=c.exports},"25ad":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0zNC4yMjk2IDE0LjY5MDhDMzQuMjI5NiAxNC41ODczIDM0LjIxNDggMTQuNDgzOCAzNC4xODUyIDE0LjM4MDJMMzEuMDUwMiA1LjIyNjYyQzMwLjk0NjcgNC4zMDk3NyAzMC4yMjIxIDMuNTk5OTggMjkuMzM0OCAzLjU5OTk4SDYuNzgzNDZDNS44OTYyIDMuNTk5OTggNS4xNzE2IDQuMzA5NzcgNS4wNjgwOCA1LjIyNjYyTDEuODU5MTQgMTQuMzgwMkMxLjgyOTU2IDE0LjQ4MzggMS43OTk5OSAxNC41ODczIDEuNzk5OTkgMTQuNjkwOEMxLjc5OTk5IDE1LjQxNTQgMi4xOTkyNiAxNi4yMTM5IDIuODQ5OTIgMTYuODc5NEMyLjg0OTkyIDE2Ljg5NDIgMi44MzUxMyAxNi45MDkgMi44MzUxMyAxNi45MjM3VjMxLjk3NzdDMi44MzUxMyAzMi41MSAzLjI2Mzk4IDMyLjkzODkgMy43ODE1NSAzMi45Mzg5SDMyLjI5MjRDMzIuODI0NyAzMi45Mzg5IDMzLjIzODggMzIuNTEgMzMuMjM4OCAzMS45Nzc3VjE2LjkyMzdDMzMuMjM4OCAxNi44OTQyIDMzLjIyNCAxNi44NDk4IDMzLjIyNCAxNi44MjAyQzMzLjg0NTEgMTYuMTU0OCAzNC4yMjk2IDE1LjQwMDYgMzQuMjI5NiAxNC42OTA4Wk0zMS4zNDU5IDMxLjAxNjVINC43NDI3NVYxOC4xMzYzQzUuMzA0NjkgMTguMzQzNCA1LjkxMDk5IDE4LjQ3NjUgNi41NDY4NiAxOC40NzY1QzguMTE0MzYgMTguNDc2NSA5LjUwNDQxIDE3LjczNzEgMTAuMzYyMSAxNi43NzU5QzExLjIzNDYgMTcuNzM3MSAxMi42MDk4IDE4LjQ3NjUgMTQuMTc3MyAxOC40NzY1QzE1Ljc0NDggMTguNDc2NSAxNy4xMzQ5IDE3LjczNzEgMTcuOTkyNiAxNi43NzU5QzE4Ljg2NTEgMTcuNzM3MSAyMC4yNDAzIDE4LjQ3NjUgMjEuODA3OCAxOC40NzY1QzIzLjM3NTMgMTguNDc2NSAyNC43NjU0IDE3LjczNzEgMjUuNjIzMSAxNi43NzU5QzI2LjQ5NTYgMTcuNzM3MSAyNy44NzA4IDE4LjQ3NjUgMjkuNDM4MyAxOC40NzY1QzMwLjEwMzggMTguNDc2NSAzMC43Mzk2IDE4LjM0MzQgMzEuMzE2NCAxOC4xMDY4VjMxLjAxNjVIMzEuMzQ1OVpNMjkuNDY3OSAxNi41Njg4QzI3Ljg0MTIgMTYuNTY4OCAyNi42MTM5IDE1LjMxMTkgMjYuNjEzOSAxNC42OTA4VjEyLjQ0MzFDMjYuNjEzOSAxMS45MTA3IDI2LjE4NSAxMS40ODE4IDI1LjY2NzQgMTEuNDgxOEMyNS42Njc0IDExLjQ4MTggMjUuNjY3NCAxMS40ODE4IDI1LjY1MjcgMTEuNDgxOEMyNS42NTI3IDExLjQ4MTggMjUuNjUyNyAxMS40ODE4IDI1LjYzNzkgMTEuNDgxOEMyNS4xMDU1IDExLjQ4MTggMjQuNjkxNCAxMS45MTA3IDI0LjY5MTQgMTIuNDQzMVYxNC42OTA4QzI0LjY5MTQgMTUuMzExOSAyMy40NjQxIDE2LjU2ODggMjEuODM3NCAxNi41Njg4QzIwLjIxMDggMTYuNTY4OCAxOC45ODM0IDE1LjMxMTkgMTguOTgzNCAxNC42OTA4VjEyLjQ0MzFDMTguOTgzNCAxMS45MTA3IDE4LjU1NDUgMTEuNDgxOCAxOC4wMzcgMTEuNDgxOEMxOC4wMzcgMTEuNDgxOCAxOC4wMzcgMTEuNDgxOCAxOC4wMjIyIDExLjQ4MThDMTguMDIyMiAxMS40ODE4IDE4LjAyMjIgMTEuNDgxOCAxOC4wMDc0IDExLjQ4MThDMTcuNDc1IDExLjQ4MTggMTcuMDYxIDExLjkxMDcgMTcuMDYxIDEyLjQ0MzFWMTQuNjkwOEMxNy4wNjEgMTUuMzExOSAxNS44MzM2IDE2LjU2ODggMTQuMjA2OSAxNi41Njg4QzEyLjU4MDMgMTYuNTY4OCAxMS4zNTI5IDE1LjMxMTkgMTEuMzUyOSAxNC42OTA4QzExLjM1MjkgMTQuNjQ2NCAxMS4zMzgxIDE0LjYxNjkgMTEuMzM4MSAxNC41ODczVjEyLjQ0MzFDMTEuMzM4MSAxMS45MTA3IDEwLjkwOTMgMTEuNDgxOCAxMC4zOTE3IDExLjQ4MThDOS44NTkzMiAxMS40ODE4IDkuNDQ1MjYgMTEuOTEwNyA5LjQ0NTI2IDEyLjQ0MzFWMTQuNjkwOEM5LjQ0NTI2IDE1LjMxMTkgOC4yMTc4OCAxNi41Njg4IDYuNTkxMjIgMTYuNTY4OEM1LjA2ODA4IDE2LjU2ODggMy44ODUwNiAxNS40NzQ1IDMuNzUxOTcgMTQuODA5MUw2LjkzMTM0IDUuNzU4OThDNi45NDYxMyA1LjcxNDYxIDYuOTQ2MTMgNS42NzAyNiA2Ljk0NjEzIDUuNjI1ODlDNi45NjA5MiA1LjU4MTUzIDYuOTc1NzEgNS41MzcxNyA2Ljk3NTcxIDUuNDkyODFIMjkuMTcyMUMyOS4xNzIxIDUuNTM3MTcgMjkuMjAxNyA1LjU4MTUzIDI5LjIwMTcgNS42MjU4OUMyOS4yMTY1IDUuNjcwMjYgMjkuMjAxNyA1LjcxNDYyIDI5LjIxNjUgNS43NDQyTDMyLjMyMTkgMTQuODA5MUMzMi4xNzQxIDE1LjQ1OTcgMzAuOTkxIDE2LjU2ODggMjkuNDY3OSAxNi41Njg4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},"26b4":function(t,e,i){"use strict";var s=i("6a32"),o=i.n(s);o.a},"26e6":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxNSAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0LjQ5MTcgNi45Nzk2M0MxNC40OTE3IDEwLjc2OTcgNy43OTE4MyAxNy44ODkgNy42MjkyOSAxOC4xMTcyQzcuNDY1ODUgMTcuODg5IDAuNzY2ODQ2IDEwLjc2OTcgMC43NjY4NDYgNi45Nzk2M0MwLjc2Njg0NiAzLjE4OTYxIDMuODM5MjcgMC4xMTcxODggNy42MjkyOSAwLjExNzE4OEMxMS40MTkzIDAuMTE3MTg4IDE0LjQ5MTcgMy4xODk2MSAxNC40OTE3IDYuOTc5NjNaIiBmaWxsPSIjMDA5OEZGIi8+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF81MzE3XzE3NTA3KSI+CjxwYXRoIGQ9Ik01LjcwMjk5IDguMDMxNDNDNS42NjQ0NiA4LjA5NDE0IDUuNjE3MjUgOC4xNTE4IDUuNTU5ODMgOC4xOTg0QzUuNTEzMzggOC4yMzYxNSA1LjQ0NjA3IDguMjI3NzggNS40MDk2NyA4LjE3OTQ0QzUuMzg1NDUgOC4xNDc1MyA1LjM4MDg4IDguMTA1OTkgNS4zOTQxMyA4LjA3MDc3TDUuMzk3OTQgOC4wNjA4MUM1LjQxMzQ3IDguMDE5NzUgNS40MzAyMyA3Ljk4MTUyIDUuNDQ1NDYgNy45NDIzNUM1LjQ1MjYxIDcuOTIyNDQgNS40NjEzIDcuOTAzOCA1LjQ2NzY5IDcuODgzNTlDNS40NzU0NiA3Ljg2NDMxIDUuNDgyNjIgNy44NDQ1NyA1LjQ4OTE3IDcuODI0NjdDNS41MTcxOSA3Ljc0NTg1IDUuNTQyMTcgNy42NjQxOCA1LjU1NjE4IDcuNTc5NjhDNS41NzA2NCA3LjQ5NTQ4IDUuNTc3MzUgNy40MDg0NSA1LjU3NDQ1IDcuMzI0MjZDNS41NzIxNyA3LjI0MDM4IDUuNTU5NjggNy4xNTczIDUuNTM3MjkgNy4wNzcwNUM1LjQ5MzczIDYuOTE2MjUgNS40MDk2NyA2Ljc2NzYxIDUuMjk3MTIgNi42NDc4OEM1LjE4NDg4IDYuNTI3NjggNS4wNDM2OSA2LjQzNzY0IDQuODkwNjQgNi4zODcyNUM0LjczNzczIDYuMzM3MzQgNC41NzE3MiA2LjMyNjc1IDQuNDEzOTQgNi4zNTc4N0M0LjI1NjAxIDYuMzg4MDQgNC4xMDYzIDYuNDYwMzkgMy45ODE0MiA2LjU2NTExQzMuODU2MjMgNi42Njk1MiAzLjc1NzA4IDYuODA2NjMgMy42OTQ0OSA2Ljk1OTUzQzMuNjYzNTcgNy4wMzYxNCAzLjY0MTc5IDcuMTE2NTQgMy42MjkzMSA3LjE5ODUyQzMuNjIzODIgNy4yMzk3NSAzLjYxOTU2IDcuMjgwNjYgMy42MTg4IDcuMzIyOTlMMy42MTc3MyA3LjM5MDc2TDMuNjE3MTIgNy40NjM0MkMzLjYxNzEyIDcuNDY1NzkgMy42MTY5NyA3LjQ2ODE2IDMuNjE2ODIgNy40NzAzN0wzLjYxNjUxIDcuNDc1NzRDMy42MTYwNiA3LjQ4MjY5IDMuNjE1MjkgNy40OTg0OCAzLjYxNTE0IDcuNTEwODFMMy42MTQ5OSA3LjU1MTA4QzMuNjE1MjkgNy41NzgyNSAzLjYxNjA2IDcuNjA1OSAzLjYxNzU4IDcuNjMzNTRDMy42MjA0NyA3LjY4ODk4IDMuNjI1OTYgNy43NDQ3NCAzLjYzMzQyIDcuODAwMzRDMy42NDgxOSA3LjkxMTU0IDMuNjcxOTUgOC4wMjE4IDMuNzAyNzEgOC4xMjk4NEMzLjc2NSA4LjM0NTYxIDMuODU4NTEgOC41NTE0MyAzLjk3OTc0IDguNzM4MjlDNC4yMjIzNSA5LjExMzQ0IDQuNTc1NjggOS40MDU2NyA0Ljk3NDA5IDkuNjA4NjRDNS4zNzMyNyA5LjgxMjU3IDUuODEyOTUgOS45MzgzIDYuMjYwODYgMTAuMDExOUM2LjQ4NTE5IDEwLjA0ODkgNi43MTIxMiAxMC4wNzMyIDYuOTQwMTEgMTAuMDg3N0M2Ljk5NzA3IDEwLjA5MTggNy4wNTQxOCAxMC4wOTQ4IDcuMTExMjkgMTAuMDk2N0M3LjE2ODQgMTAuMDk5MyA3LjIyNTUxIDEwLjEwMTYgNy4yODI5MyAxMC4xMDIzQzcuMzk3IDEwLjEwNTcgNy41MTAxNiAxMC4xMDM3IDcuNjI5MjUgMTAuMTA0OEM3Ljc0ODM1IDEwLjEwMzggNy44NjE1MSAxMC4xMDU5IDcuOTc1NTggMTAuMTAyM0M4LjAzMjg0IDEwLjEwMTYgOC4wODk5NSAxMC4wOTkzIDguMTQ3MjIgMTAuMDk2N0M4LjIwNDMzIDEwLjA5NDggOC4yNjE0NCAxMC4wOTE4IDguMzE4NCAxMC4wODc3QzguNTQ2MzkgMTAuMDczNCA4Ljc3MzQ3IDEwLjA0OSA4Ljk5NzY1IDEwLjAxMTlDOS40NDU3MSA5LjkzODMgOS44ODUyNCA5LjgxMjQxIDEwLjI4NDQgOS42MDg2NEMxMC42ODI4IDkuNDA1ODIgMTEuMDM2MiA5LjExMzQ0IDExLjI3ODYgOC43MzgyOUMxMS40IDguNTUxNDMgMTEuNDkzNCA4LjM0NTYxIDExLjU1NTYgOC4xMjk4NEMxMS41ODY0IDguMDIxOTYgMTEuNjEwMiA3LjkxMTU0IDExLjYyNDkgNy44MDAzNEMxMS42MzI0IDcuNzQ0NzQgMTEuNjM3OSA3LjY4ODk4IDExLjY0MDggNy42MzM1NEMxMS42NDIzIDcuNjA1OSAxMS42NDMxIDcuNTc4MjUgMTEuNjQzNCA3LjU1MTA4TDExLjY0MzIgNy41MTA4MUMxMS42NDMxIDcuNDk4NDggMTEuNjQyMyA3LjQ4MjY5IDExLjY0MTggNy40NzU3NEwxMS42NDE1IDcuNDcwODRDMTEuNjQxNCA3LjQ2ODQ3IDExLjY0MTIgNy40NjU3OSAxMS42NDEyIDcuNDYzNDJMMTEuNjQwNiA3LjM5MDc2TDExLjYzOTYgNy4zMjI5OUMxMS42Mzg4IDcuMjgwODIgMTEuNjM0NSA3LjIzOTkxIDExLjYyOSA3LjE5ODUyQzExLjYxNjYgNy4xMTY1NCAxMS41OTQ4IDcuMDM2MTQgMTEuNTYzOSA2Ljk1OTUzQzExLjUwMTMgNi44MDY2MyAxMS40MDIxIDYuNjY5NjggMTEuMjc2OSA2LjU2NTExQzExLjE1MjEgNi40NjAzOSAxMS4wMDIzIDYuMzg4MDQgMTAuODQ0NCA2LjM1Nzg3QzEwLjY4NjYgNi4zMjY3NSAxMC41MjA2IDYuMzM3MzQgMTAuMzY3NyA2LjM4NzI1QzEwLjIxNDcgNi40Mzc2NCAxMC4wNzM1IDYuNTI3NjggOS45NjEyNCA2LjY0Nzg4QzkuODQ4NjkgNi43Njc2MSA5Ljc2NDc3IDYuOTE2MjUgOS43MjEwNiA3LjA3NzA1QzkuNjk4NjcgNy4xNTczIDkuNjg2MDMgNy4yNDA1NCA5LjY4MzkgNy4zMjQyNkM5LjY4MTAxIDcuNDA4NDUgOS42ODc3MSA3LjQ5NTY0IDkuNzAyMTggNy41Nzk2OEM5LjcxNjE5IDcuNjY0MTggOS43NDEwMSA3Ljc0NTg1IDkuNzY5MTkgNy44MjQ2N0M5Ljc3NTc0IDcuODQ0NTcgOS43ODI3NCA3Ljg2NDMxIDkuNzkwNjYgNy44ODM1OUM5Ljc5NzA2IDcuOTAzOCA5LjgwNTU5IDcuOTIyNDQgOS44MTI5IDcuOTQyMzVDOS44MjgxMyA3Ljk4MTUyIDkuODQ0ODggOC4wMTk1OSA5Ljg2MDQxIDguMDYwODFMOS44NjQwNyA4LjA3MDYxQzkuODg1NyA4LjEyNzYzIDkuODU4NTkgOC4xOTE5MiA5LjgwMzYxIDguMjE0MzVDOS43NjcyMSA4LjIyOTIgOS43Mjc0NiA4LjIyMTYyIDkuNjk4NjcgOC4xOTg0QzkuNjQxNTYgOC4xNTE5NiA5LjU5NDY1IDguMDk0NzggOS41NTYyOCA4LjAzMjU0QzkuMDA0NjUgOC4zNzk0MiA4LjMyNTEgOC41Njk5MSA3LjYzMDYyIDguNTY5OTFDNi45MzUyMyA4LjU3MDA3IDYuMjU1MDcgOC4zNzkxIDUuNzAyOTkgOC4wMzE0M1pNNC41NDMyNCA3Ljg3MDk1QzQuMjQzMzcgNy44NzA5NSA0LjAwMDE1IDcuNjE4ODUgNC4wMDAxNSA3LjMwNzY3QzQuMDAwMTUgNi45OTY2NSA0LjI0MzIyIDYuNzQ0MzkgNC41NDMyNCA2Ljc0NDM5QzQuODQzMTIgNi43NDQzOSA1LjA4NjM0IDYuOTk2NSA1LjA4NjM0IDcuMzA3NjdDNS4wODYzNCA3LjYxODg1IDQuODQzMTIgNy44NzA5NSA0LjU0MzI0IDcuODcwOTVaTTEwLjcxNTQgNi43NDQ1NUMxMS4wMTUzIDYuNzQ0NTUgMTEuMjU4NSA2Ljk5NjY1IDExLjI1ODUgNy4zMDc4M0MxMS4yNTg1IDcuNjE4ODUgMTEuMDE1NCA3Ljg3MTExIDEwLjcxNTQgNy44NzExMUMxMC40MTU1IDcuODcxMTEgMTAuMTcyMyA3LjYxOTAxIDEwLjE3MjMgNy4zMDc4M0MxMC4xNzIzIDYuOTk2ODEgMTAuNDE1NSA2Ljc0NDU1IDEwLjcxNTQgNi43NDQ1NVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMC43MTU1IDcuODcwNjlDMTEuMDE1MyA3Ljg3MDY5IDExLjI1ODUgNy42MTg1OSAxMS4yNTg1IDcuMzA3NDJDMTEuMjU4NSA2Ljk5NjQgMTEuMDE1NSA2Ljc0NDE0IDEwLjcxNTUgNi43NDQxNEMxMC40MTU2IDYuNzQ0MTQgMTAuMTcyNCA2Ljk5NjI0IDEwLjE3MjQgNy4zMDc0MkMxMC4xNzI0IDcuNjE4NTkgMTAuNDE1NiA3Ljg3MDY5IDEwLjcxNTUgNy44NzA2OVoiIGZpbGw9IiNGRjY0ODIiLz4KPHBhdGggZD0iTTQuNTQzODMgNi43NDQ2M0M0LjI0Mzk1IDYuNzQ0NjMgNC4wMDA3MyA2Ljk5NjczIDQuMDAwNzMgNy4zMDc5MUM0LjAwMDczIDcuNjE4OTIgNC4yNDM4IDcuODcxMTggNC41NDM4MyA3Ljg3MTE4QzQuODQzNyA3Ljg3MTE4IDUuMDg2OTIgNy42MTkwOCA1LjA4NjkyIDcuMzA3OTFDNS4wODY5MiA2Ljk5Njg5IDQuODQzNyA2Ljc0NDYzIDQuNTQzODMgNi43NDQ2M1oiIGZpbGw9IiNGRjY0ODIiLz4KPHBhdGggZD0iTTMuMzEwMDMgNy40NDc3NUMzLjMwOTg3IDcuNDUwNiAzLjMwOTcyIDcuNDUyOTcgMy4zMDk1NyA3LjQ1NTY1VjcuNDYwMDdMMy4zMTAwMyA3LjQ0Nzc1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTExLjk0OTQgNy40NjAwN1Y3LjQ1NTY1QzExLjk0OTMgNy40NTI5NyAxMS45NDkxIDcuNDUwNiAxMS45NDkgNy40NDc3NUwxMS45NDk0IDcuNDYwMDdaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNNy42MjQ3NiAxMC4yNDQxTDcuNjI1MjkgMTAuMjQ0N0w3LjYyNTgzIDEwLjI0NDFINy42MjQ3NloiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik05LjA5OTMzIDMuNjU0MjJDOS4wMzEyNiAzLjYxODgzIDkuMDAyNDcgMy41MzU1OSA5LjAzMDUgMy40NjM3MkM5LjAzMDUgMy40NjMyNSA5LjAzMDQ5IDMuNDYyOTMgOS4wMzAzNCAzLjQ2MjQ2QzkuMDI4NTEgMy40NDMxOSA5LjAyNzMgMy40MTAxNyA5LjAyNjY5IDMuMzk2NDNDOS4wMjYyMyAzLjM3ODc0IDkuMDI0MSAzLjM2MTM2IDkuMDIyODggMy4zNDM4M0M5LjAxNDk2IDMuMjc0MDEgOC45OTgyMSAzLjIwNTYyIDguOTcyMTYgMy4xNDA3QzguOTIwNjkgMy4wMTEwMSA4LjgzMTc1IDIuODk1MDcgOC43MTYzIDIuODE2NzJDOC42NTg4OSAyLjc3NzI0IDguNTk1NTMgMi43NDcyMiA4LjUyOTEzIDIuNzI3MTZDOC40OTU3OCAyLjcxNzM3IDguNDYxNjYgMi43MTA3NCA4LjQyNzI0IDIuNzA1MDVDOC4zOTIzNyAyLjcwMDE1IDguMzU5MDEgMi42OTc5NCA4LjMyMDMzIDIuNjk1ODlDOC4yNDU3IDIuNjkzMDQgOC4xNzQ0MyAyLjY5Mzk5IDguMTA4NjQgMi43MTE2OEM4LjA0MjM5IDIuNzI3NDggNy45Nzc5NyAyLjc2MTc2IDcuOTExNTYgMi44MDQ0TDcuOTExMTEgMi44MDQ3MkM3Ljg4MTEgMi44MjM5OSA3Ljg0MTY2IDIuODE0MzYgNy44MjI5MyAyLjc4MzI0QzcuODA3MjQgMi43NTY4NiA3LjgxMTM1IDIuNzIzNTMgNy44MzExNSAyLjcwMjIxQzcuODgxODcgMi42NDc1NSA3Ljk0MzU1IDIuNTk1NzQgOC4wMTU0MyAyLjU1NjczQzcuOTgyMzggMi40OTgxMiA3Ljk0MjE4IDIuNDQ4NjggNy44OTI1MyAyLjQxMjY3QzcuODI5NzggMi4zNjcxOCA3Ljc1MTE5IDIuMzQxNTkgNy42NjQ4NCAyLjMzMDIyQzcuNDg4MTggMi4zMDgyNiA3LjMwMzc0IDIuMzQ3MTIgNy4xNDkxNiAyLjQzODI2QzYuOTk0MTIgMi41Mjg2MSA2Ljg3MjQ0IDIuNjc1NjcgNi44MjA5NiAyLjg1MDA1QzYuNzk1MzcgMi45MzcwOSA2Ljc4NDg3IDMuMDI5ODEgNi43OTAyIDMuMTIzOTVDNi43OTIxOCAzLjE3MTAyIDYuNzk1NjggMy4yMTI0MSA2LjgwNjQ5IDMuMjUwNzlDNi44MTc5MSAzLjI4OTAyIDYuODMzMTQgMy4zMjE1NiA2Ljg2MTE3IDMuMzU4MzZMNi44NjE5MyAzLjM1OTMxQzYuODY1NTggMy4zNjQyMSA2Ljg2ODYzIDMuMzY5NDIgNi44NzEwNyAzLjM3NDc5TDYuNzA3MzUgMy40MzI0NEw2LjY3NTY3IDMuNDQyMDhDNS40ODAxMyAzLjgwNDEyIDQuNjMyNDQgNC44MTM5NCA0LjQ4NjA4IDYuMDM0OEM0LjY1MjcgNi4wMjA3NCA0LjgyMTc1IDYuMDQwMDEgNC45ODEzNiA2LjA5MjkzQzUuMTgxMzIgNi4xNTk1OCA1LjM2NDU0IDYuMjc4MDUgNS41MDk2OCA2LjQzNDc1QzUuNjU1MTIgNi41OTA4MSA1Ljc2MzQgNi43ODQ2MiA1LjgxOTQ1IDYuOTk0MjNDNS44NDgwOCA3LjA5ODggNS44NjM5MiA3LjIwNyA1Ljg2NjM2IDcuMzE1MzZDNS44Njk0IDcuNDIzMjUgNS44NjA3MiA3LjUyODc2IDUuODQyMyA3LjYzMzY1QzUuODM1MjkgNy42NzI4MiA1LjgyNjQ2IDcuNzExODQgNS44MTY0IDcuNzUwNTRDNi4zMjk4IDguMDg1MDkgNi45NzIwNCA4LjI2OTQzIDcuNjMwNzMgOC4yNjk0M0M4LjI4ODY1IDguMjY5NDMgOC45Mjk5OCA4LjA4NTU2IDkuNDQzMDcgNy43NTE5NkM5LjQzMjg3IDcuNzEyNzggOS40MjQwMyA3LjY3MzI5IDkuNDE2ODcgNy42MzM2NUM5LjM5ODQ1IDcuNTI4NiA5LjM4OTc3IDcuNDIzMjUgOS4zOTI4MSA3LjMxNTM2QzkuMzk1MjUgNy4yMDcgOS40MTEwOSA3LjA5ODggOS40Mzk3MiA2Ljk5NDIzQzkuNDk1NzYgNi43ODQ2MiA5LjYwNDA1IDYuNTkwODEgOS43NDk0OSA2LjQzNDc1QzkuODk0NjMgNi4yNzgwNSAxMC4wNzc4IDYuMTU5NTggMTAuMjc3OCA2LjA5MjkzQzEwLjQzNjIgNi4wNDA0OCAxMC42MDM5IDYuMDIwOSAxMC43NjkzIDYuMDM0MzJDMTAuNjQyOSA1LjAxNzg3IDEwLjAyOCA0LjEzNTk5IDkuMDk5MzMgMy42NTQyMlpNNi4zNzk3NSA2LjY5NjMzQzYuMjA0OTIgNi42OTYzMyA2LjA2MzI4IDYuNDk4NzIgNi4wNjMyOCA2LjI1NTE1QzYuMDYzMjggNi4wMTE0MiA2LjIwNDkyIDUuODEzOTcgNi4zNzk3NSA1LjgxMzk3QzYuNTU0NTkgNS44MTM5NyA2LjY5NjIzIDYuMDExNDIgNi42OTYyMyA2LjI1NTE1QzYuNjk2MzggNi40OTg4OCA2LjU1NDU5IDYuNjk2MzMgNi4zNzk3NSA2LjY5NjMzWk04LjEwNDgzIDcuMzc5NDlDOC4wODY4NiA3LjM4ODE4IDguMDY3OTcgNy4zOTI0NCA4LjA0OTM5IDcuMzkyNDRDOC4wMDA2NiA3LjM5MjQ0IDcuOTU0MDUgNy4zNjQwMSA3LjkzMTgyIDcuMzE1MzZDNy45Mjk4NCA3LjMxMTI1IDcuODA1MTEgNy4wNTI5OSA3LjYyOTM2IDcuMDQ3NDZDNy40NTM3NiA3LjA1Mjg0IDcuMzI4MjYgNy4zMTIzNiA3LjMyNzA1IDcuMzE0ODlDNy4yOTY0MyA3LjM4MjM0IDcuMjE4OTEgNy40MTE0IDcuMTUzODggNy4zNzk0OUM3LjA4ODg1IDcuMzQ3NzQgNy4wNjA5OCA3LjI2NzM0IDcuMDkxNTkgNy4xOTk4OUM3LjA5OTM2IDcuMTgyOTkgNy4yODQ0IDYuNzgzNjggNy42MjcwNyA2Ljc3NzM2QzcuNjI4NTkgNi43NzczNiA3LjYzMDEyIDYuNzc3MzYgNy42MzE2NCA2Ljc3NzM2QzcuOTc0MzEgNi43ODM2OCA4LjE1OTUgNy4xODI4NCA4LjE2NzEyIDcuMTk5ODlDOC4xOTc3MyA3LjI2NzM0IDguMTY5ODYgNy4zNDc3NCA4LjEwNDgzIDcuMzc5NDlaTTguODc4ODEgNi42OTYzM0M4LjcwMzk3IDYuNjk2MzMgOC41NjIzMyA2LjQ5ODcyIDguNTYyMzMgNi4yNTUxNUM4LjU2MjMzIDYuMDExNDIgOC43MDM5NyA1LjgxMzk3IDguODc4ODEgNS44MTM5N0M5LjA1MzY0IDUuODEzOTcgOS4xOTUyOCA2LjAxMTQyIDkuMTk1MjggNi4yNTUxNUM5LjE5NTI4IDYuNDk4ODggOS4wNTM0OSA2LjY5NjMzIDguODc4ODEgNi42OTYzM1oiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfNTMxN18xNzUwNyI+CjxyZWN0IHdpZHRoPSI4LjY0IiBoZWlnaHQ9IjcuOTIiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzLjMwOTMzIDIuMzI0MjIpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},"277d":function(t,e,i){"use strict";var s=i("b83d"),o=i.n(s);o.a},"27a8":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIyLjAyMzMgMTkuNzU5NkgxLjYyMTJDMS4yODM4MyAxOS43NTk2IDEuMDA4NjEgMTkuNDg0MyAxLjAwODYxIDE5LjE0N1Y1LjI3OTIyQzEuMDA4NjEgNC45NDE4NSAxLjI4MzgzIDQuNjY2NjMgMS42MjEyIDQuNjY2NjNIMjIuMDIzM0MyMi4zNjA3IDQuNjY2NjMgMjIuNjM1OSA0Ljk0MTg1IDIyLjYzNTkgNS4yNzkyMlYxOS4xNDdDMjIuNjQ0OCAxOS40ODQzIDIyLjM2OTUgMTkuNzU5NiAyMi4wMjMzIDE5Ljc1OTZaTTIuMjQyNjggMTguNTI1NUgyMS40MTA3VjUuOTAwNjlIMi4yNDI2OFYxOC41MjU1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTExLjg4MzkgMTcuMzE3Nkg2LjY3MjQzQzYuMzA4NDIgMTcuMzE3NiA2LjAxNTQ0IDE3LjAyNDcgNi4wMTU0NCAxNi42NjA3QzYuMDE1NDQgMTYuMjk2NiA2LjMwODQyIDE2LjAwMzcgNi42NzI0MyAxNi4wMDM3SDExLjg4MzlDMTIuMjQ3OSAxNi4wMDM3IDEyLjU0MDkgMTYuMjk2NiAxMi41NDA5IDE2LjY2MDdDMTIuNTQwOSAxNy4wMjQ3IDEyLjI0NzkgMTcuMzE3NiAxMS44ODM5IDE3LjMxNzZaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNNC41Njg1NCAxNy4zNjIySDMuNzYwNjJDMy4zOTY2MiAxNy4zNjIyIDMuMTAzNjQgMTcuMDY5MiAzLjEwMzY0IDE2LjcwNTJDMy4xMDM2NCAxNi4zNDEyIDMuMzk2NjIgMTYuMDQ4MiAzLjc2MDYyIDE2LjA0ODJINC41Njg1NEM0LjkzMjU1IDE2LjA0ODIgNS4yMjU1MyAxNi4zNDEyIDUuMjI1NTMgMTYuNzA1MkM1LjIyNTUzIDE3LjA2OTIgNC45MzI1NSAxNy4zNjIyIDQuNTY4NTQgMTcuMzYyMloiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0yMi4xODMgOC4wMjIyMkgxLjY5MjA4VjExLjEzODVIMjIuMTgzVjguMDIyMjJaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"},2900:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWcluWxpF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMzUuMSAzNS4xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzNS4xIDM1LjE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHRpdGxlPmk8L3RpdGxlPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik0zMCwxMy4yaC0yLjJ2LTIuOUMyNy44LDQuNiwyMy4yLDAsMTcuNSwwUzcuMyw0LjYsNy4zLDEwLjJ2Mi45SDUuMWMtMC40LDAtMC43LDAuMy0wLjcsMC43djE4LjNjMCwxLjYsMS4zLDIuOSwyLjksMi45CgkJCWgyMC41YzEuNiwwLDIuOS0xLjMsMi45LTIuOVYxMy45QzMwLjcsMTMuNSwzMC40LDEzLjIsMzAsMTMuMnogTTE5LjcsMjguNGMwLDAuMiwwLDAuNC0wLjIsMC42Yy0wLjEsMC4yLTAuMywwLjItMC41LDAuMmgtMi45CgkJCWMtMC4yLDAtMC40LTAuMS0wLjUtMC4yYy0wLjEtMC4yLTAuMi0wLjQtMC4yLTAuNmwwLjUtNC4xYy0wLjctMC41LTEuMi0xLjQtMS4yLTIuNGMwLTEuNiwxLjMtMi45LDIuOS0yLjlzMi45LDEuMywyLjksMi45CgkJCWMwLDAuOS0wLjQsMS44LTEuMiwyLjRMMTkuNywyOC40eiBNMjMuNCwxMy4ySDExLjd2LTIuOWMwLTMuMiwyLjYtNS44LDUuOC01LjhzNS44LDIuNiw1LjgsNS44VjEzLjJ6Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg=="},"2b4e":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzkiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCA3OSAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzcwNjlfNjcwMSkiPgo8cGF0aCBkPSJNNTYuNDgyOSAxMi40ODA0QzU3LjAyODggMTEuNjc5IDU3LjM1NzEgMTAuNDYzNyA1Ny4xODU5IDkuNDI2NjJDNTcuMDU1NCA4LjYzMzcyIDU2LjYzMzEgNy45NDYwNyA1NS43OTUzIDcuNjMwMzFDNTUuMzUxOSA3LjQ2MzMxIDU0Ljg2MDggNy4zNTUyNSA1NC40MDIgNy4yODUwOEM1Mi43MDY5IDcuMDExNDMgNTAuNzMyNiA3LjEyMzcgNDkuMzExMiA3LjI3NjY2QzQ4LjE5MjggNy4zOTczNSA0Ny4zMTMgOC4yODU2OCA0Ny4xOTggOS40MDU1N0w0Ni41MTA0IDE1LjkxNThDNDYuNDYxMyAxNi4zODU5IDQ2LjgyODkgMTYuNzk1NyA0Ny4zMDE4IDE2Ljc5NTdINDguODM0MUM0OS4yNDEgMTYuNzk1NyA0OS41ODM0IDE2LjQ4ODQgNDkuNjI1NSAxNi4wODI4TDQ5Ljg2MTIgMTMuODMxOEg1Mi42Njc2QzUzLjg2MTcgMTMuODMxOCA1NC42ODU0IDEzLjY2MiA1NS4yMjcgMTMuNDgxQzU1Ljc1NDcgMTMuMzA0MSA1Ni4xNzQyIDEyLjkzNSA1Ni40ODQzIDEyLjQ4MDRINTYuNDgyOVpNNTIuODcxMSAxMi4wMzQxQzUyLjcxODEgMTIuNDQ2NyA1Mi4zMjUyIDEyLjcwOTEgNTEuODczNCAxMi43MTE5SDUxLjg1MUw0OS45NzYzIDEyLjcyMzFMNTAuMzQ1MyA5LjIxMTkxQzUwLjM2OTIgOS4wMTgyNCA1MC41Mjc3IDguODc5MzEgNTAuNzI1NiA4Ljg3OTMxTDUyLjEwOTEgOC44NzUxQzUyLjcxMTEgOC44NzUxIDUyLjkxMTggOS4wMDcwMiA1My4wMjU0IDkuMjE4OTJDNTMuMjQ5OSA5LjYzNTcyIDUzLjQ0MzYgMTAuNDgyIDUyLjg3MTEgMTIuMDM0MVoiIGZpbGw9IiNGRjQ2MDAiLz4KPHBhdGggZD0iTTY0LjkzMjkgMTAuOTU3N0M2NC43MzA5IDEwLjI4NDEgNjQuMTEyMSA5LjgyMzc4IDYzLjQwOTEgOS44MjM3OEg2MC45MjI2QzYwLjA2OTUgOS44MjM3OCA1OS4yODA5IDEwLjI3OTkgNTguODU1NyAxMS4wMThMNTQuNDgxOSAxOC42MDQ3QzU0LjI1MzIgMTkuMDAxOCA1NC41Mzk1IDE5LjUgNTQuOTk4MyAxOS41SDU2LjU2MjlDNTYuOTg5NCAxOS41IDU3LjM4MzcgMTkuMjcyNyA1Ny41OTcgMTguOTAyMkw1OC42MzQgMTcuMTAzSDYzLjA4NzdMNjMuNTUwOCAxOC42NDgyQzYzLjcwMjMgMTkuMTUzNCA2NC4xNjY4IDE5LjQ5ODYgNjQuNjk0NCAxOS40OTg2SDY2LjY5MTFDNjcuMDkxIDE5LjQ5ODYgNjcuMzc3MyAxOS4xMTQxIDY3LjI2MjIgMTguNzMxTDY0LjkzMjkgMTAuOTU3N1pNNTkuNDE5OCAxNS43MzlMNjEuMjgxOCAxMi41MDk4QzYxLjQwMzkgMTIuMjg2NyA2MS42NTA5IDEyLjMyNiA2MS43MzM2IDEyLjU4MjhMNjIuNjc5NCAxNS43MzlINTkuNDIxMkg1OS40MTk4WiIgZmlsbD0iI0ZGNDYwMCIvPgo8cGF0aCBkPSJNNzguNTc3NyA3LjQ1MzQ5SDc3LjIxMzhDNzYuOTEzNSA3LjQ1MzQ5IDc2LjYyNDQgNy41NjcxNiA3Ni40MDQxIDcuNzcwNjVMNzIuMTU4MSAxMS42OTQ1TDY4Ljk3NDIgOC4wMDUwMUM2OC42NzI1IDcuNjU0MTcgNjguMjMxOSA3LjQ1MzQ5IDY3Ljc3MDMgNy40NTM0OUg2NS45NTU5QzY1LjI3NTQgNy40NTM0OSA2NC45MDkxIDguMjUzNDEgNjUuMzUzOSA4Ljc2ODQ1TDY5LjU5NDQgMTMuNjg4N0w2OS4zNTMxIDE2LjExNTFDNjkuMzExIDE2LjQ2MDMgNjkuNjAxNCAxNi43ODQ1IDY5Ljk1NSAxNi43ODQ1SDcxLjk3NDJDNzIuMjM5NCAxNi43ODQ1IDcyLjQ1MjcgMTYuNTk3OCA3Mi40ODUgMTYuMzM4Mkw3Mi43NTQ0IDEzLjY5ODVMNzguODgwOCA4LjA1NDEzQzc5LjE0NiA3LjgwODU0IDc4LjkzOTcgNy40NTQ4OSA3OC41Nzc3IDcuNDU0ODlWNy40NTM0OVoiIGZpbGw9IiNGRjQ2MDAiLz4KPHBhdGggZD0iTTQ0LjAyNTMgMTIuMzU0SDQwLjc0ODhMNDEuMDIyNCA5LjcyNjk0QzQxLjA5NTQgOS4wMjI0NSA0MC41NDM5IDguNDA5MTggMzkuODM1MyA4LjQwOTE4SDM4LjA5MTFDMzcuNDgwNyA4LjQwOTE4IDM2Ljk2ODYgOC44NzA4OSAzNi45MDQgOS40Nzg1NUwzNi42MDIzIDEyLjM1NEgzMy4xNTYxQzMyLjc0OTIgMTIuMzU0IDMyLjQwODIgMTIuNjYxNCAzMi4zNjQ3IDEzLjA2N0wzMi4zMzI0IDEzLjM3OTlDMzIuMjgzMyAxMy44NSAzMi42NTA5IDE0LjI1ODQgMzMuMTIzOCAxNC4yNTg0SDM2LjQwMzFMMzYuMTI2NyAxNi44ODU1QzM2LjA1MjMgMTcuNTkgMzYuNjA1MSAxOC4yMDMzIDM3LjMxMzggMTguMjAzM0gzOS4wNjQ5QzM5LjY3NjcgMTguMjAzMyA0MC4xODg5IDE3Ljc0MTYgNDAuMjUyMSAxNy4xMzM5TDQwLjU1MjMgMTQuMjU4NEg0My45OTQ0QzQ0LjQwMTMgMTQuMjU4NCA0NC43NDIzIDEzLjk1MTEgNDQuNzg1OCAxMy41NDU1TDQ0LjgxODEgMTMuMjMyNkM0NC44NjcyIDEyLjc2MjQgNDQuNDk5NSAxMi4zNTQgNDQuMDI2NyAxMi4zNTRINDQuMDI1M1oiIGZpbGw9IiNGRjQ2MDAiLz4KPHBhdGggZD0iTTE0LjI3NDcgMTguMzg3MUg5LjE0NDY0TDkuMzk0NDEgMTYuMDMzN0gxMi4yMzE3QzEyLjQzNTEgMTYuMDMzNyAxMi42MDYzIDE1Ljg3OTMgMTIuNjI3NCAxNS42NzcyTDEyLjY1OTYgMTUuMzY4NUMxMi42ODQ5IDE1LjEzNDEgMTIuNDk5NyAxNC45MjkyIDEyLjI2MzkgMTQuOTI5Mkg5LjUxMjI4TDkuNjc2NDUgMTMuMzc3MUgxMi45NjY5QzEzLjE3MDQgMTMuMzc3MSAxMy4zNDE2IDEzLjIyMjcgMTMuMzYyNyAxMy4wMjA3TDEzLjM5NDkgMTIuNzExOUMxMy40MTg4IDEyLjQ3NzYgMTMuMjM1IDEyLjI3MjcgMTIuOTk5MiAxMi4yNzI3SDIuOTg2MDFDMi43ODI1NSAxMi4yNzI3IDIuNjExMzYgMTIuNDI3IDIuNTkwMzEgMTIuNjI5MUwyLjU1ODAzIDEyLjkzNzlDMi41MzI3OCAxMy4xNzIyIDIuNzE4IDEzLjM3NzEgMi45NTM3NCAxMy4zNzcxSDYuMTU4NjRMNS45OTU4NyAxNC45MjkySDMuMTY0MjJDMi45NjA3NSAxNC45MjkyIDIuNzg5NTYgMTUuMDgzNiAyLjc2ODUxIDE1LjI4NTdMMi43MzYyNCAxNS41OTQ0QzIuNzEwOTggMTUuODI4OCAyLjg5NjIgMTYuMDMzNyAzLjEzMTk0IDE2LjAzMzdINS44ODA4MUw1LjYzMzg0IDE4LjM4NzFIMC40MzIxOTFDMC4yMjg3MjcgMTguMzg3MSAwLjA1NzUzNjkgMTguNTQwMSAwLjAzNjQ4OSAxOC43NDIyTDAuMDAyODEyMjYgMTkuMDU5M0MtMC4wMjI0NDUzIDE5LjI5MzcgMC4xNjEzNzMgMTkuNDk4NiAwLjM5ODUxNCAxOS40OTg2SDE0LjIzOTZDMTQuNDQzMSAxOS40OTg2IDE0LjYxMjkgMTkuMzQ1NiAxNC42MzU0IDE5LjE0MzVMMTQuNjcwNCAxOC44MjY0QzE0LjY5NTcgMTguNTkwNiAxNC41MTE5IDE4LjM4NTcgMTQuMjc0NyAxOC4zODU3VjE4LjM4NzFaIiBmaWxsPSIjRkY0NjAwIi8+CjxwYXRoIGQ9Ik0xNC44NTU2IDEwLjIwNDFIMTQuNTgwNkMxNC4wNzI3IDkuNDYwMyAxMi4xMDgyIDYuNzExMTEgMTAuMjU0NiA1LjgxMDE0QzguNzM3NzEgNS4wNzMzOCA3LjI5MjQyIDUuODQxMDIgNi43NDY1NyA2LjEzMDExQzQuODczMyA3LjEyNTEgMi45NTY1NCA5LjE5MjI2IDIuMDgyMzQgMTAuMjA0MUgxLjU3MDE4QzEuMzY2NzEgMTAuMjA0MSAxLjE5NTUyIDEwLjM1ODUgMS4xNzQ0OCAxMC41NjA1TDEuMTQyMiAxMC44NjkzQzEuMTE2OTQgMTEuMTAzNiAxLjMwMjE3IDExLjMwODUgMS41Mzc5IDExLjMwODVIMy41NDg2OEMzLjg4ODI2IDExLjMwODUgNC4yMTM4IDExLjE2NCA0LjQzOTcxIDEwLjkxQzUuMjk1NjcgOS45NDcyNyA2LjQ5ODIxIDguNzg1MjggNy43MzMwMiA4LjEyOTkxQzguMjc2MDYgNy44NDA4MiA4Ljg0NTc1IDcuNjA2NDYgOS4zMzI2NiA3Ljg0MzYzQzEwLjI3NyA4LjMwMjUzIDExLjM1MTkgOS42NjggMTIuMTEzOCAxMC43ODc5QzEyLjMzNTUgMTEuMTE0OSAxMi43MDQ1IDExLjMwODUgMTMuMDk4OCAxMS4zMDg1SDE0LjgyMkMxNS4wMjU0IDExLjMwODUgMTUuMTk2NiAxMS4xNTQyIDE1LjIxNzcgMTAuOTUyMUwxNS4yNDk5IDEwLjY0MzNDMTUuMjczOCAxMC40MDkgMTUuMDkgMTAuMjA0MSAxNC44NTQyIDEwLjIwNDFIMTQuODU1NloiIGZpbGw9IiNGRjQ2MDAiLz4KPHBhdGggZD0iTTMwLjQyNyAxOC4zODcxSDI5LjgzNjJMMzAuMDc5IDE2LjA3M0MzMC4xNzcyIDE1LjEzNDEgMjkuNDQwNSAxNC4zMTYgMjguNDk2MiAxNC4zMTZIMjguMDcyNEgxOS44NjY1SDE5LjEwODhDMTguMjk0OSAxNC4zMTYgMTcuNjExNiAxNC45MzA2IDE3LjUyNiAxNS43NDA0TDE3LjI0ODEgMTguMzg3MUgxNi41ODE2QzE2LjM3ODEgMTguMzg3MSAxNi4yMDcgMTguNTQwMSAxNi4xODU5IDE4Ljc0MjJMMTYuMTUyMiAxOS4wNTkzQzE2LjEyNyAxOS4yOTM3IDE2LjMxMDggMTkuNDk4NiAxNi41NDc5IDE5LjQ5ODZIMzAuMzkwNUMzMC41OTM5IDE5LjQ5ODYgMzAuNzYzNyAxOS4zNDU2IDMwLjc4NjIgMTkuMTQzNUwzMC44MjEyIDE4LjgyNjRDMzAuODQ2NSAxOC41OTA2IDMwLjY2MjcgMTguMzg1NyAzMC40MjU1IDE4LjM4NTdMMzAuNDI3IDE4LjM4NzFaTTIwLjcxMTIgMTguMzg3MUgxOS40Mzk5TDE5LjcxMzUgMTUuNzc4M0MxOS43MzQ2IDE1LjU3NjIgMTkuOTA1OCAxNS40MjE4IDIwLjEwOTIgMTUuNDIxOEgyMS4wMTk5TDIwLjcwOTggMTguMzg3MUgyMC43MTEyWk0yNC4xNzg1IDE4LjM4NzFIMjIuODk4OEwyMy4yMDg5IDE1LjQyMThIMjQuNDg4NkwyNC4xNzg1IDE4LjM4NzFaTTI3LjY0NTggMTguMzg3MUgyNi4zNjYxTDI2LjY3NjIgMTUuNDIxOEgyNy41MTY3QzI3Ljc1MjUgMTUuNDIxOCAyNy45Mzc3IDE1LjYyNjcgMjcuOTEyNCAxNS44NjExTDI3LjY0NzIgMTguMzg3MUgyNy42NDU4WiIgZmlsbD0iI0ZGNDYwMCIvPgo8cGF0aCBkPSJNMjguOTk5OCA4LjA0OTkzSDI4LjUxMTVMMjguNTY3NiA3LjUxNjY1QzI4LjY4NTUgNi40MTM2IDI3LjY4NzggNS41MTk2NSAyNi41ODQ5IDUuNTE5NjVIMjYuMjI4NUMyNi4yMjg1IDUuNTE5NjUgMjYuMjE1OSA1LjUxODI1IDI2LjIwODkgNS41MTgyNUgyMC4wNDg4QzE5Ljg0NTQgNS41MTgyNSAxOS42NzQyIDUuNjcxMjIgMTkuNjUzMSA1Ljg3MzNMMTkuNjE5NSA2LjE5MDQ2QzE5LjU5NDIgNi40MjQ4MyAxOS43NzggNi42Mjk3MiAyMC4wMTUyIDYuNjI5NzJIMjAuODI5TDE4LjkwMzggMTAuNzI0N0MxOC41ODI1IDExLjM3MzEgMTcuODc5NSAxMi4yMTA5IDE3LjE4OTEgMTIuNDU3OUMxNy4xMjc0IDEyLjQ4MDQgMTcuMDQ0NiAxMi41MDcgMTYuOTUzNCAxMi41MzUxQzE2LjY3NDEgMTIuNjIzNSAxNi40OTg3IDEyLjkwMTQgMTYuNTQyMiAxMy4xOTE5VjEzLjIwMzFDMTYuNTk0MiAxMy41NDEzIDE2LjkwOTkgMTMuNzY1OCAxNy4yNDUyIDEzLjcwMjdDMTguMDA0NCAxMy41NTgxIDE4LjcwMzIgMTMuMjc4OSAxOS4zMTA4IDEyLjg3MTlDMjAuMDE4IDEyLjM5NzYgMjAuNTYyNCAxMS43MTgzIDIwLjkyMyAxMC45NDY1TDIxLjkyNDkgOC44MDIxM0gyMy45Njk0QzIzLjk3OTIgOC44MDIxMyAyMy45ODA2IDguODEwNTUgMjMuOTgwNiA4LjgxMzM2QzIzLjkzMDEgOS4zMTk5NyAyMy43NjMxIDkuOTUyODkgMjMuNDU1OCAxMC41Nzc0TDIyLjY4MjYgMTAuMDE3NEMyMi40NzUgOS44NjU4OCAyMi4xNjQ5IDkuOTI2MjMgMjEuOTg5NSAxMC4xNDk0TDIxLjY3MjMgMTAuNTU0OUMyMS40OTY5IDEwLjc3OTUgMjEuNTI1IDExLjA4MjYgMjEuNzMyNyAxMS4yMzQyTDIyLjU3NzQgMTEuODQ3NEMyMi4yNjMxIDEyLjE3NTggMjEuODk0IDEyLjQ2NDkgMjEuNDYwNSAxMi42ODI0QzIxLjE4NCAxMi44MjE0IDIwLjc1MTggMTIuOTk0IDIwLjY3ODkgMTMuMDUyOUMyMC41NDI4IDEzLjE2MzggMjAuNTM3MSAxMy4zNjczIDIwLjY3MDUgMTMuNTAwNkMyMC43NTQ2IDEzLjU4MzQgMjAuODc5NSAxMy42MzM5IDIxLjA0MjMgMTMuNjExNUMyMS44NTc2IDEzLjUwNDggMjIuNzIxOSAxMy4wOTY0IDIzLjQ5MjMgMTIuNTExMkwyNC40NTQ5IDEzLjIxMDFDMjQuNjYyNSAxMy4zNjE3IDI0Ljk3MjcgMTMuMzAxMyAyNS4xNDgxIDEzLjA3ODJMMjUuNDY1MiAxMi42NzI2QzI1LjY0MDYgMTIuNDQ4MSAyNS42MTI1IDEyLjE0NSAyNS40MDQ4IDExLjk5MzRMMjQuNjMzMSAxMS40MzM0QzI1LjA4MjEgMTAuOTA1OCAyNS40NDQxIDEwLjMyMiAyNS42NyA5LjcyNjk1QzI1Ljg0OTcgOS4yNTI2MSAyNS43OTIxIDguNzU1ODIgMjUuNTA4NyA4LjM3ODMxQzI1LjI1NjEgOC4wNDE1MSAyNC44NDUgNy44NjE4NyAyNC40MDE2IDcuODYxODdIMjIuMzYyN0wyMi45MzggNi42MzExMkgyNi4yNjA4QzI2LjQzNDggNi42MzExMiAyNi41NzA5IDYuNzgyNjggMjYuNTUyNyA2Ljk1NTNWNi45NTk1MUwyNi4zMzI0IDkuMTI2MzFDMjYuMzA5OSA5LjM0MjQzIDI2LjQ2NTcgOS41MTc4NSAyNi42ODE3IDkuNTE3ODVIMjguMjQ2M0MyOC43Mzc0IDkuNTE3ODUgMjkuMDgyNiA5LjkxOTIxIDI5LjAzMDcgMTAuNDExOEwyOC45MTI4IDExLjU0ODVWMTEuNTU2OUMyOC44OTA0IDExLjc2MDQgMjguNzE5MiAxMS45MTM0IDI4LjUxNTcgMTEuOTEzNEgyNi4zODk5QzI2LjE4NjQgMTEuOTEzNCAyNi4wMTUyIDEyLjA2NjQgMjUuOTk0MiAxMi4yNjg1TDI1Ljk2MDUgMTIuNTg1NkMyNS45MzUyIDEyLjgyIDI2LjExOTEgMTMuMDI2MyAyNi4zNTYyIDEzLjAyNjNIMjguNzkzNkMyOS44NjE0IDEzLjAyNjMgMzAuODE5OCAxMi4xNjA0IDMwLjkzMzQgMTEuMDkyNEwzMS4wMDY0IDEwLjQwNzZDMzEuMTQ1MyA5LjEwNTI2IDMwLjMwMDYgOC4wNDk5MyAyOC45OTk4IDguMDQ5OTNaIiBmaWxsPSIjRkY0NjAwIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfNzA2OV82NzAxIj4KPHJlY3Qgd2lkdGg9Ijc5IiBoZWlnaHQ9IjE0IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA1LjUpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},"2ca9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["full-width flex flex-center",{"col text-white":2===t.type},{"b-bg-secondary":2===t.type&&!t.showBtn.disable},{"bg-d-gray":2===t.type&&t.showBtn.disable}]},[i("div",{class:["text-center text-bold flex flex-center",2===t.type?"q-py-md full-width full-height":"btn-primary q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"b-bg-secondary ":2!==t.type&&!t.showBtn.disable},{"bg-d-gray ":2!==t.type&&t.showBtn.disable}],style:2===t.type?"":"height: 71.141px",attrs:{disabled:t.showSpinner},on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v("\n      "+t._s(t.showBtn.name)+"\n    ")])],1)])},o=[],r=(i("7f7f"),i("c5f6"),{props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,storeInfo:Object,cantEdit:Boolean,show:Object,orderAttach:Object,orderOthers:Object,disableList:Object},data:function(){return{btns:{1:{name:this.$t("order.step_next"),event:"goStepNext",disable:!1},3:{name:this.$t("status.store_closed"),event:"",disable:!0},4:{name:this.$t("status.store_unopen"),event:"",disable:!0},5:{name:this.$t("status.store_closed_today"),event:"",disable:!0},6:{name:this.$t("status.store_accept_pause"),event:"",disable:!0},7:{name:this.$t("order.address_empty"),event:"",disable:!0},8:{name:this.$t("order.payment_method_empty"),event:"",disable:!0},9:{name:this.$t("order.step_next"),event:"checkOrder",disable:!1},12:{name:this.$t("order.order_click_confirm"),event:"goOrderListInfo",disable:!1},13:{name:this.$t("order.trade"),event:"trade",disable:!1},14:{name:"重新點餐",event:"goStore",disable:!1},15:{name:this.$t("order.cancel_order"),event:"cancelOrder",disable:!1},16:{name:"聯絡門市",event:"editOrder",disable:!1},17:{name:"未加入商品",event:"",disable:!0},18:{name:"門市休息中",event:"",disable:!0},19:{name:"未移除完售商品",event:"",disable:!0},20:{name:"取貨資訊有誤",event:"",disable:!0},21:{name:"發票或統一編號資訊有誤",event:"",disable:!0},22:{name:this.$t("order.step_prod"),event:"orderProd",disable:!1},23:{name:"門市目前無販售電子票券商品",event:"",disable:!0},24:{name:"門市暫停販售電子票券商品",event:"",disable:!0},25:{name:"單筆金額上限6000元",event:"",disable:!0}},info:{total:null}}},computed:{errorMessage:function(){return this.$store.state.cart.error_message},productDisabled:function(){if(this.orderOthers.order_info)this.orderOthers.order_info.product;return!1},showBtn:function(){var t=this.storeInfo,e=this.orderInfo;return this.step?this.cantEdit?this.btns[14]:this.storeInfo.has_voucher_product?this.storeInfo.is_allow_purchase_voucher_product?e.total_paid_money>6e3?this.btns[25]:1===this.step?20===t.order_status?this.btns[6]:e.total_amount?this.btns[1]:this.btns[17]:2===this.step?1===e.status||2===e.status?this.btns[13]:20===t.order_status?this.btns[6]:this.productDisabled?this.btns[19]:3===e.order_type?this.btns[12]:this.errorMessage.name||this.errorMessage.phone||this.errorMessage.email?this.btns[20]:this.errorMessage.carrier_id||this.errorMessage.ein?this.btns[21]:this.btns[9]:3===this.step?this.orderInfo.status>=99?this.btns[12]:this.btns[22]:this.btns[1]:this.btns[24]:this.btns[23]:100===this.orderInfo.status||31===this.orderInfo.status?this.btns[15]:110===this.orderInfo.status?this.btns[16]:this.btns[1]},showSpinner:function(){return!!this.show&&this.show.btn_spinner}}}),n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},"2e77":function(t,e,i){"use strict";i.d(e,"a",(function(){return N})),i.d(e,"b",(function(){return A})),i.d(e,"c",(function(){return L}));i("7f7f"),i("f559"),i("55dd"),i("7c0e"),i("23be"),i("c5f6"),i("0b21"),i("f751"),i("a481"),i("5df3"),i("1c4c"),i("6b54"),i("ac4d"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d");var s=i("2b0e");function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),s.forEach((function(e){o(t,e,i[e])}))}return t}function n(t){return a(t)||c(t)||u()}function a(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t,e,i){return Math.max(Math.min(t,i),e)}function l(){return Date.now()}function M(t,e){this.create=function(){return window.setInterval(t,e)},this.stop=function(){this.timer&&(window.clearInterval(this.timer),this.timer=null)},this.start=function(){this.timer||(this.timer=this.create())},this.restart=function(t){e=t||e,this.stop(),this.start()},this.timer=this.create()}function h(t,e){var i;return i=t<0?(t+e)%e:t%e,i!==i?0:i}function p(t,e){var i=e.children||e.componentOptions.children||e.text,s=e.componentOptions.Ctor;return t(s,e.data,i)}function m(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(void 0!==s&&null!==s){s=Object(s);for(var o=Object.keys(Object(s)),r=0,n=o.length;r<n;r++){var a=o[r],c=Object.getOwnPropertyDescriptor(s,a);void 0!==c&&c.enumerable&&(e[a]=s[a])}}}return e}var g=Object.assign||m;function _(t){return t<0?-1:t>0?1:0}var f=Math.sign||_;function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.$scopedSlots.default?t.$scopedSlots.default(e)||[]:t.$slots.default||[]}var I=new s["default"],N={name:"Hooper",provide:function(){return{$hooper:this}},props:{itemsToShow:{default:1,type:Number},itemsToSlide:{default:1,type:Number},initialSlide:{default:0,type:Number},infiniteScroll:{default:!1,type:Boolean},centerMode:{default:!1,type:Boolean},vertical:{default:!1,type:Boolean},rtl:{default:null,type:Boolean},autoPlay:{default:!1,type:Boolean},playSpeed:{default:2e3,type:Number},mouseDrag:{default:!0,type:Boolean},touchDrag:{default:!0,type:Boolean},wheelControl:{default:!0,type:Boolean},keysControl:{default:!0,type:Boolean},shortDrag:{default:!0,type:Boolean},transition:{default:300,type:Number},hoverPause:{default:!0,type:Boolean},trimWhiteSpace:{default:!1,type:Boolean},settings:{default:function(){return{}},type:Object},group:{type:String,default:null}},data:function(){return{isDragging:!1,isSliding:!1,isTouch:!1,isHover:!1,isFocus:!1,initialized:!1,slideWidth:0,slideHeight:0,slidesCount:0,trimStart:0,trimEnd:1,currentSlide:null,timer:null,defaults:{},breakpoints:{},delta:{x:0,y:0},config:{}}},computed:{slideBounds:function(){var t=this.config,e=this.currentSlide,i=t.itemsToShow,s=t.centerMode?Math.ceil(e-i/2):e,o=t.centerMode?Math.floor(e+i/2):Math.floor(e+i-1);return{lower:s,upper:o}},trackTransform:function(){var t=this.config,e=t.infiniteScroll,i=t.vertical,s=t.rtl,o=t.centerMode,r=s?-1:1,n=i?this.slideHeight:this.slideWidth,a=i?this.containerHeight:this.containerWidth,c=i?this.delta.y:this.delta.x,u=e?n*this.slidesCount:0,d=o?(a-n)/2:0,l=c+r*(d-u-this.currentSlide*n);return i?"transform: translate(0, ".concat(l,"px);"):"transform: translate(".concat(l,"px, 0);")},trackTransition:function(){return this.initialized&&this.isSliding?"transition: ".concat(this.config.transition,"ms"):""}},watch:{group:function(t,e){t!==e&&(I.$off("slideGroup:".concat(e),this._groupSlideHandler),this.addGroupListeners())}},methods:{slideTo:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isSliding&&t!==this.currentSlide){this.$emit("beforeSlide",{currentSlide:this.currentSlide,slideTo:a});var s=this.config,o=s.infiniteScroll,r=s.transition,n=this.currentSlide,a=o?t:d(t,this.trimStart,this.slidesCount-this.trimEnd);this.group&&i&&I.$emit("slideGroup:".concat(this.group),t),this.currentSlide=a,this.isSliding=!0,window.setTimeout((function(){e.isSliding=!1,e.currentSlide=h(a,e.slidesCount)}),r),this.$emit("slide",{currentSlide:this.currentSlide,slideFrom:n})}},slideNext:function(){this.slideTo(this.currentSlide+this.config.itemsToSlide)},slidePrev:function(){this.slideTo(this.currentSlide-this.config.itemsToSlide)},initEvents:function(){null===this.defaults.rtl&&(this.defaults.rtl="rtl"===getComputedStyle(this.$el).direction),this.config.autoPlay&&this.initAutoPlay(),this.config.mouseDrag&&this.$refs.list.addEventListener("mousedown",this.onDragStart),this.config.touchDrag&&this.$refs.list.addEventListener("touchstart",this.onDragStart,{passive:!0}),this.config.keysControl&&this.$el.addEventListener("keydown",this.onKeypress),this.config.wheelControl&&(this.lastScrollTime=l(),this.$el.addEventListener("wheel",this.onWheel,{passive:!1})),window.addEventListener("resize",this.update)},initAutoPlay:function(){var t=this;this.timer=new M((function(){t.isSliding||t.isDragging||t.isHover&&t.config.hoverPause||t.isFocus||(t.currentSlide!==t.slidesCount-1||t.config.infiniteScroll?t.slideNext():t.slideTo(0))}),this.config.playSpeed)},initDefaults:function(){this.breakpoints=this.settings.breakpoints,this.defaults=g({},this.$props,this.settings),this.config=g({},this.defaults)},update:function(){this.breakpoints&&this.updateConfig(),this.updateWidth(),this.updateTrim(),this.$emit("updated",{containerWidth:this.containerWidth,containerHeight:this.containerHeight,slideWidth:this.slideWidth,slideHeight:this.slideHeight,settings:this.config})},updateTrim:function(){var t=this.config,e=t.trimWhiteSpace,i=t.itemsToShow,s=t.centerMode,o=t.infiniteScroll;if(!e||o)return this.trimStart=0,void(this.trimEnd=1);this.trimStart=s?Math.floor((i-1)/2):0,this.trimEnd=s?Math.ceil(i/2):i},updateWidth:function(){var t=this.$el.getBoundingClientRect();this.containerWidth=t.width,this.containerHeight=t.height,this.config.vertical?this.slideHeight=this.containerHeight/this.config.itemsToShow:this.slideWidth=this.containerWidth/this.config.itemsToShow},updateConfig:function(){var t,e=this,i=Object.keys(this.breakpoints).sort((function(t,e){return e-t}));i.some((function(i){if(t=window.matchMedia("(min-width: ".concat(i,"px)")).matches,t)return e.config=g({},e.config,e.defaults,e.breakpoints[i]),!0})),t||(this.config=g(this.config,this.defaults))},restartTimer:function(){this.timer&&this.timer.restart()},restart:function(){var t=this;this.$nextTick((function(){t.update()}))},onDragStart:function(t){this.isTouch="touchstart"===t.type,(this.isTouch||0===t.button)&&(this.startPosition={x:0,y:0},this.endPosition={x:0,y:0},this.isDragging=!0,this.startPosition.x=this.isTouch?t.touches[0].clientX:t.clientX,this.startPosition.y=this.isTouch?t.touches[0].clientY:t.clientY,document.addEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag),document.addEventListener(this.isTouch?"touchend":"mouseup",this.onDragEnd))},isInvalidDirection:function(t,e){return this.config.vertical?!!this.config.vertical&&Math.abs(e)<=Math.abs(t):Math.abs(t)<=Math.abs(e)},onDrag:function(t){if(!this.isSliding){this.endPosition.x=this.isTouch?t.touches[0].clientX:t.clientX,this.endPosition.y=this.isTouch?t.touches[0].clientY:t.clientY;var e=this.endPosition.x-this.startPosition.x,i=this.endPosition.y-this.startPosition.y;this.isInvalidDirection(e,i)||(this.delta.y=i,this.delta.x=e,this.isTouch||t.preventDefault())}},onDragEnd:function(){var t=this.config.shortDrag?.5:.15;if(this.isDragging=!1,this.config.vertical){var e=Math.round(Math.abs(this.delta.y/this.slideHeight)+t);this.slideTo(this.currentSlide-f(this.delta.y)*e)}if(!this.config.vertical){var i=(this.config.rtl?-1:1)*f(this.delta.x),s=Math.round(Math.abs(this.delta.x/this.slideWidth)+t);this.slideTo(this.currentSlide-i*s)}this.delta.x=0,this.delta.y=0,document.removeEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag),document.removeEventListener(this.isTouch?"touchend":"mouseup",this.onDragEnd),this.restartTimer()},onTransitionend:function(){this.isSliding=!1,this.$emit("afterSlide",{currentSlide:this.currentSlide})},onKeypress:function(t){var e=t.key;return e.startsWith("Arrow")&&t.preventDefault(),this.config.vertical?("ArrowUp"===e&&this.slidePrev(),void("ArrowDown"===e&&this.slideNext())):this.config.rtl?("ArrowRight"===e&&this.slidePrev(),void("ArrowLeft"===e&&this.slideNext())):("ArrowRight"===e&&this.slideNext(),void("ArrowLeft"===e&&this.slidePrev()))},onWheel:function(t){if(t.preventDefault(),!(l()-this.lastScrollTime<200)){this.lastScrollTime=l();var e=t.wheelDelta||-t.deltaY,i=f(e);-1===i&&this.slideNext(),1===i&&this.slidePrev()}},addGroupListeners:function(){var t=this;this.group&&(this._groupSlideHandler=function(e){t.slideTo(e,!1)},I.$on("slideGroup:".concat(this.group),this._groupSlideHandler))}},created:function(){this.initDefaults()},mounted:function(){var t=this;this.initEvents(),this.addGroupListeners(),this.$nextTick((function(){t.update(),t.slideTo(t.config.initialSlide||0),setTimeout((function(){t.$emit("loaded"),t.initialized=!0}),t.transition)}))},beforeDestroy:function(){window.removeEventListener("resize",this.update),this.group&&I.$off("slideGroup:".concat(this.group),this._groupSlideHandler),this.timer&&this.timer.stop()},render:function(t){var e=this,i=v.call(this,t);return t("section",{class:{hooper:!0,"is-vertical":this.config.vertical,"is-rtl":this.config.rtl},attrs:{tabindex:"0"},on:{focusin:function(){return e.isFocus=!0},focusout:function(){return e.isFocus=!1},mouseover:function(){return e.isHover=!0},mouseleave:function(){return e.isHover=!1}}},i)}};function D(t,e){for(var i=[],s=[],o=e.length,r=0;r<o;r++){var a=e[r],c=p(t,a),u=r-o;c.data.key="before_".concat(r),c.componentOptions.propsData.index=u,c.key="before_"+a.key,c.data.props={index:u,isClone:!0},i.push(c);var d=p(t,a);u=r+o,d.data.key="after_".concat(u),d.componentOptions.propsData.index=u,d.key="after_"+a.key,d.data.props={index:u,isClone:!0},s.push(d)}return[].concat(i,n(e),s)}function j(t){for(var e=y(this),i=e.length,s=0,o=[],n=0;n<i;n++){var a=e[n],c=a.componentOptions&&a.componentOptions.Ctor;c&&"HooperSlide"===c.options.name&&(a.componentOptions.propsData.index=s,a.data.key=s,a.key=a.componentOptions.propsData.renderKey,a.data.props=r({},a.data.props||{},{isClone:!1,index:s++,renderKey:a.componentOptions.propsData.renderKey}),o.push(a))}return this.slidesCount=o.length,this.config.infiniteScroll&&(o=D(t,o)),t("ul",{class:{"hooper-track":!0,"is-dragging":this.isDragging},style:this.trackTransform+this.trackTransition,ref:"track",on:{transitionend:this.onTransitionend}},o)}function v(t){var e=j.call(this,t),i=this.$slots["hooper-addons"]||[],s=t("div",{class:"hooper-liveregion hooper-sr-only",attrs:{"aria-live":"polite","aria-atomic":"true"}},"Item ".concat(this.currentSlide+1," of ").concat(this.slidesCount)),o=[e].concat(n(i),[s]);return[t("div",{class:"hooper-list",ref:"list"},o)]}var L={name:"HooperSlide",inject:["$hooper"],props:{isClone:{type:Boolean,default:!1},index:{type:Number,required:!0},renderKey:{type:Number}},computed:{style:function(){var t=this.$hooper||{},e=t.config,i=t.slideHeight,s=t.slideWidth;return e.vertical?"height: ".concat(i,"px"):"width: ".concat(s,"px")},isActive:function(){var t=this.$hooper.slideBounds,e=t.upper,i=t.lower;return this.index>=i&&this.index<=e},isPrev:function(){var t=this.$hooper.slideBounds.lower,e=this.$hooper.config.itemsToSlide;return this.index<t&&this.index>=t-e},isNext:function(){var t=this.$hooper.slideBounds.upper,e=this.$hooper.config.itemsToSlide;return this.index>t&&this.index<=t+e},isCurrent:function(){return this.index===this.$hooper.currentSlide}},render:function(t){var e={"hooper-slide":!0,"is-clone":this.isClone,"is-active":this.isActive,"is-prev":this.isPrev,"is-next":this.isNext,"is-current":this.isCurrent},i=y(this);return t("li",{class:e,style:this.style,attrs:{"aria-hidden":!this.isActive}},i)}};function x(t,e,i){return[t("span",e+1),t("span","/"),t("span",i)]}function T(t,e,i,s){return t("li",[t("button",{class:{"hooper-indicator":!0,"is-active":i},on:{click:s},attrs:{type:"button"}},[t("span",{class:"hooper-sr-only"},"item ".concat(e))])])}function w(t,e,i,s){for(var o=[],r=function(i){o.push(T(t,i,i===e,(function(){return s(i)})))},n=0;n<i;n++)r(n);return[t("ol",{class:"hooper-indicators"},o)]}var A={inject:["$hooper"],name:"HooperPagination",props:{mode:{default:"indicator",type:String}},computed:{currentSlide:function(){return h(this.$hooper.currentSlide,this.$hooper.slidesCount)},slides:function(){var t=this.$hooper.slides.map((function(t,e){return e}));return t.slice(this.$hooper.trimStart,this.$hooper.slidesCount-this.$hooper.trimEnd+1)}},render:function(t){var e=this,i=this.$hooper.slidesCount,s="indicator"===this.mode?w(t,this.currentSlide,i,(function(t){return e.$hooper.slideTo(t)})):x(t,this.currentSlide,i);return t("div",{class:{"hooper-pagination":!0,"is-vertical":this.$hooper.config.vertical}},s)}}},"2e7c":function(t,e,i){"use strict";var s=i("1fe7"),o=i.n(s);o.a},"306b":function(t,e,i){},"36e1":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-py-sm q-mt-sm"},[3===t.storeInfo.store_mode?i("div",{staticClass:"q-mb-sm text-center font-size-subtitle-2"},[i("div",[t._v("感謝您的購買，商品券會於門市確認後")]),i("div",[t._v("發送至您的會員帳戶")]),i("div",[t._v("若 15 分鐘後尚未收到，請聯繫店家")])]):i("div",{class:["bg-white q-mb-md text-center shoping-list-card-radius q-pa-md",{"q-mx-sm":t.$q.screen.lt.sm}]},[i("div",{staticClass:"q-mb-md"},[i("div",{staticClass:"text-bold text-capitalize"},[t._v("\n        "+t._s(t.$t("status.order_success"))+"\n      ")]),i("div",{staticClass:"q-mt-sm"},[t.isVoucher?i("span",[t._v("\n          電子票券將於數分鐘內歸戶至\n          "),i("span",{staticClass:"text-primary cursor-pointer",on:{click:function(e){return t.$router.push("/coupons")}}},[t._v("\n            我的券夾\n          ")])]):i("span",[t._v("\n          門市將於 "),i("span",{staticClass:"text-secondary text-bold"},[t._v(t._s(t.replyTime))]),t._v(" 前接單\n        ")])]),t._m(0),t.isVoucher?t._e():i("div",[t._v("如對訂單有任何疑問")]),t.isVoucher?t._e():i("div",[t._v("\n        請"),i("a",{staticClass:"text-primary",attrs:{href:"tel:"+t.orderInfo.store_tel}},[t._v("點我")]),t._v("與門市聯繫\n      ")])])]),i("div",{staticClass:"row bg-white border-around q-mb-md q-py-sm q-px-md items-center cursor-pointer",class:{"q-mx-sm":t.$q.screen.lt.sm},on:{click:t.linkFacebook}},[i("div",{staticClass:"col-auto icon"},[i("q-img",{staticClass:"icon",attrs:{src:t.icon.facebook}})],1),i("div",{staticClass:"col-auto font-size-subtitle-2 text-weight-medium"},[t._v(t._s(t.$t("notify.add_friends.fb")))]),i("div",{staticClass:"col-auto q-ml-auto"},[i("q-icon",{attrs:{name:"fas fa-chevron-right",color:"light-blue-14",size:"xs"}})],1)]),i("div",{staticClass:"row bg-white border-around q-py-sm q-px-md items-center cursor-pointer",class:{"q-mx-sm":t.$q.screen.lt.sm},on:{click:t.linkLine}},[i("div",{staticClass:"col-auto icon text-green-14"},[i("q-img",{staticClass:"icon",attrs:{src:t.icon.line}})],1),i("div",{staticClass:"col-auto font-size-subtitle-2 text-weight-medium"},[t._v(t._s(t.$t("notify.add_friends.line2")))]),i("div",{staticClass:"col-auto q-ml-auto"},[i("q-icon",{attrs:{name:"fas fa-chevron-right",color:"light-blue-14",size:"xs"}})],1)])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex justify-center q-my-lg"},[s("img",{attrs:{src:i("dc7a"),alt:"error"}})])}],r=(i("ac6a"),i("cadf"),i("8615"),i("7f7f"),i("6b54"),i("06db"),i("c1df")),n=i.n(r),a=i("791e"),c=i("0ca5"),u=i.n(c),d=i("f85e"),l=i.n(d),M={name:"OrderSuccessShareInfo",mixins:[a["a"]],props:{orderInfo:Object,storeInfo:Object,orderAttach:Object,orderOthers:Object,followerList:Array},data:function(){return{icon:{line:l.a,facebook:u.a}}},methods:{completeOrder:function(){window._lt("send","cv",{type:"Conversion"},["49e5dc95-1555-400d-a72b-415762903a26"])},linkFacebook:function(){window.open("https://www.facebook.com/nidin520","_blank")},linkLine:function(){var t="https://page.line.me/nidin";window.open(t,"_blank")},setGAOrderSuccess:function(){var t=this;this.setGATag("view.order_success");var e=this.orderAttach?this.orderAttach.total_money:0,i=this.orderOthers&&this.orderOthers["order_info"]&&this.orderOthers["order_info"]["payment"]&&this.orderOthers["order_info"]["payment"].length?this.orderOthers["order_info"]["payment"][0].money:0,s=this.orderOthers&&this.orderOthers["order_info"]?this.orderOthers["order_info"]["product_simple"]?this.orderOthers["order_info"]["product_simple"]:this.orderOthers["order_info"]["product"]?this.orderOthers["order_info"]["product"]:[]:[],o=e||i,r=this.orderInfo&&this.orderInfo["order_id"]?this.orderInfo["order_id"].toString():"unknow",n=[];s.length&&s.forEach((function(e){var i={item_id:e.product_id.toString(),item_name:e.name,item_brand:t.orderInfo.brand_name||"unknow",price:e.price,quantity:e.amount};t.discountIds&&(i.promotion_id=t.discountIds),n.push(i)})),this.followerList&&this.followerList.length&&this.followerList.forEach((function(e){e.product_simple.forEach((function(e){var i={item_id:e.product_id.toString(),item_name:e.name,item_brand:t.orderInfo.brand_name||"unknow",price:e.price,quantity:e.amount,follower:!0};t.discountIds&&(i.promotion_id=t.discountIds),n.push(i)}))})),this.setGATag("purchase",null,{currency:"TWD",transaction_id:r,value:o,member_id:this.getUId,items:n,coupon:this.couponCodes||"無",promotion_id:this.discountIds||"無",discount:this.orderOthers.order_info.basic?this.orderOthers.order_info.basic.total_discount_money:0}),this.setGATag("add_payment_info",null,{currency:"TWD",value:o,items:n,payment_type:this.orderInfo.trade_type.toString()||"unknow"}),this.setGATag("add_shipping_info",null,{currency:"TWD",value:o,items:n}),this.setGATag("conversion",null,{currency:"TWD",value:o,transaction_id:r.toString()})}},created:function(){this.completeOrder(),this.setGAOrderSuccess()},computed:{replyTime:function(){var t=this.storeInfo,e=this.orderInfo,i=e.store_accept_exp_time,s=t.next_opening_date;return t.is_preparing?i?n()(i,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"):n()(t.order_start_time,"HH:mm:ss").format("HH:mm"):t.is_off_day||t.is_close?i?n()(e.store_accept_exp_time,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"):s:2===e.order_method?n()().add(t.auto_reject_order_reserve_m,"minutes").format("HH:mm"):n()().add(t.auto_reject_order_m,"minutes").format("HH:mm")},isToday:function(){var t=n()().format("YYYY-MM-DD"),e=this.orderInfo,i="";return e.delivery_reserv_date&&(i=e.delivery_reserv_date),i===t},couponCodes:function(){var t=this.orderOthers.order_info,e=[];if(t.coupon&&t.coupon.length&&t.coupon.forEach((function(t){e.push("".concat(t.name,"(").concat(t.code,")"))})),t.product_coupon&&t.product_coupon.total_discount)for(var i in t.product_coupon.item_list)t.product_coupon.item_list[i].list.forEach((function(t){e.push("".concat(t.name,"(").concat(t.code,")"))}));return this.orderOthers.group_buy_follower_order_coupons&&Object.values(this.orderOthers.group_buy_follower_order_coupons).forEach((function(t){t.forEach((function(t){e.push("".concat(t.name,"(").concat(t.code,")"))}))})),this.orderOthers.group_buy_follower_order_list&&this.orderOthers.group_buy_follower_order_list.forEach((function(t){if(t.product_coupon.total_discount>0)for(var i in t.product_coupon.item_list)t.product_coupon.item_list[i].list.forEach((function(t){e.push("".concat(t.name,"(").concat(t.code,")"))}))})),e&&e.length?e.join(","):""},discountIds:function(){var t=this.orderOthers.order_info.discount,e=[];return t&&t.total_discount&&t.list&&(e=t.list.map((function(t){return t.activity_id}))||[]),e&&e.length?e.join(","):""}}},h=M,p=(i("99cc"),i("2877")),m=Object(p["a"])(h,s,o,!1,null,"81b6edb8",null);e["a"]=m.exports},"36f2":function(t,e,i){},3785:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5ZyW5bGkXzEiIGRhdGEtbmFtZT0i5ZyW5bGkIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMxLjY2IDMxLjY2Ij48dGl0bGU+aTwvdGl0bGU+PHBhdGggZD0iTTI1LjczLDI3LjQ2aC01LjJhLjc0Ljc0LDAsMCwxLS43NC0uNzRWMjQuMjRhLjc0Ljc0LDAsMCwxLC43NC0uNzRoNS4yYTIsMiwwLDAsMCwyLTJWOS42NWEyLDIsMCwwLDAtMi0yaC01LjJhLjc0Ljc0LDAsMCwxLS43NC0uNzRWNC40NWEuNzQuNzQsMCwwLDEsLjc0LS43NGg1LjJhNS45NCw1Ljk0LDAsMCwxLDUuOTQsNS45NFYyMS41MkE1Ljk0LDUuOTQsMCwwLDEsMjUuNzMsMjcuNDZaTTIyLjgyLDE1LDEyLjQzLDQuNjRBMS40OSwxLjQ5LDAsMCwwLDkuOSw1LjY5djUuOTRIMS40OEExLjQ4LDEuNDgsMCwwLDAsMCwxMy4xMVYxOWExLjQ4LDEuNDgsMCwwLDAsMS40OCwxLjQ4SDkuOXY1Ljk0YTEuNDksMS40OSwwLDAsMCwyLjU0LDEuMDVMMjIuODIsMTcuMTNBMS41LDEuNSwwLDAsMCwyMi44MiwxNVoiLz48L3N2Zz4="},"37de":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzU2XzY0MSkiPgo8cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9IiNFQ0VDRUMiLz4KPHBhdGggZD0iTTI1LjgxOTQgMjkuMDI2NEgzLjcxMTczQzEuNjcxMDIgMjkuMDI2NCAwIDI3LjM3MDIgMCAyNS4zMTQ3VjEyLjQxOThDMCAxMC4zNzkgMS42NTYyMyA4LjcwODAxIDMuNzExNzMgOC43MDgwMUgyNS44MTk0QzI3Ljg2MDEgOC43MDgwMSAyOS41MzEyIDEwLjM2NDMgMjkuNTMxMiAxMi40MTk4VjE1Ljk2ODhDMjkuNTMxMiAxNi41NjAzIDI5LjA1OCAxNy4wMzM1IDI4LjQ2NjQgMTcuMDMzNUMyNy44NzQ5IDE3LjAzMzUgMjcuNDAxNyAxNi41NjAzIDI3LjQwMTcgMTUuOTY4OFYxMi40MTk4QzI3LjQwMTcgMTEuNTYyMSAyNi43MDY3IDEwLjg1MjMgMjUuODM0MiAxMC44NTIzSDMuNzExNzNDMi44NTQwNCAxMC44NTIzIDIuMTQ0MjMgMTEuNTYyMSAyLjE0NDIzIDEyLjQxOThWMjUuMzE0N0MyLjE0NDIzIDI2LjE3MjQgMi44NTQwNCAyNi44ODIyIDMuNzExNzMgMjYuODgyMkgyNS44MTk0QzI2LjQxMDkgMjYuODgyMiAyNi44ODQyIDI3LjM1NTQgMjYuODg0MiAyNy45NDY5QzI2Ljg4NDIgMjguNTM4NCAyNi40MTA5IDI5LjAyNjQgMjUuODE5NCAyOS4wMjY0WiIgZmlsbD0iIzAwMDEwMCIvPgo8cGF0aCBkPSJNMjEuNTMwOSA5LjgwMjI3QzIwLjkzOTQgOS44MDIyNyAyMC40NjYyIDkuMzI5MDYgMjAuNDY2MiA4LjczNzU1QzIwLjQ2NjIgNS42MDI1NCAxNy45MDc5IDMuMDQ0MjUgMTQuNzcyOSAzLjA0NDI1QzExLjYzNzkgMy4wNDQyNSA5LjA3OTYzIDUuNjAyNTQgOS4wNzk2MyA4LjczNzU1QzkuMDc5NjMgOS4zMjkwNiA4LjYwNjQzIDkuODAyMjcgOC4wMTQ5MSA5LjgwMjI3QzcuNDIzNCA5LjgwMjI3IDYuOTUwMiA5LjMyOTA2IDYuOTUwMiA4LjczNzU1QzYuOTUwMiA0LjQxOTUyIDEwLjQ2OTcgMC45MDAwMjQgMTQuNzg3NyAwLjkwMDAyNEMxOS4xMDU3IDAuOTAwMDI0IDIyLjYyNTIgNC40MTk1MiAyMi42MjUyIDguNzM3NTVDMjIuNTk1NyA5LjMxNDI3IDIyLjEyMjQgOS44MDIyNyAyMS41MzA5IDkuODAyMjdaIiBmaWxsPSIjMDAwMTAwIi8+CjxwYXRoIGQ9Ik0xNC43NzI5IDIyLjU5MzdDMTIuNDY2IDIyLjU5MzcgMTAuNjAyOCAyMC43MTU3IDEwLjYwMjggMTguNDIzNkMxMC42MDI4IDE2LjEzMTUgMTIuNDgwOCAxNC4yNTM0IDE0Ljc3MjkgMTQuMjUzNEMxNy4wNjUgMTQuMjUzNCAxOC45NDMxIDE2LjEzMTUgMTguOTQzMSAxOC40MjM2QzE4Ljk0MzEgMjAuNzE1NyAxNy4wNjUgMjIuNTkzNyAxNC43NzI5IDIyLjU5MzdaTTE0Ljc3MjkgMTYuMzgyOUMxMy42NDkxIDE2LjM4MjkgMTIuNzMyMiAxNy4yOTk3IDEyLjczMjIgMTguNDIzNkMxMi43MzIyIDE5LjU0NzQgMTMuNjQ5MSAyMC40NjQzIDE0Ljc3MjkgMjAuNDY0M0MxNS44OTY4IDIwLjQ2NDMgMTYuODEzNiAxOS41NDc0IDE2LjgxMzYgMTguNDIzNkMxNi44MTM2IDE3LjI5OTcgMTUuODk2OCAxNi4zODI5IDE0Ljc3MjkgMTYuMzgyOVoiIGZpbGw9IiMwMDAxMDAiLz4KPHBhdGggZD0iTTMyLjY5NTcgMzQuNDIzOEMzMi40MTQ3IDM0LjQyMzggMzIuMTQ4NiAzNC4zMjAzIDMxLjk0MTUgMzQuMTEzM0wyOS44MjY5IDMxLjk5ODZMMjcuNzEyMiAzNC4xMTMzQzI3LjQwMTcgMzQuNDIzOCAyNi45NDMzIDM0LjUxMjYgMjYuNTQ0IDM0LjM0OTlDMjYuMTQ0NyAzNC4xODcyIDI1Ljg3ODUgMzMuNzg3OSAyNS44Nzg1IDMzLjM1OTFWMjYuMDY4N0MyNS44Nzg1IDI1LjQ3NzIgMjYuMzUxNyAyNS4wMDQgMjYuOTQzMyAyNS4wMDRDMjcuNTM0OCAyNS4wMDQgMjguMDA4IDI1LjQ3NzIgMjguMDA4IDI2LjA2ODdWMzAuNzcxMkwyOS4wNTc5IDI5LjcyMTNDMjkuNDcyIDI5LjMwNzMgMzAuMTUyMiAyOS4zMDczIDMwLjU2NjMgMjkuNzIxM0wzMS42MTYyIDMwLjc3MTJWMjYuMDY4N0MzMS42MTYyIDI1LjQ3NzIgMzIuMDg5NCAyNS4wMDQgMzIuNjgwOSAyNS4wMDRDMzMuMjcyNCAyNS4wMDQgMzMuNzQ1NiAyNS40NzcyIDMzLjc0NTYgMjYuMDY4N1YzMy4zNTkxQzMzLjc0NTYgMzMuNzg3OSAzMy40Nzk1IDM0LjE4NzIgMzMuMDgwMiAzNC4zNDk5QzMyLjk3NjcgMzQuNDA5MSAzMi44Mjg4IDM0LjQyMzggMzIuNjk1NyAzNC40MjM4WiIgZmlsbD0iIzAwMDEwMCIvPgo8cGF0aCBkPSJNMjkuODI2OSAyNy41NzcyQzI2LjQxMSAyNy41NzcyIDIzLjYzMDkgMjQuNzk3MSAyMy42MzA5IDIxLjM4MTFDMjMuNjMwOSAxNy45NjUyIDI2LjQxMSAxNS4xODUxIDI5LjgyNjkgMTUuMTg1MUMzMy4yNDI5IDE1LjE4NTEgMzYuMDIzIDE3Ljk2NTIgMzYuMDIzIDIxLjM4MTFDMzYuMDIzIDI0Ljc5NzEgMzMuMjQyOSAyNy41NzcyIDI5LjgyNjkgMjcuNTc3MlpNMjkuODI2OSAxNy4yOTk3QzI3LjU5NCAxNy4yOTk3IDI1Ljc2MDMgMTkuMTE4NiAyNS43NjAzIDIxLjM2NjRDMjUuNzYwMyAyMy41OTkzIDI3LjU3OTIgMjUuNDMzIDI5LjgyNjkgMjUuNDMzQzMyLjA3NDcgMjUuNDMzIDMzLjg5MzYgMjMuNjE0MSAzMy44OTM2IDIxLjM2NjRDMzMuODkzNiAxOS4xMzM0IDMyLjA3NDcgMTcuMjk5NyAyOS44MjY5IDE3LjI5OTdaIiBmaWxsPSIjMDAwMTAwIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfNTZfNjQxIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},"39bd7":function(t,e,i){},"39c8":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuNjcyNiAyMC4xNTkxQzQuNDM1MTQgMjAuMTU5MSA0LjIwNjE2IDIwLjA3NDMgNC4wMTk1OSAxOS45MjE2QzMuNzM5NzIgMTkuNjc1NyAzLjYxMjUxIDE5LjMwMjUgMy42ODg4NCAxOC45Mzc4TDQuMDQ1MDMgMTcuMzQzNUMyLjU5NDgzIDE2LjI0MSAxLjczODI4IDE0LjUzNjQgMS43MzgyOCAxMi43MTNWOS4xNjgwOUMxLjczODI4IDUuOTUzOTEgNC4zNTg4MiAzLjMzMzM3IDcuNTczIDMuMzMzMzdIMTYuNDI2OEMxOS42NDEgMy4zMzMzNyAyMi4yNjE2IDUuOTUzOTEgMjIuMjYxNiA5LjE2ODA5VjEyLjcxM0MyMi4yNjE2IDE1LjkyNzIgMTkuNjQxIDE4LjU0NzcgMTYuNDI2OCAxOC41NDc3SDguOTI5OTFMNS4wMzcyNyAyMC4wOTk3QzQuOTI3MDIgMjAuMTMzNiA0Ljc5OTgxIDIwLjE1OTEgNC42NzI2IDIwLjE1OTFaTTcuNTgxNDggNC41NDYxMUM1LjAzNzI3IDQuNTQ2MTEgMi45Njc5OCA2LjYxNTQgMi45Njc5OCA5LjE1OTYxVjEyLjcwNDZDMi45Njc5OCAxNC4yNTY1IDMuNzU2NjkgMTUuNzA2NyA1LjA3MTE5IDE2LjU2MzNDNS4yODMyMSAxNi42OTkgNS4zODQ5OCAxNi45NTM0IDUuMzM0MSAxNy4yMDc4TDQuOTc3OTEgMTguODAyMUw4LjU5OTE2IDE3LjM2MDRDOC42NjcwMSAxNy4zMzUgOC43NDMzMyAxNy4zMTggOC44MjgxNCAxNy4zMThIMTYuNDM1M0MxOC45Nzk1IDE3LjMxOCAyMS4wNDg4IDE1LjI0ODggMjEuMDQ4OCAxMi43MDQ2VjkuMTU5NjFDMjEuMDQ4OCA2LjYxNTQgMTguOTc5NSA0LjU0NjExIDE2LjQzNTMgNC41NDYxMUg3LjU4MTQ4WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTcuNTM5NDEgMTEuNzYzNUM4LjAxMjQ3IDExLjc2MzUgOC4zOTU5NiAxMS4zOCA4LjM5NTk2IDEwLjkwNjlDOC4zOTU5NiAxMC40MzM5IDguMDEyNDcgMTAuMDUwNCA3LjUzOTQxIDEwLjA1MDRDNy4wNjYzNSAxMC4wNTA0IDYuNjgyODYgMTAuNDMzOSA2LjY4Mjg2IDEwLjkwNjlDNi42ODI4NiAxMS4zOCA3LjA2NjM1IDExLjc2MzUgNy41Mzk0MSAxMS43NjM1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTcuNTM5MzMgMTEuOTY3QzYuOTU0MTcgMTEuOTY3IDYuNDc5MjUgMTEuNDkyMSA2LjQ3OTI1IDEwLjkwNjlDNi40NzkyNSAxMC4zMjE3IDYuOTU0MTcgOS44NDY4IDcuNTM5MzMgOS44NDY4QzguMTI0NSA5Ljg0NjggOC41OTk0MiAxMC4zMjE3IDguNTk5NDIgMTAuOTA2OUM4LjU5OTQyIDExLjQ5MjEgOC4xMjQ1IDExLjk2NyA3LjUzOTMzIDExLjk2N1pNNy41MzkzMyAxMC4yNTM5QzcuMTgzMTUgMTAuMjUzOSA2Ljg4NjMyIDEwLjU1MDcgNi44ODYzMiAxMC45MDY5QzYuODg2MzIgMTEuMjYzMSA3LjE4MzE1IDExLjU1OTkgNy41MzkzMyAxMS41NTk5QzcuODk1NTIgMTEuNTU5OSA4LjE5MjM1IDExLjI2MzEgOC4xOTIzNSAxMC45MDY5QzguMTkyMzUgMTAuNTUwNyA3Ljg5NTUyIDEwLjI1MzkgNy41MzkzMyAxMC4yNTM5WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEyLjAwMDIgMTEuNzYzNUMxMi40NzMzIDExLjc2MzUgMTIuODU2OCAxMS4zOCAxMi44NTY4IDEwLjkwNjlDMTIuODU2OCAxMC40MzM5IDEyLjQ3MzMgMTAuMDUwNCAxMi4wMDAyIDEwLjA1MDRDMTEuNTI3MiAxMC4wNTA0IDExLjE0MzcgMTAuNDMzOSAxMS4xNDM3IDEwLjkwNjlDMTEuMTQzNyAxMS4zOCAxMS41MjcyIDExLjc2MzUgMTIuMDAwMiAxMS43NjM1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEyLjAwMDEgMTEuOTY3QzExLjQxNSAxMS45NjcgMTAuOTQwMSAxMS40OTIxIDEwLjk0MDEgMTAuOTA2OUMxMC45NDAxIDEwLjMyMTcgMTEuNDE1IDkuODQ2OCAxMi4wMDAxIDkuODQ2OEMxMi41ODUzIDkuODQ2OCAxMy4wNjAyIDEwLjMyMTcgMTMuMDYwMiAxMC45MDY5QzEzLjA2MDIgMTEuNDkyMSAxMi41ODUzIDExLjk2NyAxMi4wMDAxIDExLjk2N1pNMTIuMDAwMSAxMC4yNTM5QzExLjY0NCAxMC4yNTM5IDExLjM0NzEgMTAuNTUwNyAxMS4zNDcxIDEwLjkwNjlDMTEuMzQ3MSAxMS4yNjMxIDExLjY0NCAxMS41NTk5IDEyLjAwMDEgMTEuNTU5OUMxMi4zNTYzIDExLjU1OTkgMTIuNjUzMiAxMS4yNjMxIDEyLjY1MzIgMTAuOTA2OUMxMi42NTMyIDEwLjU1MDcgMTIuMzY0OCAxMC4yNTM5IDEyLjAwMDEgMTAuMjUzOVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xNi40Njk2IDExLjc2MzVDMTYuOTQyNiAxMS43NjM1IDE3LjMyNjEgMTEuMzggMTcuMzI2MSAxMC45MDY5QzE3LjMyNjEgMTAuNDMzOSAxNi45NDI2IDEwLjA1MDQgMTYuNDY5NiAxMC4wNTA0QzE1Ljk5NjUgMTAuMDUwNCAxNS42MTMgMTAuNDMzOSAxNS42MTMgMTAuOTA2OUMxNS42MTMgMTEuMzggMTUuOTk2NSAxMS43NjM1IDE2LjQ2OTYgMTEuNzYzNVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xNi40Njk1IDExLjk2N0MxNS44ODQzIDExLjk2NyAxNS40MDk0IDExLjQ5MjEgMTUuNDA5NCAxMC45MDY5QzE1LjQwOTQgMTAuMzIxNyAxNS44ODQzIDkuODQ2OCAxNi40Njk1IDkuODQ2OEMxNy4wNTQ3IDkuODQ2OCAxNy41Mjk2IDEwLjMyMTcgMTcuNTI5NiAxMC45MDY5QzE3LjUyOTYgMTEuNDkyMSAxNy4wNTQ3IDExLjk2NyAxNi40Njk1IDExLjk2N1pNMTYuNDY5NSAxMC4yNTM5QzE2LjExMzMgMTAuMjUzOSAxNS44MTY1IDEwLjU1MDcgMTUuODE2NSAxMC45MDY5QzE1LjgxNjUgMTEuMjYzMSAxNi4xMDQ4IDExLjU1OTkgMTYuNDY5NSAxMS41NTk5QzE2LjgyNTcgMTEuNTU5OSAxNy4xMjI1IDExLjI2MzEgMTcuMTIyNSAxMC45MDY5QzE3LjEyMjUgMTAuNTUwNyAxNi44MjU3IDEwLjI1MzkgMTYuNDY5NSAxMC4yNTM5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},"3aa2":function(t,e,i){},"3b2a":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width"},[t.$q.screen.lt.md?i("div",{class:{"fixed-bar":t.showCategoryBar}},[i("div",{staticClass:"row text-white b-bg"},[i("div",{staticClass:"col overflow-hidden"},[i("q-tabs",{staticClass:"text-white b-bg category-select-block",attrs:{"inline-label":"",dense:""},model:{value:t.select.category,callback:function(e){t.$set(t.select,"category",e)},expression:"select.category"}},[t.storeInfo.menu_ab_block_type&&t.promotionAmount.total&&3!==t.storeInfo.store_mode&&!t.block_menu_show?t._l(t.promotionListSort,(function(e,s){return i("q-tab",{key:"category-bar-"+s,attrs:{label:"red"===s?t.$t("menu.red"):t.$t("menu.green"),name:s}},[t.promotionCartAmount[s]?i("div",{staticClass:"q-ml-xs flex font-size-caption product-amount bg-white"},[i("span",{staticClass:"b-color"},[t._v("\n                "+t._s(t.promotionCartAmount[s])+"\n              ")])]):t._e()])})):t._e(),t.recommendedAmount.total&&3!==t.storeInfo.store_mode&&!t.block_menu_show?t._l(t.recommendedListSort,(function(e,s){return i("q-tab",{key:"category-bar-"+s,attrs:{label:"history"===s?t.$t("menu.history"):t.$t("menu.products_featured"),name:s}},[t.recommendedCartAmount[s]?i("div",{staticClass:"q-ml-xs flex font-size-caption product-amount bg-white"},[i("span",{staticClass:"b-color"},[t._v("\n                "+t._s(t.recommendedCartAmount[s])+"\n              ")])]):t._e()])})):t._e(),t._l(t.categoryListSort,(function(e,s){return t.block_menu_show?t._e():i("q-tab",{key:"category-bar-"+s,attrs:{label:t.getCategoryName(e[t.schema.category.name],e),name:e[t.schema.category.product_id]}},[t.categoryCartAmount[e[t.schema.category.product_id]]?i("div",{staticClass:"q-ml-xs flex font-size-caption product-amount bg-white"},[i("span",{staticClass:"b-color"},[t._v("\n                "+t._s(t.categoryCartAmount[e[t.schema.category.product_id]])+"\n              ")])]):t._e()])})),t.block_menu_show?i("q-tab",{staticClass:"q-pl-xl",attrs:{focus:"",label:"全部分類"}}):t._e()],2)],1),i("div",{staticClass:"b-bg"},[i("q-btn",{staticClass:"q-px-sm btn-menu-more",attrs:{dense:"",size:"13px","text-color":"white",icon:t.block_menu_show?"fas fa-angle-up":"fas fa-angle-down"},on:{click:function(e){t.block_menu_show=!t.block_menu_show}}})],1),t.isVendorStore?t._e():i("q-btn",{staticClass:"q-px-sm straight-line",attrs:{size:"9px",dense:"",flat:"",color:"white",icon:"fas fa-search"},on:{click:function(e){return t.$emit("clickSearch")}}})],1),t.block_menu_show?i("div",{staticClass:"bg-white block-meun"},[i("div",{staticClass:"row"},[t.storeInfo.menu_ab_block_type&&t.promotionAmount.total&&3!==t.storeInfo.store_mode?t._l(t.promotionListSort,(function(e,s){return i("div",{key:"block-bar--"+s,staticClass:"col-6 block-meun-bg"},[i("div",{class:["block-meun-list",{"b-bg text-white":t.select.category===s}],on:{click:function(e){return t.selectBlockMenu(s)}}},[t._v("\n              "+t._s("red"===s?t.$t("menu.red"):t.$t("menu.green"))+"\n              "),t.promotionCartAmount[s]?i("div",{staticClass:"q-ml-xs flex font-size-caption product-amount",class:t.select.category===s?"bg-white b-color":"b-bg-secondary text-white"},[i("span",[t._v("\n                  "+t._s(t.promotionCartAmount[s])+"\n                ")])]):t._e()])])})):t._e(),t.recommendedAmount.total&&3!==t.storeInfo.store_mode?t._l(t.recommendedListSort,(function(e,s){return i("div",{key:"block-bar--"+s,staticClass:"col-6 block-meun-bg"},[i("div",{class:["block-meun-list",{"b-bg text-white":t.select.category===s}],on:{click:function(e){return t.selectBlockMenu(s)}}},[t._v("\n              "+t._s("history"===s?t.$t("menu.history"):t.$t("menu.products_featured"))+"\n              "),t.recommendedCartAmount[s]?i("div",{staticClass:"q-ml-xs flex font-size-caption product-amount",class:t.select.category===s?"bg-white b-color":"b-bg-secondary text-white"},[i("span",[t._v("\n                  "+t._s(t.recommendedCartAmount[s])+"\n                ")])]):t._e()])])})):t._e(),t._l(t.categoryListSort,(function(e,s){return i("div",{key:"block-bar-"+s,staticClass:"col-6 block-meun-bg"},[i("div",{class:["block-meun-list",t.select.category===e[t.schema.category.product_id]?"b-bg text-white":""],on:{click:function(i){return t.selectBlockMenu(e[t.schema.category.product_id])}}},[t._v("\n            "+t._s(t.getCategoryName(e[t.schema.category.name],e))+"\n            "),t.categoryCartAmount[e[t.schema.category.product_id]]?i("div",{staticClass:"q-ml-xs flex font-size-caption product-amount",class:t.select.category===e[t.schema.category.product_id]?"bg-white b-color":"b-bg-secondary text-white"},[i("span",[t._v("\n                "+t._s(t.categoryCartAmount[e[t.schema.category.product_id]])+"\n              ")])]):t._e()])])}))],2)]):t._e()]):t._e(),i("div",{staticClass:"q-pb-md"},[i("div",{ref:"grid",class:["menu-list grid full-width overflow-hidden",{"mt-36":t.showCategoryBar&&t.$q.screen.lt.md}]},[t.storeInfo.menu_ab_block_type?t._l(t.promotionListSort,(function(e,s){return i("div",{key:"category-"+s,ref:"category-"+s,refInFor:!0,staticClass:"item menu-item"},[i("q-card",{staticClass:"category-card"},[i("div",{staticClass:"q-py-sm"},[i("div",{staticClass:"flex flex-center justify-between q-px-md"},[i("div",{staticClass:"font-size-h5 q-py-sm b-color text-bold col"},[t._v("\n                  "+t._s("red"===s?t.$t("menu.red"):t.$t("menu.green"))+"\n                ")]),t.storeInfo.show_menu_icon&&2!==t.storeInfo.show_menu_icon?i("div",{staticClass:"col-auto flex"},[3!==t.storeInfo.store_mode?i("div",{staticClass:"col text-primary text-center text-cold-hot"},[t._v("\n                    "+t._s(t.$t("menu.ice"))+"\n                  ")]):t._e(),3!==t.storeInfo.store_mode?i("div",{staticClass:"col text-secondary text-center text-cold-hot"},[t._v("\n                    "+t._s(t.$t("menu.hot"))+"\n                  ")]):t._e()]):t._e()]),i("ul",[t._l(Object.keys(e).map(Number),(function(o,r){return[t.productList[o]&&t.productList[o][t.schema.product.is_visible]&&t.productList[o][t.schema.product.is_enable]?i("menu-prod-block",{key:"menu-prod-block-ref-"+o,class:{"border-b-list":r<Object.keys(e).length-1},attrs:{menu:t.menu,prodId:o,storeInfo:t.storeInfo,layout:t.layout,iconList:t.iconList,imgList:t.imgList,categoryId:t.getProdCategory(o),disableList:t.disableList,orderInfo:t.orderInfo,orderId:t.orderId,menuInfo:t.menuInfo,showModal:t.show,prodSettingList:t.prodSettingList,promotionListSort:t.promotionListSort,promotionList:t.promotionList,promotionBlock:s,amount:t.promoteProductCartAmount(o,s)}}):t._e()]}))],2)])])],1)})):t._e(),t._l(t.recommendedListSortHandler,(function(e,s){return i("div",{key:"category-"+s,ref:"category-"+s,refInFor:!0,staticClass:"item menu-item"},[i("q-card",{staticClass:"category-card"},[i("div",{staticClass:"q-py-sm"},[i("div",{staticClass:"flex flex-center justify-between q-px-md"},[i("div",{staticClass:"font-size-h5 q-py-sm b-color text-bold col"},[t._v("\n                "+t._s("history"===s?t.$t("menu.history"):t.$t("menu.products_featured"))+"\n              ")]),t.storeInfo.show_menu_icon&&2!==t.storeInfo.show_menu_icon?i("div",{staticClass:"col-auto flex"},[3!==t.storeInfo.store_mode?i("div",{staticClass:"col text-primary text-center text-cold-hot"},[t._v("\n                  "+t._s(t.$t("menu.ice"))+"\n                ")]):t._e(),3!==t.storeInfo.store_mode?i("div",{staticClass:"col text-secondary text-center text-cold-hot"},[t._v("\n                  "+t._s(t.$t("menu.hot"))+"\n                ")]):t._e()]):t._e()]),i("ul",[t._l(e,(function(s,o){return[t.productList[s]&&t.productList[s][t.schema.product.is_visible]&&t.productList[s][t.schema.product.is_enable]?i("menu-prod-block",{key:"menu-prod-block-ref-"+s,class:{"border-b-list":o<e.length-1},attrs:{menu:t.menu,prodId:s,storeInfo:t.storeInfo,layout:t.layout,iconList:t.iconList,imgList:t.imgList,categoryId:t.getProdCategory(s),disableList:t.disableList,orderInfo:t.orderInfo,orderId:t.orderId,menuInfo:t.menuInfo,showModal:t.show,prodSettingList:t.prodSettingList,promotionListSort:t.promotionListSort,promotionList:t.promotionList,amount:t.cartAmount(s)}}):t._e()]}))],2)])])],1)})),t._l(t.categoryListSort,(function(e,s){return i("div",{key:"category-"+s,ref:"category-"+e[t.schema.category.product_id],refInFor:!0,staticClass:"item menu-item"},[i("q-card",{staticClass:"category-card"},[t.hasImg?t._e():i("div",[t.imgList[e[t.schema.category.product_id]]?i("div",{class:["full-height gt-sm full-width overflow-hidden no-border-radius",t.img_loading?"q-pa-none":"q-py-md"]},[i("q-img",{attrs:{src:t.imgList[e[t.schema.category.product_id]].main_image.url},on:{load:function(e){t.img_loading=!0}}})],1):t._e()]),i("div",{staticClass:"q-py-sm"},[i("div",{staticClass:"flex flex-center justify-between q-px-md"},[i("div",{staticClass:"font-size-h5 q-py-sm b-color text-bold col"},[t._v("\n                "+t._s(t.getCategoryName(e[t.schema.category.name],e))+"\n              ")]),t.storeInfo.show_menu_icon&&2!==t.storeInfo.show_menu_icon?i("div",{staticClass:"col-auto flex"},[3!==t.storeInfo.store_mode?i("div",{staticClass:"col text-primary text-center text-cold-hot"},[t._v("\n                  "+t._s(t.$t("menu.ice"))+"\n                ")]):t._e(),3!==t.storeInfo.store_mode?i("div",{staticClass:"col text-secondary text-center text-cold-hot"},[t._v("\n                  "+t._s(t.$t("menu.hot"))+"\n                ")]):t._e()]):t._e()]),i("div",[t.recycleScrollerOn?i("div",[i("recycle-scroller",{staticClass:"scroller",attrs:{buffer:100,items:t.productListSort(e),"item-size":t.itemSize,"key-field":"id"},scopedSlots:t._u([{key:"default",fn:function(s){var o=s.item,r=s.index;return[i("menu-prod-block",{key:"menu-prod-block-"+o,class:{"border-b-list":r<t.productListSort(e).length-1},attrs:{menu:t.menu,prodId:o,storeInfo:t.storeInfo,layout:t.layout,iconList:t.iconList,imgList:t.imgList,categoryId:e[t.schema.category.product_id],disableList:t.disableList,orderInfo:t.orderInfo,orderId:t.orderId,menuInfo:t.menuInfo,showModal:t.show,prodSettingList:t.prodSettingList,promotionListSort:t.promotionListSort,promotionList:t.promotionList,voucherPackList:t.voucherPackList,amount:t.cartAmount(o)}})]}}],null,!0)})],1):i("div",t._l(t.productListSort(e),(function(s,o){return i("menu-prod-block",{key:"menu-prod-block-"+s,class:{"border-b-list":o<t.productListSort(e).length-1},attrs:{menu:t.menu,prodId:s,storeInfo:t.storeInfo,layout:t.layout,iconList:t.iconList,imgList:t.imgList,categoryId:e[t.schema.category.product_id],disableList:t.disableList,orderInfo:t.orderInfo,orderId:t.orderId,menuInfo:t.menuInfo,showModal:t.show,prodSettingList:t.prodSettingList,promotionListSort:t.promotionListSort,promotionList:t.promotionList,voucherPackList:t.voucherPackList,amount:t.cartAmount(s)}})})),1)])])])],1)}))],2),t.$q.screen.lt.sm&&t.block_menu_show?i("div",{staticClass:"mask"}):t._e(),i("q-scroll-observer",{attrs:{debounce:"1"},on:{scroll:t.scrollList}})],1)])},o=[],r=(i("20d6"),i("55dd"),i("8615"),i("7514"),i("ac6a"),i("cadf"),i("456d"),i("6762"),i("2fdb"),i("6b54"),i("06db"),i("967e")),n=i.n(r),a=(i("96cf"),i("fa84")),c=i.n(a),u=(i("c5f6"),i("b178")),d=i("791e"),l=i("5648"),M=u["i"].setScrollPosition,h=u["i"].getScrollTarget,p={components:{"menu-prod-block":l["a"]},props:{disableList:Object,iconList:Object,imgList:[Array,Object],layout:Number,menu:Object,menuInfo:Object,orderId:[Number,String],orderInfo:Object,prodSettingList:Object,recommendedList:Object,promotionList:Object,storeInfo:Object,top:Number,voucherPackList:Object},mixins:[d["a"]],data:function(){return{block_menu_show:!1,img_loading:!1,is_group_list:[],position:0,select:{category:""},show:{modal:!1}}},watch:{"$q.screen.height":function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:this.setWaterfall();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),"$q.screen.width":function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:this.setWaterfall();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),categoryList:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:this.setWaterfall();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),recommendedList:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:this.setWaterfall();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),"select.category":function(){var t="category-"+this.select.category,e=this.$refs[t][0],i=h(this.$refs.grid),s=this.top+e.offsetTop,o=1;M(i,s,o)}},computed:{chosenProducts:function(){return this.$store.state.cart.products},categoryCartAmount:function(){var t={};return this.chosenProducts.forEach((function(e){var i=e.categoryId.toString();Object.keys(t).includes(i)?t[e.categoryId]=t[e.categoryId]+e.num:t[e.categoryId]=e.num})),t},recommendedCartAmount:function(){var t=this,e={};return this.recommendedAmount.total&&this.chosenProducts.length&&this.chosenProducts.forEach((function(i){var s=function(s){t.recommendedListSort[s].forEach((function(o){var r=t.productList[o][t.schema.product.group_id];r?t.productList[i.id][t.schema.product.group_id]===r&&(e[s]=e[s]?e[s]+i.num:i.num):i.id===o&&(e[s]=e[s]?e[s]+i.num:i.num)}))};for(var o in t.recommendedListSort)s(o)})),e},recommendedAmount:function(){var t={total:0},e=this;for(var i in this.recommendedListSort){t[i]=0;var s=e.recommendedListSort[i];s.forEach((function(s){e.getProdCategory(s)&&(t[i]++,t.total++)}))}return t},recommendedListSort:function(){var t=this,e=this,i={},s=e.schema.product,o=this.schema.category,r=function(r){var n=e.recommendedList[r],a=[];n.forEach((function(i){var r=t.categoryListSort.find((function(t){return t[o.product_list].indexOf(i)>-1}));if(e.productList[i]&&r){var n=e.productList[i][s.group_id];n?e.productListSort(r).filter((function(t){e.productList[t][s.group_id]===n&&a.push(t)})):e.productListSort(r).indexOf(i)>-1&&a.push(i)}}));var c=a.filter((function(t,e,i){return i.indexOf(t)===e})),u=c.length,d=10;u>d&&c.splice(d,u-d),i[r]=c};for(var n in this.recommendedList)r(n);return i},recommendedListSortHandler:function(){var t={};for(var e in this.recommendedListSort)this.recommendedAmount[e]&&this.recommendedAmount.total&&3!==this.storeInfo.store_mode&&(t[e]=this.recommendedListSort[e]);return t},recycleScrollerOn:function(){return this.$store.state.recycleScroller.on},promotionCartAmount:function(){var t=this,e={};return this.promotionAmount.total&&this.chosenProducts.length&&this.chosenProducts.forEach((function(i){var s=function(s){t.promotionList[s].forEach((function(t){i.id===t&&(e[s]=e[s]?e[s]+i.num:i.num)}))};for(var o in t.promotionList)s(o)})),e},promotionAmount:function(){var t=this,e={total:0};for(var i in this.promotionList){e[i]=0;var s=this.promotionListSort[i];Object.keys(s).map(Number).forEach((function(s){t.getProdCategory(s)&&(e[i]++,e.total++)}))}return e},promotionListSort:function(){var t=this,e={},i=this.schema.product,s=this.schema.category,o=function(o){var r=t.promotionList[o],n={};r.forEach((function(e){var o=t.categoryListSort.find((function(t){return t[s.product_list].indexOf(e)>-1}));if(t.productList[e]&&o){var r=t.productList[e][i.group_id];r?t.productListSort(o).forEach((function(s){var o=s.toString();t.productList[o][i.group_id]===r&&(Object.keys(n).includes(o)?n[o].push(e):n[o]=[e])})):t.productListSort(o).indexOf(e)>-1&&(n[e]=[e])}})),e[o]=n};for(var r in this.promotionList)o(r);return e},showCategoryBar:function(){return this.position>this.top},hasImg:function(){switch(this.layout){case this.layoutType.picClick:case this.layoutType.picShow:case this.layoutType.picOutBig:return!0;default:return!1}},layoutType:function(){return{basic:this.$config.layout_type.basic,picClick:this.$config.layout_type.pic_click,picShow:this.$config.layout_type.pic_show,picOutBig:this.$config.layout_type.pic_out_big,line:this.$config.layout_type.line}},categoryListSort:function(){if(!this.categoryList||!this.schema||!this.schema.category)return[];var t=Object.values(this.categoryList),e=this.schema.category,i=function(t){return t?Object.values(t).map((function(t){return t.map((function(t){return t.product_id}))})).flat():[]},s=i(this.disableList?this.disableList.product:null),o=i(this.disableList&&this.disableList.todaySchedule?this.disableList.todaySchedule.product:null),r=this.storeInfo&&2===this.storeInfo.menu_stop_sale_type,n=this.storeInfo&&2===this.storeInfo.menu_stop_sale_today_type;return t=t.map((function(t){var i=t[e.product_list];return i&&Array.isArray(i)&&i.length&&(i=i.filter((function(t){return!(r&&s.includes(t))&&!(n&&o.includes(t))}))),t[e.product_list]=i,t})).filter((function(t){return t[e.product_list]&&t[e.product_list].length&&t[e.is_visible]&&t[e.is_enable]})).sort((function(t,i){return t[e.sort]-i[e.sort]})),t},categoryList:function(){return this.menu.category_list_json.data},productList:function(){return this.menu.product_list_json.data},blockList:function(){return this.menu.block_list_json.data},adjustList:function(){return this.menu.adjust_list_json.data},optionList:function(){return this.menu.option_list_json.data},combineList:function(){return this.menu.combine_list_json.data},schema:function(){return{category:this.menu.category_list_json.schema,product:this.menu.product_list_json.schema,block:this.menu.block_list_json.schema,adjust:this.menu.adjust_list_json.schema,option:this.menu.option_list_json.schema,combine:this.menu.combine_list_json.schema}},itemSize:function(){var t=0;switch(this.layout){case this.layoutType.picClick:case this.layoutType.picShow:t=65;break;case this.layoutType.picOutBig:t=115;break;case this.layoutType.basic:case this.layoutType.line:default:t=this.$q.screen.lt.md?58:50;break}return t}},mounted:function(){var t=c()(n.a.mark((function t(){var e=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:setTimeout((function(){e.setWaterfall()}),500);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{cartAmount:function(t){var e=this,i=0,s=this.productList[t][this.schema.product.group_id];return this.chosenProducts.forEach((function(o){s?e.productList[o.id][e.schema.product.group_id]===s&&(i+=o.num):o.id===t&&(i+=o.num)})),i},promoteProductCartAmount:function(t,e){var i=this,s=0,o=this.productList[t][this.schema.product.group_id];return this.chosenProducts.forEach((function(r){o?i.productList[r.id][i.schema.product.group_id]===o&&i.promotionListSort[e][t].includes(r.id)&&(s+=r.num):r.id===t&&(s+=r.num)})),s},selectBlockMenu:function(t){this.select["category"]=t,this.block_menu_show=!1},getCategoryName:function(t,e){var i=e[this.schema.category.product_id];if(i&&this.prodSettingList){var s=this.prodSettingList[i];if(s&&s.alias_list.length)return s.alias_list[0]}return t},getProdCategory:function(t){var e=0,i=this.schema.category,s=this.schema.product;for(var o in this.categoryList){var r=this.categoryList[o],n=this.productList[t],a=r[i.product_list],c=a.find((function(e){return e===t})),u=r[i.is_enable]&&r[i.is_visible],d=n&&n[s.is_enable]&&n[s.is_visible];if(c&&u&&d){e=parseInt(o,10);break}}return e},scrollList:function(t){!t.position&&this.show.modal||(this.position=t.position)},prodsCount:function(t){return t[this.schema.category.product_list].length},productListSort:function(t){var e=this,i=e.schema.product,s=e.schema.category,o=t[this.schema.category.product_list],r=[],n={},a=[];for(var c in o=o.filter((function(o,a){var c=e.productList[o][i.is_enable],u=e.productList[o][i.is_visible],d=e.productList[o][i.group_id];if(d&&c&&u){var l=n[d],M={prod:o,index:a};l||(n[d]=[]),n[d].push(M)}if(c&&u){var h=t[s.product_id],p=e.disableList.product[h];if(p&&p.forEach((function(t){var e=t.product_id;if(d&&o===e){var i=n[d].findIndex((function(t){return t.prod===o}));n[d][i].disable=!0}else o===e&&r.push(o)})),3!==e.storeInfo.store_mode)return o;var m=e.voucherPackList;for(var g in m)return Number(g)===o?o:null}})),n){for(var u=0,d=0,l=n[c],M=0;M<l.length;M++)l[M].disable&&(M!==l.length-1||d)?(u++,a.push(l[M].prod)):!l[M].disable&&d?(u++,a.push(l[M].prod)):(l[M].disable&&u++,d++);if(u===l.length)for(var h=0;h<l.length;h++)r.push(l[h].prod)}if(2===e.storeInfo.menu_stop_sale_type){var p=r;a.length&&(p=r.concat(a)),p.forEach((function(t){o.indexOf(t)>-1&&o.splice(o.indexOf(t),1)}))}else a.forEach((function(t){o.indexOf(t)>-1&&o.splice(o.indexOf(t),1)}));return o=o.sort((function(t,i){return e.productList[t][e.schema.product.sort]-e.productList[i][e.schema.product.sort]})),o},setWaterfall:function(){this.$refs.grid&&Object.keys(this.categoryList).length&&this.$q.screen.gt.sm&&window.waterfall(this.$refs.grid)}}},m=p,g=(i("f83b"),i("2877")),_=Object(g["a"])(m,s,o,!1,null,"b94e68dc",null);e["a"]=_.exports},"3b73":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"nd-address"},[i("div",{staticClass:"nd-address--add"},[i("q-icon",{attrs:{name:t.icon}}),i("span",{domProps:{textContent:t._s(t.text)}})],1)])])},o=[],r={name:"NdCardStyle",props:{icon:String,text:String}},n=r,a=(i("1094"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"277ec027",null);e["a"]=c.exports},"3d03":function(t,e,i){"use strict";var s=i("36f2"),o=i.n(s);o.a},"3e4d":function(t,e,i){},"3e4f":function(t,e,i){"use strict";var s=i("39bd7"),o=i.n(s);o.a},"3ede":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDYwIDYwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmxvZ2luPC90aXRsZT48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik00My44NCwzMy40N2wxLjY0LTEwLjc2SDM1LjE3di03YzAtMi45NCwxLjQ0LTUuODEsNi4wNy01LjgxaDQuNjlWLjczQTU3LjI3LDU3LjI3LDAsMCwwLDM3LjU5LDBjLTguNSwwLTE0LjA3LDUuMTUtMTQuMDcsMTQuNDl2OC4yMkgxNC4wN1YzMy40N2g5LjQ2VjU5LjU1YTM3LjY1LDM3LjY1LDAsMCwwLDExLjY1LDBWMzMuNDdaIi8+PC9zdmc+"},"3ef8":function(t,e,i){"use strict";var s=i("fe68"),o=i.n(s);o.a},"3f62":function(t,e,i){t.exports=i.p+"img/TapPay_logo.2ee41b2d.png"},"41ac":function(t,e,i){},"41c6":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE1ODNfMTIxOTIpIj4KPHBhdGggZD0iTTE4LjczMjggMjMuMzMzM0g0LjYwMDU3QzMuMTcwNzggMjMuMzMzMyAyIDIyLjE0NTMgMiAyMC42OTQ1VjE5LjAwMThDMiAxNS42MDYgNC43MjQ5IDEyLjg0MSA4LjA3MTQ1IDEyLjg0MUg4Ljg4OTk2TDkuMDI0NjUgMTIuOTA0MUMxMC43MTM1IDEzLjY5MjYgMTIuNjQwNiAxMy42ODIxIDE0LjMxOSAxMi45MDQxTDE0LjQ1MzcgMTIuODQxSDE1LjI3MjJDMTguNjE4OCAxMi44NDEgMjEuMzQzNyAxNS42MDYgMjEuMzQzNyAxOS4wMDE4VjIwLjY5NDVDMjEuMzMzMyAyMi4xNDUzIDIwLjE3MjkgMjMuMzMzMyAxOC43MzI4IDIzLjMzMzNaTTguMDcxNDUgMTQuMjA3OEM1LjQ3MDg4IDE0LjIwNzggMy4zNDY5MSAxNi4zNTI1IDMuMzQ2OTEgMTkuMDAxOFYyMC42OTQ1QzMuMzQ2OTEgMjEuMzk4OCAzLjkwNjQgMjEuOTY2NiA0LjYwMDU3IDIxLjk2NjZIMTguNzMyOEMxOS40MjY5IDIxLjk2NjYgMTkuOTg2NCAyMS4zOTg4IDE5Ljk4NjQgMjAuNjk0NVYxOS4wMDE4QzE5Ljk4NjQgMTYuMzYzIDE3Ljg3MjggMTQuMjA3OCAxNS4yNjE5IDE0LjIwNzhIMTQuNzQzOEMxMi43OTYgMTUuMDY5OCAxMC41Njg0IDE1LjA2OTggOC41OTk4NiAxNC4yMDc4SDguMDcxNDVWMTQuMjA3OFpNMTEuNjY2NyAxMi40NjI1QzguNDY1MTcgMTIuNDYyNSA1Ljg1NDIzIDkuODEzMTkgNS44NTQyMyA2LjU2NDU5QzUuODU0MjMgMy4zMTU5OCA4LjQ2NTE3IDAuNjY2NjI2IDExLjY2NjcgMC42NjY2MjZDMTQuODY4MiAwLjY2NjYyNiAxNy40NzkxIDMuMzE1OTggMTcuNDc5MSA2LjU2NDU5QzE3LjQ3OTEgOS44MTMxOSAxNC44NjgyIDEyLjQ2MjUgMTEuNjY2NyAxMi40NjI1Wk0xMS42NjY3IDIuMDMzMzVDOS4yMDA3OSAyLjAzMzM1IDcuMjAxMTQgNC4wNjI0MiA3LjIwMTE0IDYuNTY0NTlDNy4yMDExNCA5LjA2Njc1IDkuMjAwNzkgMTEuMDk1OCAxMS42NjY3IDExLjA5NThDMTQuMTMyNSAxMS4wOTU4IDE2LjEzMjIgOS4wNjY3NSAxNi4xMzIyIDYuNTY0NTlDMTYuMTMyMiA0LjA2MjQyIDE0LjEzMjUgMi4wMzMzNSAxMS42NjY3IDIuMDMzMzVaIiBmaWxsPSJibGFjayIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzE1ODNfMTIxOTIiPgo8cmVjdCB3aWR0aD0iMTkuMzMzMyIgaGVpZ2h0PSIyMi42NjY3IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMiAwLjY2NjYyNikiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"},"41d9":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5ZyW5bGkXzEiIGRhdGEtbmFtZT0i5ZyW5bGkIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0LjM3IDE3LjAxIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzAwMDEwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmk8L3RpdGxlPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIzLjY3LDE3SC42OUEuNy43LDAsMCwxLDAsMTYuMzFWLjY5QS43LjcsMCwwLDEsLjY5LDBoMjNhLjcuNywwLDAsMSwuNjkuNjlWMTYuMzFBLjcuNywwLDAsMSwyMy42NywxN1pNMS4zOSwxNS42MkgyM1YxLjM5SDEuMzlaIi8+PHJlY3QgY2xhc3M9ImNscy0xIiB4PSI1LjY0IiB5PSIxMi43NyIgd2lkdGg9IjcuMzUiIGhlaWdodD0iMS40OCIgcng9IjAuNzQiIHJ5PSIwLjc0Ii8+PHJlY3QgY2xhc3M9ImNscy0xIiB4PSIyLjM2IiB5PSIxMi44MiIgd2lkdGg9IjIuNCIgaGVpZ2h0PSIxLjQ4IiByeD0iMC43NCIgcnk9IjAuNzQiLz48cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjAuNzciIHk9IjMuNzgiIHdpZHRoPSIyMy4wOCIgaGVpZ2h0PSIzLjUxIi8+PC9zdmc+"},"426d":function(t,e,i){"use strict";var s=i("e1f8"),o=i.n(s);o.a},4382:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjAwNDMgOS4zOTA2M0w5LjMyNTAyIDEyLjA0NTVMNy43MjI1OSAxMi43NDY4QzYuNzc4NDYgMTEuNjQwNiA1Ljc3MDE1IDEwLjMyODEgNS4yOTM0NiA4LjY2ODc1TDYuMjUyOSA2Ljg0Mzc1TDcuNzk1OTYgNi4xMDkzOEM3Ljc2ODQ5IDYuMjc4MTMgNy43NTAxMiA2LjQ0Njg4IDcuNzUwMTIgNi42MjVDNy43NTAxMiA4LjE3MTg0IDguOTg3NTkgOS40Mzc1IDEwLjUwMDEgOS40Mzc1QzEwLjY3NDMgOS40Mzc1IDEwLjgzOTMgOS40MTg3MiAxMS4wMDQzIDkuMzkwNjNaIiBmaWxsPSIjRkZEQTJEIi8+CjxwYXRoIGQ9Ik0xMy4yMDQyIDcuMTM3ODJDMTMuMjMxNyA2Ljk3MDAxIDEzLjI0OTggNi44MDIxOSAxMy4yNDk4IDYuNjI1MDFDMTMuMjQ5OCA1LjA3OTM4IDEyLjAxNDEgMy44MTQzOCAxMC41MDMxIDMuODEyNTFIMTAuNDk5OEMxMC4zMjU2IDMuODEyNTEgMTAuMTYwNiAzLjgzMTI2IDkuOTk1NjEgMy44NTkzOEwxMi40MzM5IDEuMzY1NjNDMTMuOTA5OCAxLjkyODEzIDE1LjA5MjMgMy4xMzc1MSAxNS42NDIzIDQuNjQ2ODhMMTMuMjAzOSA3LjE0MDYzQzEzLjIwMzkgNy4xMzk2OSAxMy4yMDQyIDcuMTM4NzYgMTMuMjA0MiA3LjEzNzgyWiIgZmlsbD0iIzgwQUVGOCIvPgo8cGF0aCBkPSJNMTUuNjQyNiA0LjY0Njg4TDE0LjgwODQgNi4zMTI1MUwxMy4yMDQyIDcuMTQwNjNDMTMuMjA0MiA3LjEzOTY5IDEzLjIwNDUgNy4xMzg3NiAxMy4yMDQ1IDcuMTM3ODJDMTMuMjMyIDYuOTcwMDEgMTMuMjUwMSA2LjgwMjE5IDEzLjI1MDEgNi42MjUwMUMxMy4yNTAxIDUuMDc5MzggMTIuMDE0NCAzLjgxNDM4IDEwLjUwMzQgMy44MTI1MUgxMC41MDFWMy4zNDI4MkwxMS4wNTAxIDIuMDkzNzZMMTIuNDM0MiAxLjM2NTYzQzEzLjkxMDEgMS45MjgxMyAxNS4wOTI2IDMuMTM3NTEgMTUuNjQyNiA0LjY0Njg4WiIgZmlsbD0iIzQwODZGNCIvPgo8cGF0aCBkPSJNMTUuNjQyNyA0LjY0Njg4TDEzLjIwNDQgNy4xNDA2QzEyLjk5MzUgOC4yNzUwMSAxMi4xMTM2IDkuMTc0OTggMTEuMDA0NCA5LjM5MDYzSDExLjAwNDNMOC4zNDk5IDEyLjEwNTRMNy43MjI2NiAxMi43NDY4QzcuODc4NTIgMTIuOTI0OSA4LjAxNTk5IDEzLjA4NDQgOC4xNjI2OSAxMy4yNTMxQzkuMTcxMDUgMTQuNDI1IDEwLjA0MTkgMTUuNSAxMC4wNDE5IDE2LjUzMTNDMTAuMDQxOSAxNi43OTM3IDEwLjI0MzUgMTcgMTAuNTAwMiAxN0MxMC43NTY5IDE3IDEwLjk1ODYgMTYuNzkzNyAxMC45NTg2IDE2LjUzMTNDMTAuOTU4NiAxNS41IDExLjgyOTQgMTQuNDI1IDEyLjgzNzcgMTMuMjUzMUMxNC4yNDk0IDExLjYzMTIgMTYuMDAwMiA5LjYwNjI2IDE2LjAwMDIgNi42MjUwMUMxNi4wMDAyIDUuOTMxMjYgMTUuODgxMSA1LjI2NTYzIDE1LjY0MjcgNC42NDY4OFoiIGZpbGw9IiM1OUMzNkEiLz4KPHBhdGggZD0iTTE1LjY0MjUgNC42NDY4OEwxMy4yMDQyIDcuMTQwNTdWNy4xNDA2QzEyLjk5MzQgOC4yNzUwMSAxMi4xMTM0IDkuMTc0OTggMTEuMDA0MiA5LjM5MDYzQzExLjAwNDIgOS4zOTA2MyAxMS4wMDQyIDkuMzkwNjMgMTEuMDA0MSA5LjM5MDYzTDEwLjUwMSA5LjkwNTE5VjE2Ljk5OThDMTAuNzU3MiAxNi45OTkzIDEwLjk1ODQgMTYuNzkzNCAxMC45NTg0IDE2LjUzMTNDMTAuOTU4NCAxNS41IDExLjgyOTIgMTQuNDI1IDEyLjgzNzUgMTMuMjUzMUMxNC4yNDkyIDExLjYzMTIgMTYgOS42MDYyNiAxNiA2LjYyNTAxQzE2IDUuOTMxMjYgMTUuODgwOSA1LjI2NTYzIDE1LjY0MjUgNC42NDY4OFoiIGZpbGw9IiMwMEE2NkMiLz4KPHBhdGggZD0iTTEwLjUwMSA5LjkwNTI4TDExLjAwNDIgOS4zOTA2MkMxMC44Mzk1IDkuNDE4NjYgMTAuNjc0OCA5LjQzNzI1IDEwLjUwMSA5LjQzNzM4VjkuOTA1MjhaIiBmaWxsPSIjRkRCRjAwIi8+CjxwYXRoIGQ9Ik0xMi40MzQxIDEuMzY1NjJMOS45OTU3OCAzLjg1OTM4QzkuNDM2NjEgMy45NzE4NyA4Ljk0MTU4IDQuMjQzNzIgOC41NTY2MSA0LjYzNzUzTDcuMTM4ODQgNC4wMzEyNUw2LjYxMzI4IDIuNjVDNy42MDMzMSAxLjYyODA5IDguOTc4MzEgMSAxMC40OTk5IDFDMTEuMTc4MyAxIDExLjgyOTEgMS4xMjE4NyAxMi40MzQxIDEuMzY1NjJaIiBmaWxsPSIjNDA4NkY0Ii8+CjxwYXRoIGQ9Ik0xMC41MDEgMy4zNDI3OEwxMi40MzQyIDEuMzY1NjJDMTEuODI5NSAxLjEyMTk3IDExLjE3OSAxLjAwMDIyIDEwLjUwMSAxLjAwMDA5VjMuMzQyNzhIMTAuNTAxWiIgZmlsbD0iIzQxNzVERiIvPgo8cGF0aCBkPSJNOC41NTY2NyA0LjYzNzQ5QzguMTcxNyA1LjAzMTI0IDcuOTA1OCA1LjUzNzQ2IDcuNzk1ODMgNi4xMDkzN0w1LjI5MzMzIDguNjY4NzRDNS4xMSA4LjA0MDY1IDUgNy4zNjU2MiA1IDYuNjI0OTlDNSA1LjA2ODcxIDUuNjE0MTQgMy42NjI0NiA2LjYxMzMzIDIuNjQ5OTlMOC41NTY2NyA0LjYzNzQ5WiIgZmlsbD0iI0YwMzgwMCIvPgo8L3N2Zz4K"},"455a":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbuihl+WPoyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNTgiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCA1OCAyMCI+CiAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMjYwIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMjYwIiB3aWR0aD0iNTgiIGhlaWdodD0iMjAiIHJ4PSI0IiBmaWxsPSIjZTYwYTBmIi8+CiAgPGcgaWQ9Ikdyb3VwXzQyOTUiIGRhdGEtbmFtZT0iR3JvdXAgNDI5NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNi41ODUgMy41MjYpIj4KICAgIDxwYXRoIGlkPSJQYXRoXzM1MTEiIGRhdGEtbmFtZT0iUGF0aCAzNTExIiBkPSJNMTIxLjI3OCwxMDguNzA3aC03LjMyNmEzLjE2OSwzLjE2OSwwLDAsMC0zLjE2NSwzLjE2NVYxMTkuMmEzLjE2OSwzLjE2OSwwLDAsMCwzLjE2NSwzLjE2NWg3LjMyNmEzLjE2OSwzLjE2OSwwLDAsMCwzLjE2NS0zLjE2NXYtNy4zMjZBMy4xNjksMy4xNjksMCwwLDAsMTIxLjI3OCwxMDguNzA3WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExMC43ODcgLTEwOC43MDcpIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPGcgaWQ9Ikdyb3VwXzQyOTYiIGRhdGEtbmFtZT0iR3JvdXAgNDI5NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS41MTEgMi4xOTIpIj4KICAgICAgPGcgaWQ9Ikdyb3VwXzQyOTUtMiIgZGF0YS1uYW1lPSJHcm91cCA0Mjk1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjA4OSAwKSI+CiAgICAgICAgPHBhdGggaWQ9IlBhdGhfMzUxMiIgZGF0YS1uYW1lPSJQYXRoIDM1MTIiIGQ9Ik0xNDYuMzYxLDE1My41MjlhLjQxNS40MTUsMCwwLDEsLjAzNy41MTgsNC4zMzMsNC4zMzMsMCwwLDEtMS4wMTEsMS4zMDgsNS40MDcsNS40MDcsMCwwLDEtMS4zNDIuOS4zNzkuMzc5LDAsMCwxLS41MDktLjFsLS4xODItLjIwN2EuMzc0LjM3NCwwLDAsMS0uMDM3LS41MTgsMTUuNjMzLDE1LjYzMywwLDAsMCwxLjI3MS0uOTE3LDExLjUxMSwxMS41MTEsMCwwLDAsMS4wODEtMS4yODguMzc0LjM3NCwwLDAsMSwuNTA5LjFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQzLjIzIC0xNTMuMTU3KSIgZmlsbD0iI2ZmZiIvPgogICAgICA8L2c+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MTMiIGRhdGEtbmFtZT0iUGF0aCAzNTEzIiBkPSJNMTQ0LjYzNSwyMDMuNDc0bC0uMTg1LS4yMWEuMzgxLjM4MSwwLDAsMC0uNTItLjEsMTEuOTQxLDExLjk0MSwwLDAsMS0xLjExMywxLjMyMWMtLjQuMzQ5LTEuMzA1Ljk0My0xLjMwNS45NDNhLjM4MS4zODEsMCwwLDAsLjAzNS41MjhsLjE4NS4yMWEuMzg1LjM4NSwwLDAsMCwuNTIuMSw0LjQsNC40LDAsMCwwLC42LS4zMzF2My41ODJhLjM3NC4zNzQsMCwwLDAsLjM1OS4zODhoLjMxNGEuMzc0LjM3NCwwLDAsMCwuMzU5LS4zODh2LTQuNDI2YTQuNDgxLDQuNDgxLDAsMCwwLC43OTEtMS4wOUMxNDQuNzY0LDIwMy43OSwxNDQuNzg4LDIwMy42NDgsMTQ0LjYzNSwyMDMuNDc0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0MS40MjIgLTIwMC42MzQpIiBmaWxsPSIjZmZmIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MTQiIGRhdGEtbmFtZT0iUGF0aCAzNTE0IiBkPSJNMjA4LjM4LDE1Ny45M2gtMy41MWMtLjAwNywwLS4wMTQsMC0uMDIxLDBzLS4wMTMsMC0uMDIxLDBoLS43MDZhLjIzNC4yMzQsMCwwLDEtLjIzNC0uMjM0di0uNDlhLjIzNC4yMzQsMCwwLDEsLjIzNC0uMjM0aC43MDZhLjM4Ny4zODcsMCwwLDAsLjM4OC0uMzg3di0uMjU4YS4zODguMzg4LDAsMCwwLS4zODgtLjM4N2gtLjcwNmEuMjM0LjIzNCwwLDAsMS0uMjM0LS4yMzR2LS44MzlhLjM4Ny4zODcsMCwwLDAtLjM4Ny0uMzg4aC0uMjU4YS4zODguMzg4LDAsMCwwLS4zODcuMzg4di44MzlhLjIzNC4yMzQsMCwwLDEtLjIzNC4yMzRoLS43MzlhLjM4OC4zODgsMCwwLDAtLjM4OC4zODd2LjI1OGEuMzg4LjM4OCwwLDAsMCwuMzg4LjM4N2guNzM5YS4yMzQuMjM0LDAsMCwxLC4yMzQuMjM0di40OWEuMjM0LjIzNCwwLDAsMS0uMjM0LjIzNGgtLjczOWEuMzg4LjM4OCwwLDAsMC0uMzg4LjM4N3YuMjU4YS4zODguMzg4LDAsMCwwLC4zODguMzg3aC43MzlhLjIzNC4yMzQsMCwwLDEsLjIzNC4yMzR2LjQ0MmEuMjM0LjIzNCwwLDAsMS0uMjM0LjIzNGgtLjczOWEuMzg4LjM4OCwwLDAsMC0uMzg4LjM4N3YuMjU4YS4zODguMzg4LDAsMCwwLC4zODguMzg3aC43MzlhLjIzNC4yMzQsMCwwLDEsLjIzNC4yMzRWMTYyYS4yMzQuMjM0LDAsMCwxLS4xODYuMjI5Yy0uNjQ3LjEzNy0xLjI5NS4yNjUtMS4yOTUuMjY1YS40MDguNDA4LDAsMCwwLS4yODguNWwuMDY4LjI2OGMuMDU2LjIyMi4xODguMy40OTEuM2E2LjgsNi44LDAsMCwwLDEuNy0uMyw1LjQ2Miw1LjQ2MiwwLDAsMCwxLjc5MS0uODE1Yy4yMzEtLjE1Ny4zNDQtLjI3OC4yODgtLjVsLS4wNjgtLjI2N2EuNDA4LjQwOCwwLDAsMC0uNDkxLS4zcy0uMjgyLjE0LS42NDUuM2EuMjM0LjIzNCwwLDAsMS0uMzMtLjIxM3YtLjMzNWEuMjM0LjIzNCwwLDAsMSwuMjM0LS4yMzRoLjcwNmEuMzg4LjM4OCwwLDAsMCwuMzg4LS4zODd2LS4yNThhLjM4Ny4zODcsMCwwLDAtLjM4OC0uMzg3aC0uNzA2YS4yMzQuMjM0LDAsMCwxLS4yMzQtLjIzNFYxNTkuMmEuMjM0LjIzNCwwLDAsMSwuMjM0LS4yMzRoLjcwNmMuMDA3LDAsLjAxMywwLC4wMjEsMHMuMDE0LDAsLjAyMSwwaC44NzNhLjIzOC4yMzgsMCwwLDEsLjIzOC4yMzh2NC4xYS4zNzQuMzc0LDAsMCwwLC4zNTkuMzg4aC4zMTRhLjM3NC4zNzQsMCwwLDAsLjM1OS0uMzg4di00LjFhLjIzOC4yMzgsMCwwLDEsLjIzOC0uMjM4aDEuMTI4YS4zODguMzg4LDAsMCwwLC4zODgtLjM4N3YtLjI1OEEuMzg4LjM4OCwwLDAsMCwyMDguMzgsMTU3LjkzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5OC4xMzMgLTE1NC40MTUpIiBmaWxsPSIjZmZmIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MTUiIGRhdGEtbmFtZT0iUGF0aCAzNTE1IiBkPSJNMjkzLjEzNCwxNTMuMzI3Yy0uMDE5LDAtLjAzNywwLS4wNTYsMHMtLjAzNywwLS4wNTYsMGEuOTY5Ljk2OSwwLDAsMC0uODYyLDEuMTc3LDguNDQxLDguNDQxLDAsMCwwLC43OTQsMS44Mi4xMzguMTM4LDAsMCwwLC4yNDksMEE4LjQ0NCw4LjQ0NCwwLDAsMCwyOTQsMTU0LjUuOTY5Ljk2OSwwLDAsMCwyOTMuMTM0LDE1My4zMjdabS0uMDU2LDEuNDE2YS40NDMuNDQzLDAsMSwxLC40NDMtLjQ0M0EuNDQzLjQ0MywwLDAsMSwyOTMuMDc5LDE1NC43NDNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjg0LjcxMiAtMTUzLjMxOSkiIGZpbGw9IiNmZmYiLz4KICAgIDwvZz4KICAgIDxwYXRoIGlkPSJQYXRoXzM1MTYiIGRhdGEtbmFtZT0iUGF0aCAzNTE2IiBkPSJNNDI1LjA0LDE3MC4wN2wtNi4wNjgtLjAwN2EuOTU5Ljk1OSwwLDAsMC0xLjA4OCwxLjA4NmwtLjAwNyw2LjAyNGEuOTU1Ljk1NSwwLDAsMCwxLjA4NiwxLjA4OGw2LjA2OC4wMDdhLjk2Ljk2LDAsMCwwLDEuMDg4LTEuMDg2bC4wMDctNi4wMjRBLjk2NC45NjQsMCwwLDAsNDI1LjA0LDE3MC4wN1ptLS4wNzEsNi43MjNhLjM2OS4zNjksMCwwLDEtLjEuMjc2LjM3My4zNzMsMCwwLDEtLjI2OS4wOTNsLTUuMi0uMDA2YS4zMzEuMzMxLDAsMCwxLS4zNjktLjM3bC4wMDYtNS4yNDdhLjM3NC4zNzQsMCwwLDEsLjA5NC0uMjcuMzY4LjM2OCwwLDAsMSwuMjc2LS4xbDUuMi4wMDZhLjM0LjM0LDAsMCwxLC4zNjkuMzdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDAwLjczMSAtMTY3LjAzNykiIGZpbGw9IiNmZmYiLz4KICAgIDxnIGlkPSJHcm91cF80Mjk3IiBkYXRhLW5hbWU9Ikdyb3VwIDQyOTciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjMwNCAxLjcyNCkiPgogICAgICA8cGF0aCBpZD0iUGF0aF8zNTE3IiBkYXRhLW5hbWU9IlBhdGggMzUxNyIgZD0iTTYyMi4zNCwxNDUuNzkzYS41NzYuNTc2LDAsMCwwLS4zOC0uMTEzaC0uOHYtMS4zNjZjLS4wMS0uMzE4LS4xOTQtLjQ4My0uNTY0LS40ODMtLjM3LjAyLS41NjUuMTg0LS41NjYuNDgydjEuMzY2bC0zLjI4NSwwYS41OC41OCwwLDAsMC0uMzguMS41NjcuNTY3LDAsMCwwLS4xNDQuNDYyLjUyMS41MjEsMCwwLDAsLjE0My40MzEuNTQ2LjU0NiwwLDAsMCwuMzguMTI0bDMuMjg2LDAtLjAwNiw1LjAyYS4xMzYuMTM2LDAsMCwxLS4xNTQuMTU0Yy0uMTc2LDAtMi4xMzYuMTI0LTQuNDE1LjA3NWwuMDA3LTUuNjM1YTExLjQ2NSwxMS40NjUsMCwwLDAsLjU2Ni0xLjYzMmMuMDMxLS4xMzMuMDUyLS4yNzcuMDczLS40MzFhLjQ0LjQ0LDAsMCwwLS4yMDUtLjQyMSwxLjA3MiwxLjA3MiwwLDAsMC0uNDcyLS4xLjQ4LjQ4LDAsMCwwLS4zNi4zMjgsMTUuOTg3LDE1Ljk4NywwLDAsMS0xLjc2LDMuOTUxLjY0NS42NDUsMCwwLDAtLjEzNC4zMzkuNDc2LjQ3NiwwLDAsMCwuMTY0LjM5LjY4OS42ODksMCwwLDAsLjQ4Mi4xNjUuNTU4LjU1OCwwLDAsMCwuNDgzLS4yMzUuMjIuMjIsMCwwLDEsLjA0MS0uMDYybDAsMy4zMDhhMTcuMDM4LDE3LjAzOCwwLDAsMS00Ljg3Ni0uNzc4Yy4wNzItLjA0MS4xNTQtLjA4Mi4yMzYtLjEzM2E3LjU0Myw3LjU0MywwLDAsMCwxLjkxMS0xLjY1MSwyLjU5MywyLjU5MywwLDAsMCwuNTM1LTEuMTcuNzI4LjcyOCwwLDAsMC0uMzM4LS42NjgsMi4wMTgsMi4wMTgsMCwwLDAtLjc0OS0uMTM0bC0yLjIwNywwdi0xLjM2NmwzLjYxNCwwYS41MTQuNTE0LDAsMCwwLC40MjEtLjE2NC41NzQuNTc0LDAsMCwwLC4xLS4zNTkuNDg4LjQ4OCwwLDAsMC0uMTIzLS40LjU1LjU1LDAsMCwwLS40LS4xMjRsLTMuNjE0LDB2LS44ODNhLjUyLjUyLDAsMCwwLS4xNzQtLjQuNjQ1LjY0NSwwLDAsMC0uNDIxLS4xMTMuNjM0LjYzNCwwLDAsMC0uNDQyLjExMy41NzYuNTc2LDAsMCwwLS4xNjUuNHYuODgzbC0zLjQ1LDBhLjQ0OC40NDgsMCwwLDAtLjUyNC41MjMuNTE3LjUxNywwLDAsMCwuMTIzLjQuNTgzLjU4MywwLDAsMCwuNC4xMjRsMy40NSwwdjEuMzY2bC0zLjEzMSwwYS41MDguNTA4LDAsMCwwLS4zNDkuMTEzLjYxNy42MTcsMCwwLDAtLjAyMi43MzljLjA1MS4xLjE3NC4xNDQuMzcuMTQ0aC40NjJhLjUuNSwwLDAsMC0uMTM0LjM2OSwxLjIzOCwxLjIzOCwwLDAsMCwuNDEuNjU4LDExLjcsMTEuNywwLDAsMCwxLjgxNSwxLjY1NWMtLjg4My4zMjgtMS45NzIuNjY1LTMuMjc2LDEuMDEzYS41MDYuNTA2LDAsMCwwLS4yMDYuNDgyLjQ2NC40NjQsMCwwLDAsLjE1NC4zMTguNTc0LjU3NCwwLDAsMCwuNDExLjE2NSw2LjY1MSw2LjY1MSwwLDAsMCwxLjM0NS0uMjg2YzEuMDQ4LS4zMzgsMS45NTItLjY3NiwyLjczMi0xLDMuNjUsMS43MzUsMTEuMywxLjI2NiwxMS43MTQsMS4yNjZhMS44NzksMS44NzksMCwwLDAsLjg5My0uMjY2Ljc2OS43NjksMCwwLDAsLjMxOS0uNjE2bC4wMDYtNS40MjFoLjhhLjUwNy41MDcsMCwwLDAsLjQ0Mi0uMTc0LjY0OC42NDgsMCwwLDAsLjA4Mi0uMzhDNjIyLjQ4MywxNDYuMDA4LDYyMi40MzIsMTQ1Ljg1NCw2MjIuMzQsMTQ1Ljc5M1ptLTE0LjA4Miw0Ljg1YS42NTkuNjU5LDAsMCwxLS4xNDQtLjA4Miw4LjIzOSw4LjIzOSwwLDAsMS0yLjAxLTEuNzU4Yy0uMDcyLS4wODItLjE2NC0uMTg1LS4yNjctLjMtLjAxLDAtLjAyLS4wMi0uMDMxLS4wNDFsNC44MDUuMDA2Yy4xLDAsLjE2NC4wMzEuMTY0LjA4MmExLjksMS45LDAsMCwxLS42NTguODcyLDguMTA5LDguMTA5LDAsMCwxLTEuNzQ3LDEuMTY4QzYwOC4zMywxNTAuNjEyLDYwOC4zLDE1MC42MjIsNjA4LjI1OCwxNTAuNjQzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwMy41ODQgLTE0My42NjEpIiBmaWxsPSIjZmZmIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MTgiIGRhdGEtbmFtZT0iUGF0aCAzNTE4IiBkPSJNODY4LjQzMywyMjMuMzc1YS40MTEuNDExLDAsMCwwLC4yNTcuMDYyLjU0NC41NDQsMCwwLDAsLjQxMS0uMTQzLjM2NC4zNjQsMCwwLDAsLjExMy0uMywyLjg3OSwyLjg3OSwwLDAsMC0uMzE3LTEuMTMsNi41NjcsNi41NjcsMCwwLDAtLjg4MS0xLjQzOC45NTUuOTU1LDAsMCwwLS40LS4xNTUuNzg4Ljc4OCwwLDAsMC0uMjc3LjA1MS41OTIuNTkyLDAsMCwwLS4yNDcuMjI2LjU2OS41NjksMCwwLDAtLjA0MS4yMDUuNDg1LjQ4NSwwLDAsMCwuMDgyLjI2N2MuNTMzLjk2Ni45MjIsMS43LDEuMTU4LDIuMTc4QS4zNjEuMzYxLDAsMCwwLDg2OC40MzMsMjIzLjM3NVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NTQuMDU2IC0yMTYuNDk1KSIgZmlsbD0iI2ZmZiIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},"45c0":function(t,e,i){"use strict";var s=i("3e4d"),o=i.n(s);o.a},"45d7":function(t,e,i){},4672:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showLeftBtn?i("div",{class:["full-width flex flex-center",{"col text-accent":2===t.type},{"bg-d-gray text-white":2===t.type&&t.showBtn.disable},{"bg-white":2===t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2===t.type&&!t.showBtn.disable&&!t.showRightBtn}]},[i("div",{staticClass:"text-center text-bold flex flex-center",class:[2===t.type?"q-py-md full-width full-height":"btn-primary text-accent border q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"bg-d-gray text-white":2!==t.type&&t.showBtn.disable},{"bg-white":2!==t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2!==t.type&&!t.showBtn.disable&&!t.showRightBtn}],style:2===t.type?"":"height: 71.141px",on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"b-bg-secondary",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v(t._s(t.showBtn.name))])],1)]):t._e()},o=[],r=(i("7f7f"),i("c5f6"),{props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,show:Object,showRightBtn:Boolean,cantEdit:Boolean},data:function(){return{btns:{1:{name:this.$t("order.add_items"),event:"goToMenu"},2:{name:this.$t("order.step_previous"),event:"goStepBack"},3:{name:this.$t("order.cancel_trade"),event:"cancelTrade"},4:{name:this.$t("order.goCarts"),event:"goToCarts"},5:{name:this.$t("order.order_again"),event:"reorder",disable:!1},6:{name:this.$t("order.order_delete"),event:"removeOrder"},7:{name:this.$t("order.continue_order"),event:"goToCarts"}}}},computed:{showLeftBtn:function(){return!(!this.showRightBtn&&this.showBtn.disable)},disReorder:function(){var t=this.orderInfo.status;return 99!==t&&(120!==t&&(121!==t&&(122!==t&&(140!==t&&130!==t))))},showSpinner:function(){return!!this.show&&this.show.btn_spinner},showBtn:function(){var t=this.orderInfo;return this.step?1!==this.step||this.cantEdit?1===this.step&&this.cantEdit?this.btns[6]:1===t.status||2===t.status?this.btns[3]:100===t.status?this.btns[4]:3===this.step&&"voucherOrderSuccess"===this.$route.name?this.btns[7]:this.btns[2]:this.btns[1]:(this.btns[5].disable=this.disReorder,this.disReorder?(this.btns[5].event="",this.btns[5].name=this.$t("order.order_again_un")):(this.btns[5].event="reorder",this.btns[5].name=this.$t("order.order_again")),this.btns[5])}}}),n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},"467fc":function(t,e,i){"use strict";i("551c"),i("06db");var s=i("967e"),o=i.n(s),r=(i("7f7f"),i("96cf"),i("fa84")),n=i.n(r);i("c1df");e["a"]={methods:{handleDownwardCompatibility:function(){var t=n()(o.a.mark((function t(e){var i,s,r,n,a,c,u,d,l,M,h,p,m,g,_=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.ver,s=void 0===i?0:i,r=e.params,n=void 0===r?{}:r,a=e.from,void 0===a?"":a,t.t0=s,t.next=167653938===t.t0?5:22;break;case 5:return c=[],u=n.invProSim,d=void 0===u?null:u,l=n.gbList,M=void 0===l?[]:l,h=n.name,p=void 0===h?"":h,d?c.push(!0):c.push(!1),M.forEach((function(t){var e=t.invalid_product_simple||null;e?c.push(!0):c.push(!1)})),t.next=11,this.checkProductInCartByMenuVersion();case 11:m=t.sent,t.t1=p,t.next="menuOrder"===t.t1?15:"OrderList"===t.t1?17:20;break;case 15:return this.order_info.total_amount?this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"菜單已更新，無法編輯此訂單。可選擇刪除訂單或至購物車確認訂單內容並重新訂購！",ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.delete_order"),color:"gray-6",textColor:"gray-2"},persistent:!0}).onOk((function(){_.$router.push({name:"OrderList",params:{order_id:_.$route.params.order_id}})})).onCancel((function(){_.delCart()})):this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"菜單已更新，請重新選購商品。",ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"}}).onOk((function(){_.getMenuJson(),_.changeProductInCartByMenuVersion()})),t.abrupt("break",21);case 17:return g=m.msg,this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:g,ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"},persistent:!0}).onOk((function(){_.getMenuJson(),1!==m.status&&_.changeProductInCartByMenuVersion()})),t.abrupt("break",21);case 20:return t.abrupt("break",21);case 21:return t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),checkProductInCartByMenuVersion:function(){var t=this;return new Promise((function(e,i){var s=t.$route.params.order_id,o="/carts/".concat(s,"/checkProduct"),r={dest_menu_id:t.menu_info.menu_id,dest_menu_ver_stamp:t.menu_info.version.stamp};t.postDataH(o,r).then((function(t){var s={check_status:t.data.check_status,msg:"",status:t.data.status};if(200===t.data.status){switch(t.data.check_status){case 1:s.msg="購物車使用菜單與目前上架菜單相同，不需變更。";break;case 2:s.msg="由於菜單更新，部份商品無法訂購已代為移除。";break;case 3:s.msg="菜單已更新，已檢查您的訂單，訂單內商品不需異動。";break;default:break}e(s)}else i(s)})).catch((function(t){i()}))}))},changeProductInCartByMenuVersion:function(){var t=this,e=this.$route.params.order_id,i="/carts/".concat(e,"/changeProduct"),s={dest_menu_id:this.menu_info.menu_id,dest_menu_ver_stamp:this.menu_info.version.stamp};this.postDataH(i,s).then((function(){t.reload()})).catch((function(t){}))}}}},4769:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[!t.search&&t.showMessage&&(t.$q.screen.lt.md||!t.$q.screen.lt.md&&"problems"!==t.$route.name)?i("nd-message-block",{staticClass:"q-mx-md q-pa-sm",attrs:{"block-color":t.blockColor,content:t.message,icon:"fas fa-exclamation-circle","icon-align":"items-center","icon-color":"warning"}}):t._e(),t.list.length?t._e():i("div",{staticClass:"row column items-center"},[i("nd-spinner",{class:["error-message",t.$q.screen.lt.md?"error-message-md-top":"error-message-lg-top"],attrs:{name:"faq_empty",description:"建議放寬條件重新查詢"}})],1),t._l(t.list,(function(e,s){return i("div",{key:"card_"+e.id,ref:"card_"+s,refInFor:!0,staticClass:"bg-white q-my-md",class:{"q-py-md border-around":!t.$q.screen.lt.md&&"problems"===t.$route.name},attrs:{id:"card_"+s}},[i("div",{staticClass:"font-size-subtitle-1 q-my-sm text-weight-medium q-mx-md"},[t._v("\n      "+t._s(e.title)+"\n    ")]),i("div",{class:{"q-pb-md":t.$q.screen.lt.md||"problems"!==t.$route.name}},t._l(e.question_list,(function(s,o){return i("div",{key:s.id,staticClass:"q-py-sm"},[i("nd-faq-panel",{attrs:{list:s,"is-close-panel":t.isClosePanel},on:{"update:isClosePanel":function(e){t.isClosePanel=e},"update:is-close-panel":function(e){t.isClosePanel=e}}}),o<e.question_list.length-1||t.$q.screen.lt.md||t.showLastBorder?i("div",{staticClass:"border-bottom q-mx-md"}):t._e()],1)})),0)])}))],2)},o=[],r=(i("7f7f"),i("791e")),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-expansion-item",{attrs:{label:t.list.title,dense:"","header-class":["header-panel",{"b-color text-weight-medium":t.open}],"expand-icon-class":{"b-color":t.open}},on:{show:function(e){return t.setProblemTag(t.list.title)}},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[i("nd-question",{attrs:{id:t.list.id,open:t.open}})],1)},a=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"question",staticClass:"q-pb-md q-px-md q-mb-md"},[t.visible?i("q-inner-loading",{attrs:{color:"primary",showing:t.visible}}):i("div",{staticClass:"nd-markdown"},t._l(t.list,(function(e,s){return i("div",{key:"q_"+s},[1===e.type?i("div",{domProps:{innerHTML:t._s(t.getMarkDown(e.content))}}):i("div",{class:["text-center",{cover:e.showCover}]},[i("img",{staticClass:"cursor-pointer",attrs:{src:e.img_location},on:{click:function(i){return t.openImage(e.img_location)}}})])])})),0)],1)},u=[],d=(i("a481"),i("967e")),l=i.n(d),M=(i("55dd"),i("96cf"),i("fa84")),h=i.n(M),p=(i("551c"),i("06db"),i("c5f6"),i("0e54")),m={name:"NdFaqQuestion",mixins:[r["a"]],props:{id:Number,open:Boolean},data:function(){return{imgs:[],isReady:!1,list:[],visible:!1}},methods:{addImageProcess:function(t){return new Promise((function(e,i){var s=new Image;s.onload=function(){return e(s.width)},s.onerror=i,s.src=t}))},getAns:function(){var t=this;this.visible=!0;var e=this.$refs.question.clientWidth-32,i="/faq/question/"+this.id;this.getDataH(i,null).then((function(i){200===i.data.status&&(i.data.question.answer_list.forEach(function(){var i=h()(l.a.mark((function i(s,o){return l.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s.index=o,2!==s.type){i.next=6;break}return i.next=4,t.addImageProcess(s.img_location);case 4:s.width=i.sent,s.showCover=e<s.width;case 6:t.list.push(s),t.list.sort((function(t,e){return t.index-e.index}));case 8:case"end":return i.stop()}}),i)})));return function(t,e){return i.apply(this,arguments)}}()),t.isReady=!0),setTimeout((function(){t.visible=!1}),500)})).catch((function(t){}))},getMarkDown:function(t){return p["parse"](t).replace(/a href/g,'a target="_blank" href')},openImage:function(t){window.open(t,"_blank")}},watch:{open:function(t){t&&!this.isReady&&this.getAns()}}},g=m,_=i("2877"),f=Object(_["a"])(g,c,u,!1,null,null,null),y=f.exports,I={name:"NdFaqPanel",components:{NdQuestion:y},mixins:[r["a"]],props:{list:{type:Object},isClosePanel:{type:Boolean,default:!1}},data:function(){return{open:!1}},watch:{isClosePanel:function(t){t&&(this.open=!1)}},methods:{setProblemTag:function(t){this.setGATag("view_direction"),this.setGATag("view_direction_problems",null,{problem_title:t}),this.$emit("update:isClosePanel",!1)}}},N=I,D=Object(_["a"])(N,n,a,!1,null,null,null),j=D.exports,v=i("45889"),L=i("d2aa"),x={name:"NdFaqList",mixins:[r["a"]],components:{"nd-faq-panel":j,"nd-message-block":v["a"],"nd-spinner":L["default"]},props:{list:Array,showLastBorder:{type:Boolean,default:!1},isClosePanel:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},search:{type:String,default:""}},computed:{message:function(){var t=["如有問題請洽詢門市"];return"problems"===this.$route.name&&(this.isUBrand||this.setBrandCode)&&(t[0]="如有問題請洽詢品牌"),t}},data:function(){return{blockColor:"background-color: #FFFAE8"}},created:function(){this.setGATag("view.customer_service")},watch:{isClosePanel:function(t){t||this.$emit("update:isClosePanel",!1)}}},T=x,w=(i("6c3b"),Object(_["a"])(T,s,o,!1,null,"531f3064",null));e["a"]=w.exports},"47d5":function(t,e,i){t.exports=i.p+"img/f_group.d4fcc742.jpg"},4813:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("order-info-detail",{attrs:{orderInfo:t.orderInfo,storeInfo:t.storeInfo,remarkList:t.remarkList}}),i("div",{class:t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md"},[i("trade-info-detail",{attrs:{"credit-list":t.creditList,"npoban-list":t.npobanList,"order-attach":t.orderAttach,"order-info":t.orderInfo,"order-others":t.orderOthers,"store-info":t.storeInfo,"update-order":t.updateOrder,invoiceCarrierIdSetDefault:t.invoiceCarrierIdSetDefault},on:{"update:invoice-carrier-id-set-default":t.updateInvoiceCarrierIdSetDefault,"update:allRadioDisabled":t.handleAllRadioDisabled}})],1)],1)},o=[],r=i("967e"),n=i.n(r),a=(i("96cf"),i("fa84")),c=i.n(a),u=i("791e"),d=i("67ba"),l=i("8ca3"),M=i("cb13"),h=i("9801"),p={name:"NdOrderInfoV2",mixins:[u["a"]],components:{"order-info-detail":d["a"],"trade-info-detail":l["a"],"coupon-detail":M["a"],"money-detail":h["a"]},props:{orderInfo:Object,storeInfo:Object,orderOthers:Object,updateOrder:Function,npobanList:Array,remarkList:Array,orderAttach:Object,useCoupon:Object,creditList:Array,getOrderInfo:Function,point_application:Object,orderdiscount_select:Object,member_application:Object,invoiceCarrierIdSetDefault:{type:Object,default:function(){return{favoriteCarrier:[],invoiceCarrierId:"",setDefault:!1}}}},data:function(){return{appliable_coupon:[],appliable_discount:{total_discount:0,list:[]},point_discount:[],use_point:0,application_point:{},memberCard_discount:{discount_list:[]},application_membercard:{},show:{vip:!1},membership_id:null,allRadioDisabled:!1}},methods:{click_vip:function(){this.application_membercard.total_discount=this.memberCard_discount.discount_list[0].total_discount,this.member_application.discount_id=this.memberCard_discount.discount_list[0].discount_id,this.member_application.membership_group_id=this.memberCard_discount.membership_group_id,this.member_application.membership_id=this.memberCard_discount.membership_id,this.member_application.total_discount=this.memberCard_discount.discount_list[0].total_discount},getMemberDiscount:function(){var t=c()(n.a.mark((function t(){var e,i,s=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/applicableMembershipDiscounts",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&t.data.list.length>0&&t.data.list.forEach((function(t){t.membership_id===s.membership_id&&t.discount_list.length>0&&(s.show.vip=!0,s.memberCard_discount=t)}))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMemberlist:function(){var t=c()(n.a.mark((function t(){var e,i,s=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.getUId,i="/user/"+e+"/membership/list",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&t.data.list.length>0&&t.data.list.forEach((function(t){t.brand_id===s.storeInfo.brand_id&&(s.membership_id=t.membership_id)}))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getOrderDiscount:function(){var t=c()(n.a.mark((function t(){var e,i,s=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/appliableDiscount",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&(s.appliable_discount=t.data.appliable_discount,s.$set(s.orderAttach,"appliable_discount",s.appliable_discount))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getPointDiscount:function(){var t=c()(n.a.mark((function t(){var e,i,s=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/applicablePoints",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&t.data.list.length>0&&t.data.list.forEach((function(t){t.brand_id===s.storeInfo.brand_id&&(s.point_discount[0]=t)}))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getCoupons:function(){var t=c()(n.a.mark((function t(){var e,i,s=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/appliableCoupons",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&(s.appliable_coupon=[],t.data.appliable_coupon_class.forEach((function(t){t.usage_limit>0&&s.appliable_coupon.push(t)})))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateInvoiceCarrierIdSetDefault:function(t){this.$emit("update:invoice-carrier-id-set-default",t),this.orderOthers.order_info.order_special_item_setting=t},handleAllRadioDisabled:function(t){this.allRadioDisabled=t}},created:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getCoupons();case 2:return t.next=4,this.getOrderDiscount();case 4:return t.next=6,this.getPointDiscount();case 6:return t.next=8,this.getMemberlist();case 8:return t.next=10,this.getMemberDiscount();case 10:return t.next=12,this.getOrderInfo("part");case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{"orderdiscount_select.show":function(t){this.use_point=0,this.application_point={application_id:null,point_id:null,match_amount:null,match_point:0,total_discount:0},this.application_membercard={},"membercard"===t&&this.click_vip(),this.useCoupon.coupon_codes=[],this.useCoupon.coupon_money=0},allRadioDisabled:function(t){this.$emit("update:allRadioDisabled",t)}}},m=p,g=i("2877"),_=Object(g["a"])(m,s,o,!1,null,null,null);e["a"]=_.exports},"4a94":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"target-seach",staticClass:"row items-center bg-gray-6 nd-pr-2 nd-rounded-[25px]"},[s("div",{staticClass:"col-auto"},[s("q-btn",{attrs:{dense:"",rounded:"",size:"sm"}},[s("q-img",{staticClass:"q-ma-sm",attrs:{width:"1rem",height:"1rem",src:i("21f7")}})],1)],1),s("div",{staticClass:"col"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col"},[s("form",{attrs:{action:"/search/box/result/"},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchText,expression:"searchText",modifiers:{trim:!0}}],staticClass:"bg-gray-6 nd-w-full",attrs:{type:"search",placeholder:t.placeholder},domProps:{value:t.searchText},on:{compositionstart:function(e){t.isComposing=!0},input:function(e){e.target.composing||(t.searchText=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"col-auto"},[s("q-btn",{class:{invisible:!t.searchText},attrs:{dense:"",rounded:"",size:"sm"},on:{click:function(e){t.searchText=""}}},[s("q-img",{staticClass:"q-ma-xs",attrs:{width:"1.25rem",height:"1.25rem",src:i("a2f9")}})],1)],1)])])])},o=[],r={props:{value:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{searchText:""}},watch:{value:function(t){this.searchText=t},searchText:function(t){this.$emit("input",t)}}},n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},"4d06":function(t,e,i){},"4d99":function(t,e,i){t.exports=i.p+"img/f_long_partner.94cb49b4.jpg"},"4eb9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col cursor-pointer q-pa-sm q-pt-md",on:{click:t.clickFun}},[i("div",{staticClass:"text-center"},[i("div",{directives:[{name:"ripple",rawName:"v-ripple.center",modifiers:{center:!0}}],staticClass:"bg-white inline-block circle icon-pa"},[i("div",{staticStyle:{width:"18px",height:"18px"}},[i("div",{staticClass:"img-main-fun icon full-width full-height",class:[t.iconSrc,t.iconColor]})])])]),i("div",{staticClass:"text-white text-center q-mt-xs"},[t._v(t._s(t.name))])])},o=[],r={props:["icon","name","event","secondary","defaultColor"],data:function(){return{}},computed:{iconSrc:function(){return!!this.icon&&"i-"+this.icon},iconColor:function(){return this.defaultColor?"":this.secondary?"brand-color-secondary":"brand-color"}},methods:{clickFun:function(){this.event()}}},n=r,a=(i("7abe"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"5c57cfda",null);e["a"]=c.exports},5227:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nd-location-btn"),0==t.$store.state.location.dialogRange?i("nd-location-dialog"):t._e()],1)},o=[],r={name:"NdSearchBoxLocation",components:{"nd-location-btn":function(){return Promise.all([i.e(0),i.e(34)]).then(i.bind(null,"ed8f"))},"nd-location-dialog":function(){return i.e(0).then(i.bind(null,"8a92"))}},computed:{curLocationOpenAccess:function(){return this.$store.getters["location/curLocationOpenAccess"]}},mounted:function(){this.initLocationModule()},methods:{initLocationModule:function(){var t=this.$route.meta&&this.$route.meta.locationModule&&this.$route.meta.locationModule.getCurrentPosition||!1;this.$store.dispatch("location/initLocationModule",{getCurrentPosition:t})}}},n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},5490:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-height flex items-center cursor-pointer bg-white shadow q-pa-none border-around overflow-hidden"},[t.statusName?i("div",{class:["title text-center flex flex-center column absolute full-width",t.statusColor],staticStyle:{top:"0",left:"0"}},[i("div",{staticClass:"font-size-subtitle-1 text-white text-bold"},[t._v(t._s(t.statusName))]),130===this.orderInfo.status&&130===t.deliveryComplete.status?i("div",{staticClass:"text-white font-size-caption"},[t._v("\n      "+t._s(t.statusSubName)+"\n    ")]):t._e()]):t._e(),i("div",{staticClass:"q-pa-md full-width full-height items-center flex",class:t.statusName?"n-pt-status":""},[i("div",{staticClass:"flex justify-between items-center q-mb-sm absolute full-width q-px-md q-pt-md",class:t.statusName?"n-pt-status":"",staticStyle:{top:"0px",left:"0px"}},[i("div",{staticClass:"text-left"},[t.orderType?i("q-badge",{staticClass:"border",attrs:{label:t.orderType}}):t._e()],1),i("div",{staticClass:"text-right"},[t.statusName?i("div",[t._v(t._s(t.getTime(1,t.orderInfo.order_time,"MM/DD HH:mm")))]):i("div",[t._v(t._s(t.getTime(1,t.orderInfo.create_time,"MM/DD HH:mm")))])])]),i("div",{staticClass:"flex column full-width"},[i("div",{staticClass:"flex flex-center",staticStyle:{"margin-top":"33px"}},[t.orderInfo.store_image?i("div",{staticStyle:{width:"70px"}},[i("q-img",{attrs:{src:t.orderInfo.store_image,ratio:1,"img-class":"circle border"}})],1):t.orderInfo.store_images?i("div",{staticStyle:{width:"70px"}},[i("img",{staticClass:"full-width circle border",attrs:{src:t.orderInfo.store_images[0],alt:""}})]):t._e()]),i("div",{staticClass:"text-center q-mt-sm"},[i("div",{staticClass:"font-size-subtitle-1 mobile-small"},[t._v(t._s(t.orderInfo.total_amount)+" 項商品")]),i("div"),i("div",{staticClass:"font-size-subtitle-1 mobile-small"},[t._v(t._s(t.orderInfo.brand_name_s)+" "+t._s(t.orderInfo.store_name_s))]),"VendorOrders"===t.$route.name&&!t.orderInfo.is_rated&&t.orderInfo.can_rating||"VendorOrders"===t.$route.name&&!t.disReorder?i("hr",{staticClass:"q-my-sm"}):t._e(),"VendorCarts"===t.$route.name?i("div",{staticClass:"q-mt-md q-mb-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill",attrs:{label:"立刻點餐"}})],1):t._e(),t.showDelete&&!t.orderInfo.order_status?i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"absolute q-pa-sm cursor",staticStyle:{right:"-10px",bottom:"0px"},on:{click:function(e){return e.preventDefault(),t.clickDelBtn(e)}}},[i("q-icon",{attrs:{name:"delete",size:"20px",color:"secondary"}})],1):t._e(),"VendorOrders"===t.$route.name&&!t.orderInfo.is_rated&&t.orderInfo.can_rating?i("div",{staticClass:"q-mt-md q-mb-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill bg-secondary",attrs:{label:"前往評價"}})],1):"VendorOrders"!==t.$route.name||t.disReorder?t._e():i("div",{staticClass:"q-mt-md q-mb-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],class:["pill",t.disReorder?"bg-white":"bg-secondary"],attrs:{label:"再點一次",disable:t.disReorder},on:{click:function(e){return e.preventDefault(),t.clickReorderBtn(e)}}})],1)])])])])},o=[],r=(i("7f7f"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c1df")),n=i.n(r),a=i("791e"),c={name:"VendorOrderBlock",mixins:[a["a"]],props:{orderInfo:Object},data:function(){return{show:{modal_del_cart:!1}}},methods:{rebuildOrder:function(){var t=this,e=this,i="/order/"+this.orderInfo.order_id+"/rebuild";this.putDataH(i,null).then((function(i){if(200===i.data.status){var s=e.$store.state.order.cart_amount+1;e.$store.commit("order/setCartAmount",s),t.$router.push("/vendor/"+t.orderInfo.store_id+"/orderList/"+i.data.order_id)}})).catch((function(t){}))},checkRebuildOrder:function(){var t=this,e=this,i="/order/"+this.orderInfo.order_id+"/rebuildCheck";this.getDataH(i,null).then((function(t){if(200===t.data.status){var i=t.data.invalid_orders,s="";if(Object.keys(i).length){for(var o in i){for(var r=e.$t("common.order")+"&nbsp;"+o,n="",a=0;a<i[o].error.length;a++){var c=a+1;n=n+"<br>"+c+". "+i[o].error[a].msg,c===i[o].error.length&&(n+="<br><br>")}s=s+r+n}e.$q.dialog({class:"nidin-dialog",title:e.$t("dialog.notice"),message:s,ok:{label:e.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:e.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},html:!0}).onOk((function(){e.rebuildOrder()}))}else e.rebuildOrder()}})).catch((function(i){i.data.status===e.$config.orderVersionError&&t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:t.$t("dialog.q.confirm_reorder"),ok:{label:t.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:t.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},html:!0}).onOk((function(){e.$router.push("/vendor/"+e.orderInfo.store_id+"/store")}))}))},clickReorderBtn:function(){this.checkRebuildOrder()},clickDelBtn:function(){var t=this;this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:this.$t("dialog.q.confirm_del_order"),ok:{label:this.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){t.delCart(),t.setGATag("delete_cart")}))},delCart:function(){var t=this,e="/carts/"+this.orderInfo.order_id;this.delDataH(e,null).then((function(e){if(200===e.data.status){t.$emit("reload",1);var i=t.$store.state.order.cart_amount-1;t.$store.commit("order/setCartAmount",i)}})).catch((function(t){}))},timeToTime:function(t){return n()(t,"HH:mm:ss").format("HH:mm")},mToKm:function(t){var e=t/1e3;return e.toFixed(1)+" km"},goToStore:function(){this.$router.push("/store/"+this.storeInfo.id)}},computed:{money:function(){return this.orderInfo.total_paid_money?this.orderInfo.total_paid_money:this.orderInfo.total_money},deliveryComplete:function(){var t=this.orderInfo.delivery_type,e={basic:{color:"bg-green",name:this.$t("status.complete"),status:130},prod_prepare:{color:"bg-primary",name:this.$t("status.preparing"),status:1301},prod_transport:{color:"bg-primary",name:this.$t("status.ready_to_deliver"),status:1302}};if(3===t){n()(this.orderTime.date+" "+this.orderTime.start,"YYYY-MM-DD HH:mm");var i=n()(this.orderTime.date+" "+this.orderTime.end,"YYYY-MM-DD HH:mm");if(13001===this.orderInfo.special_status)return e.prod_prepare;if(13002===this.orderInfo.special_status)return e.prod_transport;if(Date.parse(n()())>Date.parse(i))return e.basic}return e.basic},disReorder:function(){var t=this.orderInfo.status,e=this.orderInfo.order_type;return 3===e||99!==t&&(120!==t&&(121!==t&&(122!==t&&(140!==t&&130!==t))))},orderType:function(){switch(this.orderInfo.order_type){case 2:return this.$t("common.group_buying");case 3:return this.$t("common.with_group");default:return!1}},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=n()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=n()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}},showDelete:function(){return"carts"===this.$route.name&&2!==this.orderInfo.order_status||"VendorCarts"===this.$route.name&&2!==this.orderInfo.order_status},statusName:function(){switch(this.orderInfo.status){case 1:return this.$t("status.paying");case 2:return this.$t("status.paying");case 3:return this.$t("status.connecting");case 100:return this.$t("status.not_accept");case 110:return this.$t("status.accept");case 99:return this.$t("status.cancel");case 120:return this.$t("status.reject");case 121:return this.$t("status.reject");case 122:return this.$t("status.store_cancel");case 130:return this.deliveryComplete.name;case 140:return this.$t("status.invalid");case 31:return this.$t("status.grouping");case 35:return this.$t("status.group_success");case 39:return this.$t("status.group_fail");case 38:return this.$t("status.leader_del");case 0:return this.$t("status.not_confirm");default:return!1}},statusColor:function(){switch(this.orderInfo.status){case 99:case 120:case 121:case 122:case 140:case 39:case 38:return"bg-secondary";case 35:case 130:return this.deliveryComplete.color;case 1:case 2:case 3:case 100:case 110:case 31:case 0:default:return"bg-primary"}},statusSubName:function(){var t="";switch(this.orderInfo.delivery_type){case 1:t="請依取餐時間取餐";break;case 2:t="請依取餐時間取餐";break;case 3:t="將於約定時間配達";break;default:break}return t}}},u=c,d=(i("8ae2"),i("2877")),l=Object(d["a"])(u,s,o,!1,null,"3aed0090",null);e["a"]=l.exports},"54cf":function(t,e,i){},"55df":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.hideTitle?t._e():i("div",{staticClass:"font-size-subtitle-2 text-weight-medium"},[t._v("取貨服務")]),i("div",{staticClass:"q-mb-sm"},[i("div",{staticClass:"q-py-xs"},[i("i-li",{staticClass:"q-mb-sm",attrs:{qIcon:"fas fa-calendar-check",name:"預訂說明","font-weight":"text-weight-bold"}}),i("div",{staticClass:"bg-gray-6 q-table--edited q-mb-sm q-pt-xs"},[i("q-markup-table",{staticClass:"bg-gray-6",attrs:{"wrap-cells":"",flat:""}},[i("tbody",[i("tr",[i("td",{staticClass:"text-left delivery-type-name"},[t._v("\n                "+t._s(t._f("reserveType")(t.storeInfo))+"\n              ")])])])])],1)],1),i("div",{staticClass:"q-py-xs"},[3===t.storeInfo.store_mode?i("div",{staticClass:"flex q-mb-sm q-pr-md"},[i("i",{staticClass:"fas fa-cloud b-color q-mr-sm col-auto",staticStyle:{width:"15px",height:"15px",margin:"0 8px 0 0"},style:t.$q.screen.lt.md?"top: 5px;":"top: 7px;",attrs:{iconColor:"brand-color"}}),t._m(0)]):i("i-li",{staticClass:"q-mb-sm",attrs:{icon:"delivery-service","font-weight":"text-weight-bold",name:t.deliveryTypes}}),t._l(t.storeInfo.delivery_time_info,(function(e,s){return e.available_time&&t.hasDelivery(e.delivery_type)?i("div",{key:"delivery-time-"+s,staticClass:"bg-gray-6 q-table--edited q-mb-sm q-pt-xs"},[i("q-markup-table",{staticClass:"bg-gray-6",attrs:{"wrap-cells":"",flat:""}},[i("tbody",[i("tr",[i("td",{staticClass:"text-left b-color delivery-type-name"},[t._v("\n                "+t._s(t.deliveryName(e.delivery_type))+"\n              ")])]),t._l(t.exceptionCalender(e),(function(e,s){return i("tr",{key:"exception_"+s},[i("td",[i("div",[t._v("\n                  "+t._s(e.content)+"\n                ")])])])}))],2)])],1):t._e()})),t.storeInfo.is_open&&!t.storeInfo.is_off_day||!t.isInner||3===t.storeInfo.store_mode?t._e():i("div",{staticClass:"text-secondary q-mt-sm"},[i("q-icon",{staticClass:"q-ml-none",attrs:{name:"star",color:"secondary"}}),t._v("\n        非營業時間，目前無法選擇內用\n      ")],1)],2),t.deliveryLimitVisible?i("div",{staticClass:"q-py-xs q-mb-sm"},[i("div",{staticClass:"row q-mb-sm"},[i("i-li",{attrs:{icon:"motor",name:t.$t("order.delivery_threshold"),"font-weight":"text-weight-bold"}}),i("q-space"),i("span",{staticClass:"text-primary self-center row cursor-pointer",on:{click:t.checkAddressDis}},[t._v("\n          試算\n          "),i("q-icon",{staticClass:"self-center",attrs:{size:"16px",color:"nd-text-neutral-6 nd-m-0 nd-p-0",name:"keyboard_arrow_right"}})],1)],1),3!==t.storeInfo.store_mode?i("div",{staticClass:"shipping-table"},[i("q-markup-table",{attrs:{flat:""}},[i("tr",[i("th",[t._v("\n                消費金額\n                "),i("q-icon",{staticClass:"nd-m-0 nd-ml-1 cursor-pointer text-gray-2",attrs:{name:"far fa-question-circle",size:"14px"},on:{click:t.openDialog}})],1),i("th",[t._v("距離門檻")])]),t._l(t.deliveryRank,(function(e,s){return i("tr",{key:"delivery-rank-"+s},[i("td",{staticClass:"text-left"},[0===e.order_min_price&&t.deliveryRank.length<=1?i("span",[t._v("\n                  不限金額\n                ")]):i("span",[t._v("\n                  滿 $ "+t._s(e.order_min_price)+"\n                ")]),i("div",{staticClass:"border_div"})]),e.order_min_distance_m&&e.order_max_distance_m?i("td",{staticClass:"text-left"},[t._v("\n                可外送 "+t._s(t._f("mToKm")(t.numeral(e.order_min_distance_m).add(100).value()))+" ~ "+t._s(t._f("mToKm")(e.order_max_distance_m))+" 公里\n                "),t.storeInfo.max_delivery_distance_m||s!==t.deliveryRank.length-1?t._e():i("span",[t._v("(以上)")])]):e.order_min_distance_m?i("td",{staticClass:"text-left"},[t._v("\n                可外送 "+t._s(t._f("mToKm")(t.numeral(e.order_min_distance_m).add(100).value()))+" 公里以上\n              ")]):e.order_max_distance_m?i("td",{staticClass:"text-left"},[t._v("\n                可外送 0 ~ "+t._s(t._f("mToKm")(e.order_max_distance_m))+" 公里\n                "),t.storeInfo.max_delivery_distance_m||s!==t.deliveryRank.length-1?t._e():i("span",[t._v("(以上)")])]):t.storeInfo.max_delivery_distance_m?i("td",{staticClass:"text-left"},[t._v("\n                可外送 "+t._s(t._f("mToKm")(t.storeInfo.max_delivery_distance_m))+" 公里以內\n              ")]):i("td",[t._v("\n                不限距離\n              ")])])}))],2)],1):t._e()]):t._e(),t.storeInfo.shipping_fee_type&&t.isDelivery&&3!==t.storeInfo.store_mode?i("div",{staticClass:"q-py-xs q-mb-sm"},[i("shipping-block",{attrs:{storeInfo:t.storeInfo}})],1):t._e()])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col"},[i("div",{staticClass:"text-grey-8 text-weight-medium"},[t._v("線上發送")])])}],r=(i("ac6a"),i("cadf"),i("06db"),i("7514"),i("3f8d")),n=i("791e"),a=i("808d"),c=i("0c6b"),u=i("b7bf"),d=i("5738"),l=i("6612"),M=i.n(l),h={components:{"i-li":c["a"],"shipping-block":u["a"],"delivery-limit":d["a"]},props:{storeInfo:Object,hideTitle:Boolean},mixins:[n["a"],a["a"]],filters:{reserveType:function(t){var e=t.order_start_day,i=t.order_tolerance_day;return 1!==e||i?e||1!==i?e>1?"開放預訂，可預訂 ".concat(e," 日後的訂單"):i?"從".concat(0===e?"今日":"明日","開放預訂 ").concat(i," 日內的訂單"):"只開放下訂當日訂單":"開放預訂，可預訂今日/明日的訂單":"開放預訂，可預訂明日的訂單"}},data:function(){return{numeral:M.a,is_check_address:!1,matrix_info:{}}},methods:{hasDelivery:function(t){return this.storeInfo.delivery_info.find((function(e){return t===e.delivery_type&&5!==t&&21!==t}))},checkAddressDis:function(){var t=this,e=this.searchAddress,i=this.storeInfo.address,s=this.storeInfo.distance_service_model;e?this.is_check_address?this.checkRank():Object(r["a"])(e,i,s,(function(e){t.is_check_address=!0,t.matrix_info=e,t.checkRank()})):this.dialog("請選擇地址")},checkRank:function(){var t=this.matrix_info;if("no-address"===t.error_code)this.dialog("找不到位置");else if(t.error_code.length)this.dialog("外送門檻檢查系統暫時無法使用");else{var e=100*Math.floor(t.dis/100),i=0;this.storeInfo.max_delivery_distance_m&&(i=100*Math.floor(this.storeInfo.max_delivery_distance_m/100));var s=0,o=this.deliveryRank.length-1,r=this.deliveryRank.find((function(t,s){var r=t.order_max_distance_m,n=s==o;return n?!i||i>=e:r>=e}));r&&(s=r.order_min_price);var n="<br>距離門市 ".concat(this.distanceName(e));e>i&&i?this.dialog(this.searchAddress+n+"<br>已超過可外送距離！"):s?this.dialog(this.searchAddress+n+"<br>滿 $"+s+" 可以外送喔！"):this.dialog(this.searchAddress+n+"<br>滿 $"+this.deliveryRank[0].order_min_price+" 可以外送喔！")}},openDialog:function(){this.$q.dialog({class:"nidin-dialog",title:"消費金額說明",message:"計算商品金額 (折扣後) ，不含塑膠袋。",ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"}})},hasValidItem:function(t){for(var e in t)if(Array.isArray(t[e])&&t[e].length>0)return!0;return!1},exceptionCalender:function(t){var e=this,i=this.storeInfo.delivery_exception_calendar_group[t.delivery_type];if(!i||!this.hasValidItem(i))return[];var s=[],o=this.deliveryName(t.delivery_type);return i.date_type&&i.date_type.length>0&&i.date_type.forEach((function(t){t.values.forEach((function(i){var r=e.moment(i).format("YYYY-MM-DD"),n=e.moment(t.start_time,"HH:mm:ss").format("HH:mm"),a=e.moment(t.end_time,"HH:mm:ss").format("HH:mm");s.push({content:"".concat(r," ").concat(n,"~").concat(a,"不提供").concat(o)})}))})),i.week_day&&i.week_day.length>0&&i.week_day.forEach((function(t){t.values.forEach((function(i){var r=e.weekDayName(i),n=e.moment(t.start_time,"HH:mm:ss").format("HH:mm"),a=e.moment(t.end_time,"HH:mm:ss").format("HH:mm");s.push({content:"星期".concat(r).concat(n,"~").concat(a,"不提供").concat(o)})}))})),i.month_day&&i.month_day.length>0&&i.month_day.forEach((function(t){t.values.forEach((function(i){var r=e.moment(t.start_time,"HH:mm:ss").format("HH:mm"),n=e.moment(t.end_time,"HH:mm:ss").format("HH:mm");s.push({content:"每月".concat(i,"號").concat(r,"~").concat(n,"不提供").concat(o)})}))})),s}},computed:{showDeliveryException:function(){var t=0,e=this.storeInfo.delivery_exception_calendar_group;if(e){for(var i in e)for(var s in e[i])t+=e[i][s].length;if(t>0)return!0}return!1},searchAddress:function(){var t=this.$store.state.location.currentType;if(0==t){var e=this.$store.getters["location/curLocation"].city_info,i=e.ctyName,s=e.villageName,o=e.sectName;return i+s+o}var r=this.$store.getters["location/addressText"],n=r.area,a=r.city,c=r.short;return a+n+c},deliveryLimitVisible:function(){return!(!this.deliveryRank[0]&&!this.storeInfo.max_delivery_distance_m)&&(this.isDelivery&&(this.deliveryRank.length>1||this.deliveryRank[0].order_min_price||this.deliveryRank[0].order_max_distance_m||this.storeInfo.max_delivery_distance_m))},deliveryTypes:function(){return 3===this.storeInfo.store_mode?"線上發送":this.$t("order.pickup_option")},isInner:function(){return this.storeInfo.delivery_info.filter((function(t){return 2===t.delivery_type})).length},isDelivery:function(){return this.storeInfo.delivery_info.filter((function(t){return 3===t.delivery_type})).length}}},p=h,m=(i("f919"),i("2877")),g=Object(m["a"])(p,s,o,!1,null,"59cc26f9",null);e["default"]=g.exports},5648:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.categoryId?i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchShow,expression:"searchShow"},{name:"ripple",rawName:"v-ripple",value:!t.showDisIcon,expression:"!showDisIcon"}],class:["q-px-md q-py-xs-sm q-py-md-xs",{"cursor-pointer":!t.showDisIcon},{"disabled-product":t.showDisIcon}],on:{click:t.openProdModal}},[i("div",{staticClass:"q-py-sm"},[i("div",{staticClass:"flex justify-between"},[i("div",{staticClass:"flex justify-start col",class:[t.isBigImg?" items-start":"items-center"],style:t.leftBlockW},[t.hasImg?i("div",{staticClass:"flex justify-start items-center q-pr-sm col-auto",class:t.isBigImg?"h-90":"h-40"},[t.prodImg?i("div",{staticClass:"full-width full-height"},[t.prodImg.main_image&&t.prodImg.main_image.url&&31!==t.layout?i("div",{staticClass:"full-width full-height"},[i("img",{staticClass:"full-height",attrs:{src:t.prodImg.main_image.url||t.noProductImage,alt:t.prodImg.main_image.description||""}})]):t.prodImg.sub_image_list[0].url&&t.prodImg.sub_image_list[0]&&31===t.layout?i("div",{staticClass:"full-width full-height"},[i("img",{staticClass:"full-height",attrs:{src:t.prodImg.sub_image_list[0].url||t.noProductImage,alt:t.prodImg.sub_image_list[0].description||""}})]):i("img",{staticClass:"full-height",attrs:{src:t.noProductImage,alt:"no product image"}})]):i("img",{staticClass:"full-height",attrs:{src:t.noProductImage,alt:""}})]):t._e(),i("div",{staticClass:"col flex items-center ellipsis",style:t.wordBlockW},[i("div",{staticClass:"q-pr-sm font-size-subtitle-1 mobile-small"},[Object.keys(t.groupList).length&&t.prod[t.schema.product.group_id]?i("div",[i("span",[t._v(t._s(t.groupList[t.prod[t.schema.product.group_id]][t.schema.group.name]))])]):i("div",[t._v("\n              "+t._s(t.getProdName(t.prod[t.schema.product.name],t.prod))+"\n              ")])]),t.showRGIcon.includes("red")?i("div",{staticClass:"flex discount red-green-activity red q-mr-sm"},[i("span",[t._v("紅")])]):t._e(),t.showRGIcon.includes("green")?i("div",{staticClass:"flex discount red-green-activity green q-mr-sm"},[i("span",[t._v("綠")])]):t._e(),i("div",{staticClass:"flex"},[t.showDisIcon&&4==t.storeInfo.store_mode?i("div",{staticClass:"q-my-xs q-mr-sm menu-block-tag soldout-label"},[t._v("\n              暫停供應\n            ")]):t.showDisIcon?i("div",{staticClass:"q-my-xs q-mr-sm menu-block-tag soldout-label"},[t._v("\n              停售\n            ")]):t.showDailyDisIcon&&!t.storeInfo.is_off_day?i("div",{staticClass:"q-my-xs q-mr-sm menu-block-tag soldout-label bg-secondary"},[t._v("\n              完售\n            ")]):t.showDisTimeIcon?i("div",{staticClass:"q-my-xs q-mr-sm menu-block-tag limit-label bg-light-secondary"},[t._v("限定")]):t._e()]),t.amount?i("div",{staticClass:"flex font-size-caption product-amount b-bg"},[i("span",{staticClass:"text-white"},[t._v(t._s(t.amount))])]):t._e()])]),4!==t.storeInfo.store_mode?i("div",[i("div",{staticClass:"text-primary absolute",class:{"":!t.isBigImg,"q-mr-sm":t.isBigImg},staticStyle:{right:"45px","min-width":"45px"},style:t.isBigImg?"bottom: 8px":"top: calc(50% - 12.5px);"},[t.showPriceRule.includes("cold")||t.showPriceRule.includes("subTypeCold")?i("div",{staticClass:"flex flex-center"},[i("div",{staticClass:"flex flex-center q-mr-xs i-m-cold",staticStyle:{width:"15px",height:"15px"}}),t.showPriceRule.includes("cold")||t.storeInfo.show_menu_zero_money?i("div",[t._v(t._s(t.lowerCommonPrice.cold))]):t._e()]):t._e()]),i("div",{staticClass:"text-secondary absolute",staticStyle:{right:"0px","min-width":"45px"},style:t.isBigImg?"bottom: 8px":"top: calc(50% - 12.5px)"},[t.showPriceRule.includes("hot")||t.showPriceRule.includes("subTypeHot")?i("div",{staticClass:"flex flex-center"},[i("div",{staticClass:"flex flex-center q-mr-xs i-m-hot",staticStyle:{width:"15px",height:"15px"}}),t.showPriceRule.includes("hot")||t.storeInfo.show_menu_zero_money?i("div",[t._v(t._s(t.lowerCommonPrice.hot))]):t._e()]):t._e()]),i("div",{staticClass:"text-accent absolute",staticStyle:{right:"0px","min-width":"47px"},style:t.isBigImg?"bottom: 8px":"top: calc(50% - 12.5px)"},[t.showPriceRule.includes("basic")?i("div",{staticClass:"flex flex-center"},[i("div",{staticClass:"flex flex-center q-mr-xs"},[t._v("$")]),i("div",[t._v(t._s(t.lowerCommonPrice.basic))])]):t._e()])]):t._e()])]),i("menu-modal",{attrs:{menu:t.menu,prodId:t.prodId,storeInfo:t.storeInfo,layout:t.layout,iconList:t.iconList,imgList:t.imgList,disableList:t.disableList,orderInfo:t.orderInfo,orderId:t.orderId,modalShow:t.show,menuInfo:t.menuInfo,categoryId:t.categoryId,prodSettingList:t.prodSettingList,editProd:t.editProd,promotionBlock:t.promotionBlock,promotionList:t.promotionList,orderOthers:t.orderOthers},on:{clearEditProd:t.clearEditProd}}),i("script",{attrs:{type:"application/ld+json"}},[t._v("\n    "+t._s(t.structuredData)+"\n  ")])],1):t._e()},o=[],r=(i("8e6e"),i("8a81"),i("c47a")),n=i.n(r),a=i("8993"),c=i.n(a),u=(i("f559"),i("f3e3")),d=i.n(u),l=(i("ffc1"),i("6762"),i("2fdb"),i("4917"),i("967e")),M=i.n(l),h=(i("96cf"),i("fa84")),p=i.n(h),m=(i("7f7f"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7514"),i("55dd"),i("c5f6"),i("791e")),g=i("266c"),_=i("e72b"),f=i.n(_),y=i("98c2");function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function N(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var D={name:"NdMenuProdBlock",components:{"menu-modal":g["a"]},props:{menu:Object,voucherPackList:Object,prodId:Number,storeInfo:Object,layout:Number,iconList:Object,imgList:[Array,Object],categoryId:Number,disableList:Object,searchProd:String,orderInfo:Object,orderOthers:Object,orderId:[Number,String],menuInfo:Object,showModal:Object,prodSettingList:Object,promotionList:Object,promotionListSort:Object,promotionBlock:String,amount:Number},mixins:[m["a"]],data:function(){return{show:{modal_prod:!1},editProd:void 0}},methods:{clearEditProd:function(t){t&&(this.editProd=void 0)},getAdjusts:function(t){var e=this.productList[t];return e[this.schema.product.adjust_list]},getShowAdjust:function(t){var e=this,i=this.schema.adjust,s=[];t.forEach((function(t){var i=e.menu.adjust_list_json.data[t];"undefined"!==typeof i&&s.push(i)})),s.sort((function(t,e){return e[i.sub_type]-t[i.sub_type]})),s.sort((function(t,e){if(!t[i.sub_type]&&!t[i.sub_type])return t[i.sort]-e[i.sort]}));var o=s.find((function(t,e){if(10===t[i.sub_type])return s.splice(e,1),t}));return o&&s.splice(0,0,o),s},getProdName:function(t,e){var i=e[this.schema.product.product_id];if(i&&this.prodSettingList&&this.showProdSettingName){var s=this.prodSettingList[i];if(s&&s.alias_list.length)return s.alias_list[0]}return t},getProdPrice:function(t){var e,i=this.productList[t],s=i[this.schema.product.combine_list];if(s.length){var o=s[0],r=this.menu.combine_list_json.data[o];e=r[this.schema.combine.price]?r[this.schema.combine.price]:r[this.schema.combine.edge_list][t][this.schema.combine.price]?r[this.schema.combine.edge_list][t][this.schema.combine.price]:i[this.schema.product.price]}else e=i[this.schema.product.price];return e},getProdPriceHotCold:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e){var i=0,s=[];switch(e){case 1:s=["溫","熱"];break;case 2:s=["冷","冰"];break;default:break}var o=this.prodId,r=this.schema.adjust,n=this.schema.group,a=this.schema.product;if(this.productList[o][a.group_id]){var c=this.groupList[this.productList[o][a.group_id]];Object.keys(c[n.item_list]).length&&function(){var e=[],o=function(o){var a=c[n.item_list][o][n.name],u=parseInt(c[n.item_list][o],10),d=t.gItemIdtoProdId(u);if(a&&s.some((function(t){return-1!==a.indexOf(t)}))){var l=t.getProdPrice(d);e.push(l)}else{var M=t.getAdjusts(d),h=t.getShowAdjust(M),p=h.find((function(t){return"溫度"===t[r.name]}));p&&p[r.option_list].forEach((function(i){var o=t.menu.option_list_json.data[i][t.schema.option.name];if(s.some((function(t){return-1!==o.indexOf(t)}))){var r=t.getProdPrice(d);e.push(r)}}))}e.length&&(i=Math.min.apply(Math,e))};for(var a in c[n.item_list])o(a)}()}return i}},gItemIdtoProdId:function(t){var e=this.schema.product,i=parseInt(t,10);for(var s in this.productList){var o=this.productList[s];if(o[e.group_item_id]===i)return o[e.product_id]}return 0},openProdModal:function(){var t=p()(M.a.mark((function t(){return M.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.showDisIcon||(this.show.modal_prod=!0,this.setGATag("select_content",this.prodId));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=p()(M.a.mark((function t(){var e,i;return M.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=this.$q.sessionStorage.getItem(this.$config.prodId),e!==this.prodId){t.next=10;break}i=this.$q.sessionStorage.getItem(this.$config.adjusts);try{this.editProd=JSON.parse(i)}catch(s){this.editProd=null}if(this.canUpgrade){t.next=10;break}return t.next=8,this.openProdModal();case 8:this.$q.sessionStorage.remove(this.$config.prodId),this.$q.sessionStorage.remove(this.$config.adjusts);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}(),computed:{noProductImage:function(){var t=this,e=this.domainBrandList.filter((function(e){return e.brand_code===t.storeInfo.brand_code})).map((function(t){return t.file}))[0];return e&&this.storeInfo.menu_product_default_image_type?"https://cdn-order.nidin.shop/nidin2/statics/"+e+"/"+e+"_167_default.png":f.a},showProdSettingName:function(){var t=this.storeInfo;return 1===t.show_product_setting||2===t.show_product_setting},searchShow:function(){return!this.searchProd||this.prod[this.schema.product.name].match(this.searchProd)},showDisTimeIcon:function(){var t=[],e=!1;if(this.disableList&&this.disableList.schedule&&this.disableList.schedule.product&&(t=this.disableList.schedule.product[this.categoryId]),t&&t.length){var i=t.map((function(t){return t.product_id}));i.includes(this.prodId)?e=!0:this.promotionBlock&&(e=this.productGroupList&&this.productGroupList.length&&this.productGroupList.every((function(t){return i.includes(t)})))}return e},productGroupList:function(){var t=this.schema.product.group_id,e=this.schema.product.group_item_id,i=this.schema.group.item_list,s=this.prod[t],o=[];if(s&&i){var r=Object.keys(this.groupList[s][i]).map(Number);if(this.promotionBlock)o=this.promotionListSort[this.promotionBlock][this.prodId];else for(var n=function(){var t=d()(c[a],2),i=t[0],s=t[1];r.find((function(t){return t===s[e]}))&&o.push(Number(i))},a=0,c=Object.entries(this.productList);a<c.length;a++)n()}return o},showDisIcon:function(){var t=[],e=!1;if(this.disableList&&this.disableList.product&&(t=this.disableList.product[this.categoryId]),t&&t.length){var i=t.map((function(t){return t.product_id}));i.includes(this.prodId)?e=!0:this.promotionBlock&&(e=this.productGroupList&&this.productGroupList.length&&this.productGroupList.every((function(t){return i.includes(t)})))}return e},showDailyDisIcon:function(){var t=!1,e=[];if(this.disableList&&this.disableList.todaySchedule&&this.disableList.todaySchedule.product&&(e=this.disableList.todaySchedule.product[this.categoryId]),e&&e.length){var i=e.map((function(t){return t.product_id}));i.includes(this.prodId)?t=!0:this.promotionBlock&&(t=this.productGroupList&&this.productGroupList.length&&this.productGroupList.every((function(t){return i.includes(t)})))}return t},showRGIcon:function(){var t=this,e=[];return this.promotionBlock?e.push(this.promotionBlock):this.promotionListSort&&Object.keys(this.promotionListSort).forEach((function(i){Object.keys(t.promotionListSort[i]).map(Number).includes(t.prodId)&&e.push(i)})),e},wordBlockW:function(){return this.isSmImg?"max-width: calc(100% - 65px)":this.isBigImg?"padding-bottom: 35px":""},leftBlockW:function(){return this.isBigImg?"":this.lowerCommonPrice.cold||this.lowerCommonPrice.hot?2===this.storeInfo.show_menu_icon?"max-width: calc(100% - 55px)":"max-width: calc(100% - 100px)":"max-width: calc(100% - 55px)"},isSmImg:function(){return this.layout===this.layoutType.clickImg||this.layout===this.layoutType.smImg},isBigImg:function(){return this.layout===this.layoutType.bigImg},layoutType:function(){return{bigImg:this.$config.layout_type.pic_out_big,clickImg:this.$config.layout_type.pic_click,smImg:this.$config.layout_type.pic_show}},hasImg:function(){switch(this.layout){case this.layoutType.clickImg:case this.layoutType.smImg:case this.layoutType.bigImg:return!0;default:return!1}},prodImg:function(){return!(!Object.keys(this.imgList).length||"undefined"===typeof this.imgList[this.prodId])&&this.imgList[this.prodId]},showPriceRule:function(){var t=[];return this.lowerCommonPrice.hot||this.lowerCommonPrice.cold||this.lowerCommonPrice.subTypeHot||this.lowerCommonPrice.subTypeCold?(this.lowerCommonPrice.hot&&t.push("hot"),this.lowerCommonPrice.cold&&t.push("cold"),this.lowerCommonPrice.subTypeHot&&t.push("subTypeHot"),this.lowerCommonPrice.subTypeCold&&t.push("subTypeCold")):(this.lowerCommonPrice.basic||this.storeInfo.show_menu_zero_money)&&t.push("basic"),t},lowerCommonPrice:function(){var t=this,e=this.schema.product,i={hot:0,cold:0,basic:0,subTypeHot:!1,subTypeCold:!1},s=this.prod[e.price];return 3===this.prod[e.type]?i.basic=s:(this.$vnode.key.startsWith("menu-prod-block-ref")||this.$vnode.key.startsWith("s-menu-prod-block-")||this.combineList&&"object"===c()(this.combineList)&&this.prodCombine&&Array.isArray(this.prodCombine)&&this.prodCombine.length&&!0!==this.combineList[this.prodCombine[this.prodCombine.length-1]][this.schema.combine.is_common]&&this.prodCombine.length>1&&this.prodCombine.sort((function(e,i){if(t.combineList[e][t.schema.combine.is_common]!==t.combineList[i][t.schema.combine.is_common])return t.combineList[e][t.schema.combine.is_common]-t.combineList[i][t.schema.combine.is_common]})),this.prodCombine.forEach((function(e){var s=t.combineList[e],o=s[t.schema.combine.common_list],r={hot:!1,cold:!1,basic:0};o.forEach((function(e){e.forEach((function(e){var s=e[t.schema.common.sub_type],o=e[t.schema.common.price];switch(s){case 41:case 42:case 43:r.cold=o,i.subTypeCold=!0;break;case 44:case 45:case 46:case 47:case 48:case 49:r.hot=o,i.subTypeHot=!0;break;case 0:r.basic=o;break;default:break}}))})),"boolean"!==typeof r.hot&&(i.hot=r.basic+r.hot),("boolean"!==typeof r.cold||1===t.storeInfo.show_menu_icon&&3!==t.storeInfo.store_mode)&&(i.cold=r.basic+r.cold),i.hot||(i.hot=t.getProdPriceHotCold(1)),i.cold||(i.cold=t.getProdPriceHotCold(2)),2===t.storeInfo.show_menu_icon&&(i.hot=0,i.cold=0,i.subTypeHot=!1,i.subTypeCold=!1),1!==t.storeInfo.show_menu_icon||i.subTypeHot||(i.subTypeCold=!0),i.basic=r.basic}))),i},prodAdjustList:function(){var t=this,e={},i=this.prod[this.schema.product.adjust_list]||[];return i.forEach((function(i){null!==t.adjustList[i]&&"undefined"!==typeof t.adjustList[i]&&(e[i]=t.adjustList[i])})),e},prodCombine:function(){return this.prod[this.schema.product.combine_list]},prod:function(){return this.productList[this.prodId]},categoryList:function(){return this.menu.category_list_json.data},productList:function(){return this.menu.product_list_json.data},adjustList:function(){return this.menu.adjust_list_json.data},optionList:function(){return this.menu.option_list_json.data},combineList:function(){return this.menu.combine_list_json.data},groupList:function(){var t=this.menu.group_list_json;return t?t.data:{}},schema:function(){var t={},e=this.menu.group_list_json;return e&&(t=e.schema),{adjust:this.menu.adjust_list_json.schema,category:this.menu.category_list_json.schema,product:this.menu.product_list_json.schema,common:this.menu.combine_list_json.common_schema,edge:this.menu.combine_list_json.edge_schema,combine:this.menu.combine_list_json.schema,group:t,option:this.menu.option_list_json.schema}},structuredData:function(){var t=N({},y["b"]);return t.productID=String(this.prod[this.schema.product.product_id])||"",this.groupList&&"object"===c()(this.groupList)&&Object.keys(this.groupList).length&&this.prod&&this.schema&&this.schema.product&&this.schema.product.group_id&&this.prod[this.schema.product.group_id]?t.name=this.groupList[this.prod[this.schema.product.group_id]][this.schema.group.name]||"":t.name=this.getProdName(this.prod[this.schema.product.name],this.prod)||"",t.image=[],this.prodImg&&"object"===c()(this.prodImg)&&this.prodImg.main_image&&this.prodImg.main_image.url&&t.image.push(this.prodImg.main_image.url),this.prodImg&&"object"===c()(this.prodImg)&&this.prodImg.sub_image_list&&this.prodImg.sub_image_list[0]&&this.prodImg.sub_image_list[0].url&&t.image.push(this.prodImg.sub_image_list[0].url),t.description=this.prod[this.schema.product.description]||"",t.sku=String(this.prod[this.schema.product.product_id])||"",t.mpn=String(this.prod[this.schema.product.product_id])||"",t.brand.name=this.storeInfo.brand_name||"",t.review.reviewRating.bestRating=this.storeInfo.rating_average_star||0,t.review.reviewRating.ratingValue=this.storeInfo.rating_average_star||0,t.aggregateRating.ratingCount=this.storeInfo.rating_order_count||0,t.aggregateRating.ratingValue=this.storeInfo.rating_average_star||0,t.offers.highPrice=this.getProdPrice(this.prodId)||0,t.offers.lowPrice=this.getProdPrice(this.prodId)||0,t.offers.offerCount=1,t.offers.priceCurrency="TWD",t.offers.seller.name=this.storeInfo.name||"",this.storeInfo.id&&this.prod[this.schema.product.product_id]&&(t.offers.url="".concat(window.location.origin,"/menu/").concat(this.storeInfo.id,"/?q=").concat(this.prod[this.schema.product.product_id])),t}},watch:{"show.modal_prod":function(){"undefined"!==typeof this.showModal&&this.$set(this.showModal,"modal",this.show.modal_prod)}}},j=D,v=(i("3e4f"),i("2877")),L=Object(v["a"])(j,s,o,!1,null,"33237d94",null);e["a"]=L.exports},"569b":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yNDg2XzM4MSkiPgo8cGF0aCBkPSJNMzIuMjcwOSAyMS40MDMxVjIxLjA2MzdDMzIuMjcwOSAxOS4yOTY1IDMxLjAyNDMgMTcuODEwMSAyOS4zNTQ0IDE3LjQzNTZWMTcuMzQyQzI5LjA3MjIgMTMuNjY3MSAyNi43NzkgMTAuNTE4OSAyMy41MjE1IDguODkyMDdMMjMuNTA5NyA4Ljg4MDM2QzIzLjQ5OCA4Ljc1MTYyIDIzLjQ5OCA4LjYyMjg5IDIzLjQ5OCA4LjU2NDM3QzIzLjQ5OCA3LjEwMTQzIDIyLjMxMDIgNS45MTkzNyAyMC44NDAyIDUuOTE5MzdDMjAuNjQwMyA1LjkxOTM3IDIwLjQ3NTcgNS45MzEwOCAyMC4zMjI4IDUuOTU0NDlMMjAuMTgxNyA1LjgwMjM0QzE5LjgyODkgNS4wMjk5MSAxOS4xOTM4IDQuNjc4OCAxOC4yNTMgNC42Nzg4QzE2LjYzMDIgNC42Nzg4IDE1LjExMzEgNS45MTkzNyAxNS4zMjQ4IDcuNzMzNDJDMTUuMzM2NiA3LjgzODc1IDE1LjM2MDEgNy45MjA2OCAxNS4zNzE5IDguMDAyNkwxNS4xMzY3IDguMTc4MTVDMTAuODc5NiA5LjQxODcyIDcuODEwMjEgMTMuMDIzNCA3LjUwNDQ1IDE3LjQwMDVMNy40NjkxNyAxNy40NzA3QzUuODY5ODIgMTcuODkyMSA0LjY5MzgzIDE5LjM0MzMgNC42OTM4MyAyMS4wNjM3VjIxLjQwMzFDNC42OTM4MyAyMS40MDMxIDMuOTA1OTEgMzAuMzY4IDE4LjExMTkgMzAuMjYyN0gxOC40NjQ3QzE4LjQ3NjUgMzAuMjYyNyAxOC40NzY1IDMwLjI2MjcgMTguNDg4MiAzMC4yNjI3QzE4LjUxMTggMzAuMjYyNyAxOC41NDcgMzAuMjYyNyAxOC41NzA2IDMwLjI2MjdDMzMuMDcwNiAzMC40OTY3IDMyLjI3MDkgMjEuNDAzMSAzMi4yNzA5IDIxLjQwMzFaIiBzdHJva2U9IiMwNDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8cGF0aCBkPSJNNy41NzUwMSAxNy4yNjAxQzcuOTI3ODEgMTIuOTc2NiAxMC45NTAxIDkuNDUzODQgMTUuMjA3MiA4LjIxMzI2IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yMy41ODAzIDguOTE1NDdDMjYuODQ5NSAxMC41NDIzIDI5LjE0MjcgMTMuNzAyMiAyOS40MjQ5IDE3LjM3NzEiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTUuNzgzNSA4LjU4Nzc4QzE1LjYzMDYgOC40NDczMyAxNS40NDI0IDguMjI0OTcgMTUuMzgzNiA3Ljc2ODUzQzE1LjE4MzcgNS45NDI3OCAxNi42ODkgNC43MDIyMSAxOC4zMjM2IDQuNzAyMjFDMTkuMjY0NCA0LjcwMjIxIDE5Ljg5OTQgNS4wNjUwMiAyMC4yNTIyIDUuODI1NzUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE5LjI5OTcgNi40ODExNEMxOS43NzAxIDYuMTA2NjMgMjAuMTQ2NCA1Ljk0Mjc4IDIwLjg5OSA1Ljk0Mjc4QzIyLjM2OSA1Ljk0Mjc4IDIzLjU1NjggNy4xMjQ4MyAyMy41NTY4IDguNTg3NzdDMjMuNTU2OCA4LjY4MTQgMjMuNTgwMyA4Ljk3Mzk5IDIzLjU4MDMgOS4xMTQ0MyIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjQuODg1NyAyMi42Nzg4QzIzLjE0NTIgMjMuODAyMyAyMC45MjI2IDI0LjQ4MTEgMTguNSAyNC40ODExQzE2LjA3NzUgMjQuNDgxMSAxMy44NTQ4IDIzLjgwMjMgMTIuMTAyNiAyMi42Nzg4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE0LjM3MjMgMTkuMDAzOUMxNC45NTAzIDE5LjAwMzkgMTUuNDE4OSAxOC4zNzUxIDE1LjQxODkgMTcuNTk5NUMxNS40MTg5IDE2LjgyMzggMTQuOTUwMyAxNi4xOTUxIDE0LjM3MjMgMTYuMTk1MUMxMy43OTQyIDE2LjE5NTEgMTMuMzI1NiAxNi44MjM4IDEzLjMyNTYgMTcuNTk5NUMxMy4zMjU2IDE4LjM3NTEgMTMuNzk0MiAxOS4wMDM5IDE0LjM3MjMgMTkuMDAzOVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0yMi42Mzk1IDE5LjAwMzlDMjMuMjE3NSAxOS4wMDM5IDIzLjY4NjEgMTguMzc1MSAyMy42ODYxIDE3LjU5OTVDMjMuNjg2MSAxNi44MjM4IDIzLjIxNzUgMTYuMTk1MSAyMi42Mzk1IDE2LjE5NTFDMjIuMDYxNCAxNi4xOTUxIDIxLjU5MjggMTYuODIzOCAyMS41OTI4IDE3LjU5OTVDMjEuNTkyOCAxOC4zNzUxIDIyLjA2MTQgMTkuMDAzOSAyMi42Mzk1IDE5LjAwMzlaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjguNzE5NCAyMi43MzczQzI5LjcxMzEgMjIuNzM3MyAzMC41MTg2IDIxLjkzNTYgMzAuNTE4NiAyMC45NDY3QzMwLjUxODYgMTkuOTU3NyAyOS43MTMxIDE5LjE1NiAyOC43MTk0IDE5LjE1NkMyNy43MjU3IDE5LjE1NiAyNi45MjAxIDE5Ljk1NzcgMjYuOTIwMSAyMC45NDY3QzI2LjkyMDEgMjEuOTM1NiAyNy43MjU3IDIyLjczNzMgMjguNzE5NCAyMi43MzczWiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTguMjkyMzcgMjIuNzM3M0M5LjI4NjA4IDIyLjczNzMgMTAuMDkxNiAyMS45MzU2IDEwLjA5MTYgMjAuOTQ2N0MxMC4wOTE2IDE5Ljk1NzcgOS4yODYwOCAxOS4xNTYgOC4yOTIzNyAxOS4xNTZDNy4yOTg2NiAxOS4xNTYgNi40OTMxIDE5Ljk1NzcgNi40OTMxIDIwLjk0NjdDNi40OTMxIDIxLjkzNTYgNy4yOTg2NiAyMi43MzczIDguMjkyMzcgMjIuNzM3M1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xMS4zODUyIDIzLjU1NjZDMTEuOTE0NCAyMi45MTI5IDEyLjE4NDkgMjEuOTg4MyAxMi4xODQ5IDIxLjA5ODhDMTIuMTg0OSAxOS4wNTA3IDEwLjUxNSAxNy4zNzcxIDguNDQ1MjMgMTcuMzc3MUM2LjM4NzI0IDE3LjM3NzEgNC43MDU1NyAxOS4wMzkgNC43MDU1NyAyMS4wOTg4VjIxLjQzODJDNC43MDU1NyAyMS40MzgyIDMuOTA1OSAzMC41MjAyIDE4LjQxNzcgMzAuMjk3OEMxOC40NDEyIDMwLjI5NzggMTguNDc2NSAzMC4yOTc4IDE4LjUgMzAuMjk3OCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjUuNjE0OCAyMy41NTY2QzI1LjA4NTYgMjIuOTEyOSAyNC44MTUxIDIxLjk4ODMgMjQuODE1MSAyMS4wOTg4QzI0LjgxNTEgMTkuMDUwNyAyNi40ODUgMTcuMzc3MSAyOC41NTQ3IDE3LjM3NzFDMzAuNjEyNyAxNy4zNzcxIDMyLjI5NDQgMTkuMDM5IDMyLjI5NDQgMjEuMDk4OFYyMS40MzgyQzMyLjI5NDQgMjEuNDM4MiAzMy4wOTQxIDMwLjUyMDIgMTguNTgyMyAzMC4yOTc4QzE4LjU1ODggMzAuMjk3OCAxOC41MjM1IDMwLjI5NzggMTguNSAzMC4yOTc4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xOS44ODc2IDIwLjc4MjhDMTkuODg3NiAyMC43ODI4IDE5LjM4MiAxOS43MDYxIDE4LjUgMTkuNjgyN0MxNy42MTggMTkuNjk0NCAxNy4xMTIzIDIwLjc4MjggMTcuMTEyMyAyMC43ODI4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yNDg2XzM4MSI+CjxyZWN0IHdpZHRoPSIyOSIgaGVpZ2h0PSIyNyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQgNCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"},5738:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-markup-table",{class:["q-table--edited delivery-limit-table",{"bg-gray-6":t.showDeliveryDefault}],attrs:{flat:"","wrap-cells":"",separator:"horizontal"}},t._l(t.storeInfo.delivery_exception_calendar_group,(function(e,s){return i("tbody",{directives:[{name:"show",rawName:"v-show",value:t.getDeliveryInfo(s),expression:"getDeliveryInfo(key)"}],key:"exception-calendar"+s},[t._l(e.date_type,(function(o,r){return i("tr",{directives:[{name:"show",rawName:"v-show",value:e.date_type.length,expression:"exceptionType.date_type.length"}],key:"exception-date-"+r},[i("td",[t._v("\n        "+t._s(o.values.join("、"))+" "+t._s(t.toTime(o.start_time))+" ~ "+t._s(t.toTime(o.end_time))+" 不提供"+t._s(t.deliveryName(s))+"\n      ")])])})),t._l(e.week_day,(function(e,o){return i("tr",{key:"exception-week-"+o},[i("td",[7!==e.values.length?i("span",[t._v("\n          每週"),t._l(e.values,(function(s,o){return i("span",{key:"week-val-"+o},[t._v("\n            "+t._s(t.weekDayName(s))+" "),o<e.values.length-1?i("span",[t._v("、")]):t._e()])})),t._v(t._s(t.toTime(e.start_time))+" ~ "+t._s(t.toTime(e.end_time))+" 不提供"+t._s(t.deliveryName(s))+"\n        ")],2):i("span",{staticClass:"text-left"},[t._v("\n          每天\n          "+t._s(t.toTime(e.start_time))+" ~ "+t._s(t.toTime(e.end_time))+" 不提供"+t._s(t.deliveryName(s))+"\n        ")])])])})),t._l(e.month_day,(function(e,o){return i("tr",{key:"exception-month"+o},[i("td",[i("span",{staticClass:"text-left"},[t._v("\n          每月"),t._l(e.values,(function(s,o){return i("span",{key:"exception-month"+o},[t._v("\n            "+t._s(s)+" "),o<e.values.length-1?i("span",[t._v("、")]):t._e()])})),t._v("日 "+t._s(t.toTime(e.start_time))+" ~ "+t._s(t.toTime(e.end_time))+"\n           不提供"+t._s(t.deliveryName(s))+"\n        ")],2)])])}))],2)})),0)},o=[],r=(i("6b54"),i("06db"),i("7514"),i("c5f6"),i("791e")),n={name:"DeliveryLimit",props:{storeInfo:Object,deliveryType:Number,showDeliveryDefault:Boolean},mixins:[r["a"]],data:function(){return{}},computed:{},methods:{getDeliveryInfo:function(t){var e=this.storeInfo.delivery_info.find((function(e){return e.delivery_type.toString()===t}));return this.deliveryType?t===this.deliveryType.toString():e||!1},toTime:function(t){return this.getTime(2,t,"HH:mm")}},created:function(){}},a=n,c=(i("e303"),i("2877")),u=Object(c["a"])(a,s,o,!1,null,"76208f26",null);e["a"]=u.exports},5760:function(t,e,i){t.exports=i.p+"img/f_long_how.8bdd9fc2.jpg"},"583a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAA6lBMVEUAAAD/AAD/AABVqlVAv4D/v0AzzGZVgP//SQDvQABoov//1zBglfQqtm0ouWn/2i1axGpclPQotm0otnH5hhYptGsqs3D/2yw2t2pYwmr/2ixZkvZBhvQmsm3vOQAisWohsWxYlvbvOAGQYoRAh/T8viUcrmr/2i1QjvRTkvW50EZAhvSRxUkVrWzwOACPY4cTrGs3uWv/2i3wPgERrGxMjvXwPAE/ge4xoaIxoaNBd+FZw2pBgO3F0kI6uWtGifRaxGrwOAAApmwBpmwCpmwDpmw6uWtAg/BAhvRBh/TwOAD8uST/2i3////mZrtdAAAAQnRSTlMAAQIDBAQFBgcQFiAwMTM+QUVGRlBYW1xjcXR1dnqCl5mirK62wMfMztTU1+Dl5+rs7O3v8fPz9fr6+vr8/P39/f519NsAAAAAAWJLR0RNgGggZQAAAIlJREFUGBm1wUUCwjAUBcCHu7sWd3eXHyih5P7ngUXTUvbM4MNT7B92nSBM3jrn6wc/x2AoX8eNQvfJl5BsI60GoMo3aeh82ioJwL9lCnT2+SsPIMGoBKkpZhGEF8RCkDJCiMGNaAiDqy2OJ6J7HKZA76ISVfAtulepBaucOnHDyjFN4VfWib94A5ZDESvfHRnVAAAAAElFTkSuQmCC"},"5b67":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showLeftBtn?i("div",{class:["full-width flex flex-center",{"col text-accent":2===t.type},{"bg-d-gray text-white":2===t.type&&t.showBtn.disable},{"bg-white":2===t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2===t.type&&!t.showBtn.disable&&!t.showRightBtn}]},[i("div",{staticClass:"text-center text-bold flex flex-center",class:[2===t.type?"q-py-md full-width full-height":"btn-primary text-accent border q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"bg-d-gray text-white":2!==t.type&&t.showBtn.disable},{"bg-white":2!==t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2!==t.type&&!t.showBtn.disable&&!t.showRightBtn}],style:2===t.type?"":"height: 71.141px",on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"b-bg-secondary",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v(t._s(t.showBtn.name))])],1)]):t._e()},o=[],r=(i("7f7f"),i("c5f6"),{name:"NdOrderListLeftBtn",props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,show:Object,showRightBtn:Boolean,cantEdit:Boolean},data:function(){return{btns:{1:{name:this.$t("order.add_items"),event:"goToMenu"},2:{name:this.$t("order.step_previous"),event:"goStepBack"},3:{name:this.$t("order.cancel_trade"),event:"cancelTrade"},4:{name:this.$t("order.order_again_one"),event:"orderAgain"},5:{name:this.$t("order.order_again"),event:"reorder",disable:!1},6:{name:this.$t("order.order_delete"),event:"removeOrder"}}}},computed:{showLeftBtn:function(){return!(!this.showRightBtn&&this.showBtn.disable)},disReorder:function(){var t=this.orderInfo.status,e=this.orderInfo.order_type;return 3===e||99!==t&&(120!==t&&(121!==t&&(122!==t&&(140!==t&&130!==t))))},showSpinner:function(){return!!this.show&&this.show.btn_spinner},showBtn:function(){var t=this.orderInfo;return this.step?3===t.order_type&&3===this.step?this.btns[4]:1!==this.step||this.cantEdit?1===this.step&&this.cantEdit?this.btns[6]:1===t.status||2===t.status?this.btns[3]:this.btns[2]:this.btns[1]:(this.btns[5].disable=this.disReorder,this.disReorder?(this.btns[5].event="",this.btns[5].name=this.$t("order.order_again_un")):(this.btns[5].event="reorder",this.btns[5].name=this.$t("order.order_again")),this.btns[5])}}}),n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},"5b98":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"text-bold text-center font-size-subtitle-1"},[t._v("信用卡支付使用條款")]),i("hr",{staticClass:"q-my-md"}),i("p",[t._v("\n    歡迎您使用雲仲資訊股份有限公司(以下簡稱本公司)所提供之「你訂!信用卡支付」服務(以下簡稱本服務)。請注意，當您勾選下列同意事項時，即視為您已充分審閱、瞭解及同意本服務條款，並同意遵守本服務條款之約定。\n    "),i("br"),i("br"),t._v("\n    一、 服務說明\n    "),i("br"),t._v("\n    1.  本服務為本公司與喬睿科技股份有限公司(以下簡稱TapPay)合作推出，使用者於申請及使用本服務前應詳閱本服務條款，除與本公司另有書面約定外，使用者開始使用本服務之一部或全部功能，即代表使用者已充分審閱、瞭解及完全同意本服務條款及相關使用規範，包含但不限於本公司公布於本服務網站相關使用規範及限制，若使用者對本服務、本服務條款及相關使用規範之任一部分有疑義或反對時，應立即停止使用本服務。\n    "),i("br"),t._v("\n    2.  本公司有權隨時修改或變更本服務條款，並將最新服務條款公告於本服務網站，不另行通知使用者。若使用者於本服務條款修改或變更後繼續使用本服務，視同使用者同意並接受本服務條款之修改或變更。\n    "),i("br"),t._v("\n    3.  若使用者未滿20歲，除使用者本人應遵守本服務條款外，並請使用者之家長(或監護人)同時確實閱讀、瞭解並同意遵守本服務條款之所有內容，使用者方得使用或繼續使用本服務；當使用者於本服務條款為修改或變更後仍繼續使用本服務時，即表示使用者之家長(或監護人)亦已確實閱讀、瞭解並同意遵守本服務條款之修改或變更。\n    "),i("br"),t._v("\n    4.  本公司提供之「你訂!信用卡支付」可使用於本公司管理之所有聯名服務(https://*.nidin.shop)；不受品牌、門市、服務入口所限制，惟該品牌、門市需先經審核並啟用此支付功能，使用者方可使用。\n    "),i("br"),i("br"),t._v("\n    基於上述充分認知，使用者同意使用本服務，並遵守以下約定：\n    "),i("br"),i("br"),t._v("\n    二、 服務內容\n    "),i("br"),t._v("\n    本服務係提供使用者行動支付功能，本服務之詳細內容，均以本公司實際提供者為準，且本公司有權隨時增減或變更各項服務內容及功能。\n    "),i("br"),i("br"),t._v("\n    三、 約定信用卡/Debit金融卡\n    "),i("br"),t._v("\n    1.  使用者約定信用卡/Debit金融卡為本服務之支付工具，而於本服務新增信用卡/Debit金融卡時，使用者需輸入擬新增之卡片資訊(包括信用卡/Debit金融卡卡號、有效月年、卡面背面末三碼)，並透過發卡銀行驗證該卡片資訊(包括但不限於卡號之有效性及身分驗證程序)，以確認該張卡片係為使用者本人所使用。\n    "),i("br"),t._v("\n    2.  使用者不會因上述驗證程序而負擔或支出任何費用。\n    "),i("br"),t._v("\n    3.  使用者於本服務所輸入之信用卡/Debit金融卡資訊，係透過加密機制傳輸至TapPay進行驗證及保存，該信用卡/Debit金融卡資訊不會保留於本公司網站或以任何形式儲存於使用者之智慧型行動終端裝置；使用者使用本服務進行支付時，係以本服務後台系統與TapPay所約定之代碼化卡號(token)取代真實信用卡/Debit金融卡資訊，相關流程係符合支付卡產業資料安全標準(Payment Card Industry Data Security Standard，PCIDSS)。\n    "),i("br"),t._v("\n    4.  本服務目前僅約定信用卡及Debit金融卡，不適用商務卡，最新支援卡別依本公司及TapPay官網公告為主。\n    "),i("br"),i("br"),t._v("\n    四、 使用須知\n    "),i("br"),t._v("\n    1.  本服務為免費使用，惟使用者如係透過各家電信業者提供之電信系統網路或需收費之Wi-Fi網路使用本服務，需依使用者向其所屬電信業者申請之電信服務上網/數據資費費率，額外計算傳輸費，並自行支付傳輸費予電信業者；若使用者於國外透過國外當地之電信網路使用本服務，使用者使用國際數據漫遊費之費用另計。\n    "),i("br"),t._v("\n    2.  使用者使用本服務進行支付時，在符合系統條件內將進行3D 驗證（(3-D Secure），供本服務系統驗證、確認透過本服務所使用之信用卡/Debit金融卡消費所支付之款項，係由使用者所為。\n    "),i("br"),t._v("\n    3.  使用者透過本服務依約定之信用卡/Debit金融卡支付交易款項者，無須使用簽帳單、當場簽名或另立書面契約，使用者同意並保證日後不得以該筆信用卡/Debit金融卡交易款項未經使用者本人簽名為由，拒納該筆交易款項。如使用者於本服務所約定之信用卡/Debit金融卡因掛失、偽冒、停用等原因失效時，該張信用卡/Debit金融卡卡號，即無法於本服務系統進行任何消費、交易服務。\n    "),i("br"),t._v("\n    4.  本服務限使用者本人使用，不得轉讓、質借或轉由他人占有；若使用者違反前揭規定，所生之糾紛或損失，概由使用者自行負責。\n    "),i("br"),t._v("\n    5.  使用者不得有任何複製或改作本服務之行為；一經發現，本公司得報請有關機關追究相關法律責任，並得請求使用者賠償本公司或其他第三人所受之損失。\n    "),i("br"),t._v("\n    6.  使用者欲停止使用本服務，應即向本公司提出並完成服務註銷之申請，始生註銷效力。\n    "),i("br"),t._v("\n    7.  使用者透過本服務進行交易消費款項之支付時，限制如下：使用者使用本服務所約定之信用卡，限於該張約定信用卡之發卡行核定之信用額度內使用，惟該發卡行就該筆交易授權保有准駁與否之權利。\n    "),i("br"),t._v("\n    8.  使用者使用本服務，除應妥善保管本公司會員密碼及本服務交易密碼外，並應不定期變更會員密碼及交易密碼，以維護本服務使用安全性。\n    "),i("br"),t._v("\n    9.  本公司為維護使用者權益，當使用者輸入本服務交易密碼，連續錯誤超過三次時，本服務將自動鎖定，使用者需重新登入會員，並設定新的交易密碼，始可使用本服務；故若使用者將密碼遺失或忘記密碼時，請透過本服務之修改交易密碼功能，進行密碼重設作業，或使用者可撥打本公司使用者服務專線由客服人員協助處理。\n    "),i("br"),t._v("\n    10.  使用者如係因使用信用卡/Debit金融卡所衍生之相關問題，或於本服務所約定之信用卡/Debit金融卡，有遺失、滅失、遭竊或喪失占有等情形時，應立即通知信用卡/Debit金融卡之發卡行。\n    "),i("br"),i("br"),i("br"),t._v("\n    五、 交易核對、退款及疑義處理\n    "),i("br"),t._v("\n    1.  本公司將於使用者所指示之每筆交易處理完畢後，由本服務系統以電子訊息(交易介面所示之消費紀錄)或實體收據交易明細通知使用者，使用者應核對其交易內容之正確性。\n    "),i("br"),t._v("\n    2.  另本公司亦提供使用者可於本公司網站或查詢交易紀錄。\n    "),i("br"),t._v("\n    3.  倘因使用者或本公司門市端輸入或操作錯誤導致該筆交易款項支付錯誤時，請立即洽本公司修正該筆錯誤交易。\n    "),i("br"),t._v("\n    4.  使用者透過本服務已完成之交易如需進行退款，需依本公司之退款政策與流程進行退款。\n    "),i("br"),t._v("\n    5.  使用者若就透過本服務所完成之指示交易消費帳款有疑義時，請洽詢本公司客服專線或逕洽該張信用卡/Debit金融卡之發卡行。\n    "),i("br"),i("br"),t._v("\n    六、 服務暫停\n    "),i("br"),t._v("\n    1.  若使用者遺失載有本服務之智慧型行動終端裝置，或發現有第三人冒用、盜用或意圖非法取得使用者之帳號、密碼時，應立即透過以下方式暫停本服務，惟使用者所約定之信用卡/Debit金融卡之實體功能不受本服務暫停之影響：\n    "),i("br"),t._v("\n        (1)  網站申請：登入本公司網站，自行刪除帳號停止本服務，或使用者可登入本公司網站修改會員密碼，再自行恢復本服務會員之各項功能權益。\n    "),i("br"),t._v("\n        (2)  聯繫客服：加入你訂官方帳號（ID：@nidin），由客服人員協助暫停會員權限。會員權限一經申請暫停即無法使用，如使用者欲再使用本服務，需在本公司網站重新申請註冊。當使用者重新申請註冊後，即需重新約定信用卡/Debit金融卡資料。\n    "),i("br"),t._v("\n    2.  經使用者通知、或本公司合理懷疑使用者使用本服務之異常狀況發生時，本公司有權立即暫停使用者使用本服務，直至該異常狀況解除為止。本公司不負任何因暫停本服務所造成之損害賠償責任，並得要求使用者提供相關文件(包含但不限於：身分證明文件、切結書、警政機關報案證明等)，以解除本服務之暫停使用。\n    "),i("br"),i("br"),t._v("\n    七、 使用者義務與責任\n    "),i("br"),t._v("\n    1.  本服務僅供使用者個人正常合法使用，使用者不得轉售或以任何方式轉讓予他人使用。\n    "),i("br"),t._v("\n    2.  除經本公司事前書面同意，使用者不得對本服務之內容、商標及本服務之全部或一部功能擅自進行出售、交易、轉售、轉授權、重製、傳輸、散佈、修改、改作、連結、進行還原工程、解編、反向組譯、製作衍生著作或以其他任何形式、基於任何目的加以使用、出版或發行之行為。使用者如違反前述責任與義務，導致本公司或任何第三人之損害者，應負擔賠償責任。\n    "),i("br"),t._v("\n    3.  使用者同意不得進行下列行為：\n    "),i("br"),t._v("\n        (1)  違反法律、法規、行政命令或主管機關之要求；\n    "),i("br"),t._v("\n        (2)  以任何方式干擾或破壞本服務平台及系統；\n    "),i("br"),t._v("\n        (3)  用於不法交易行為或有任何不當、不合常理之使用行為；\n    "),i("br"),t._v("\n        (4)  提供虛偽不實之信用卡/Debit金融卡資料或冒用他人個人資料；\n    "),i("br"),t._v("\n        (5)  違反本服務條款之規定。\n    "),i("br"),t._v("\n    4.  使用者同意不得進行下列行為：使用者因下列行為導致其權益受損，需自行負擔相關法律責任及損失：\n    "),i("br"),t._v("\n        (1)  使用者未妥善保管會員帳號或交易密碼；\n    "),i("br"),t._v("\n        (2)  使用者出於故意或過失，而使他人知悉其會員帳號或交易密碼；\n    "),i("br"),t._v("\n        (3)  使用者之智慧型行動終端裝置，因使用者自行改機、解碼、越獄或其他類似情形，致破壞或變更原裝置或本服務之安全機制及功能。\n    "),i("br"),i("br"),t._v("\n    八、 個人資料之運用及保護\n    "),i("br"),t._v("\n    1.  使用者瞭解並同意本公司對於使用者所輸入或留存之個人資料(包括但不限於行動電話號碼、會員帳號、電子郵件地址、信用卡/Debit金融卡資訊、聯絡方式及其他依法受保護之資料等)，將依個人資料保護法及本服務條款內所載特定目的範圍，進行蒐集、處理及利用，並妥適保管。\n    "),i("br"),t._v("\n    2.  本公司得於本服務條款之特定目的蒐集、處理及使用使用者提供個人資料：\n    "),i("br"),t._v("\n        (1)  使用者同意本公司、關係企業及合作廠商，就使用者所提供之個人資料得蒐集及處理之，並得於使用者/會員管理及檔案維護、行銷、廣告宣傳、調查分析統計、提供本服務及相關服務等目的範圍內，傳遞及利用使用者之個人資料，包括但不限於提供予Tappay或其他服務合作廠商或受委託蒐集、處理、利用資料之廠商、使用者資料統計、關於使用行為之調查研究、提供優惠或促銷訊息、或為其他合法利用等。\n    "),i("br"),t._v("\n        (2)  本服務合理關聯之特定目的範圍：「○二四民意調查」、「○四○行銷」、「○五二法人對會員名冊之內部管理」、「○六三非公務機關依法定義務所進行個人資料之蒐集處理及利用」、「○七七訂位、住宿登記與購票業務」、「○八一個人資料之合法交易業務」、「○九○消費者、客戶管理與服務」、「一三六資(通)訊與資料庫管理」、「一四八網路購物及其他電子商務服務」、「一五二廣告或商業行為管理」、「一五七調查、統計與研究分析」、「一七九其他財政服務」、「一八一其他經營合於營業登記項目或組織章程所定之業務」、「一八二其他諮詢與顧問服務」等。\n    "),i("br"),t._v("\n    3.  使用者同意個人資料利用期間、地區、對象及方式：\n        (1)  期間：特定目的存續期間，但依法令或契約約定應保存期間較長者，從較長期間。\n    "),i("br"),t._v("\n        (2)  地區：提供會員服務地區。\n    "),i("br"),t._v("\n        (3)  對象：本公司、因業務需要與第三方公司訂有契約關係或業務往來之機構、及政府機關依法令要求提供。\n    "),i("br"),t._v("\n        (4)  方式：符合個人資料保護法及相關法令，以書面、電子、雲端設備或其他足以記載及傳輸資料之媒介與方式。\n    "),i("br"),t._v("\n    4.  使用者得依個人資料保護法之規定，行使查詢、閱覽、製給複製本、補充更正、請求停止蒐集、處理或利用及刪除使用者之個人資料。\n    "),i("br"),t._v("\n    5.  行使前揭權利時，需由使用者本人向本公司之客服中心申請，本公司將於確認使用者身分後，依內部作業程序辦理。本公司客服信箱( "),i("a",{staticClass:"font-size-subtitle-1 text-blue text-under-line",attrs:{href:"mailto:nidin.service@gmail.com"}},[t._v("nidin.service@gmail.com")]),t._v(" )。\n    "),i("br"),t._v("\n    6.  若使用者不願意提供真實且正確完整的個人資料，將可能無法獲得本公司所提供之服務，恕不另行通知。\n    "),i("br"),i("br"),t._v("\n    九、 服務停止或中斷\n    "),i("br"),t._v("\n    1.  如發生下列情形之一時，本公司均有權立即對使用者停止或中斷本服務，或被迫停止或中斷本服務之提供：\n    "),i("br"),t._v("\n        (1)  對本服務系統、相關軟硬體設備或電子通信設備緊急保養、維護、升級或施工時；\n    "),i("br"),t._v("\n        (2)  發生突發性之系統或設備故障時；\n    "),i("br"),t._v("\n        (3)  本服務所連結之相關通信或通訊服務，因任何原因而發生中斷、停止，導致服務無法提供時；\n    "),i("br"),t._v("\n        (4)  本服務因天災、戰爭等不可抗力之因素致無法提供時。\n    "),i("br"),t._v("\n    2.  除上述情形外，本公司不保證本服務運作時絕不發生中斷、延遲或錯誤等情形，連帶影響本服務之使用品質，並可能導致通訊中斷或延遲。因此，使用者瞭解並同意於使用本服務時，應自行採取防護措施。\n    "),i("br"),t._v("\n    3.  使用者因本服務停止或中斷無法使用本服務，衍生任何直接或間接之損害時，本公司不負任何賠償責任。\n    "),i("br"),i("br"),t._v("\n    十、 服務終止\n    "),i("br"),t._v("\n    如發生特定情形，本公司有權不經催告逕行終止，或限制使用者使用本服務之權利，前揭特定情形，包括但不限於本公司營業政策之調整，停止本服務之提供、依法律、法令、法院或政府機關之命令，或本服務發生無法繼續或無法預期之技術或安全因素或問題等。於前揭情形，本公司對使用者或任何第三人均不負擔任何責任。\n    "),i("br"),i("br"),t._v("\n    十一、 智慧財產權\n    "),i("br"),t._v("\n    本公司所提供本服務之內容，包括所有軟體、文字、圖片及其他使用者使用本服務所接獲/觸之所有資料，其專利權、著作權、商標、營業秘密、其他智慧財產權、所有權或其他一切權利，均為本公司或其權利人所有，概受著作權法、其他智慧財產權法令及其他中華民國及國際法令之保護。\n    "),i("br"),i("br"),t._v("\n    十二、 個別條款之效力\n    "),i("br"),t._v("\n    本服務條款所定之任何條款之一部或全部無效時，不影響其他條款之效力。\n    "),i("br"),i("br"),t._v("\n    十三、 管轄法院及準據法\n    "),i("br"),t._v("\n    本服務條款以中華民國法令為準據法。使用者與本公司間因本服務、或本服務條款所生之爭議，如因此而涉訟，除法令另有強制規定者應依其規定者外，以台灣新竹地方法院為第一審管轄法院。\n    "),i("br"),i("br"),t._v("\n    十四、 退貨與退款相關\n    "),i("br"),t._v("\n    只有在店家尚未接受您的訂單時，您才可以取消訂單。如果您在店家接受訂單後仍決定取消訂單，即表示您瞭解店家不會向您發送已取消訂單的商品，未來店家有權利拒絕接受訂單。\n    "),i("br"),t._v("\n    如果本服務合理懷疑或發現與您的帳戶及/或訂單存在相關的欺詐行為或活動，本服務有權自行斟酌決定取消任何訂單和/或暫停、停用或終止您的帳戶。\n    "),i("br"),t._v("\n    收到訂單餐點／商品後，如果您發現自己的訂單存在問題（例如，訂單錯誤、商品缺漏、有客觀上無法食用或使用之缺陷），請立即聯繫店家或是客服人員。本服務會協助處理訂單問題，但不保證給予退款、補償等事宜。\n  ")])])}],r=i("791e"),n={mixins:[r["a"]],data:function(){return{}},created:function(){this.setGATag("view.credit_card_rules")}},a=n,c=i("2877"),u=Object(c["a"])(a,s,o,!1,null,null,null);e["a"]=u.exports},"5d1f":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"flex justify-between"},[i("div",{staticClass:"col-auto flex items-center"},[i("div",{staticClass:"col-auto flex flex-center"},[i("q-avatar",[i("q-img",{attrs:{src:t.$store.state.user.user_info.mugshot_url||t.nidinImg,ratio:1}})],1)],1),i("div",{staticClass:"font-size-subtitle-1 q-pl-md col flex items-center"},[i("div",[i("span",{staticClass:"text-bold"},[t._v("\n            "+t._s(t.$store.state.user.user_info.nickname)+"\n          ")]),i("br")])])]),i("div",{staticClass:"col q-mb-sm row reverse"},[i("div",{staticClass:"flex items-center subtotal_price no-wrap"},[i("div",{staticClass:"flex reverse-wrap justify-end"},[i("span",{staticClass:"text-dark"},[t._v("\n            $"+t._s(t.singlePeoplePrice(t.products))+"\n            "),i("span",[t._v("\n              / "+t._s(t.getAmount(t.products))+"\n              "+t._s(t.$t("order.item"))+"\n            ")])])])])])]),t.productOffName&&!t.clearMessage&&"VoucherOrderList"!==t.$route.name?i("message-block",{staticClass:"q-mt-sm",attrs:{blockColor:"background-color: #F9A62814;",content:["商品更新："+t.productOffName+"無法訂購，已代為移除。"],iconColor:"warning",icon:"fas fa-exclamation-circle",showClose:!0},on:{"message-event":t.messageEvent}}):t._e(),t.products&&t.products.length?i("div",t._l(t.products,(function(e,s){return i("div",{key:"main-prod-"+s,staticClass:"block q-pa-md prod-list"},[i("div",{staticClass:"row justify-between no-wrap"},[i("div",{staticClass:"q-mb-sm q-mb-sm col-sm-10 cursor-pointer",on:{click:function(i){return t.openProdModal(e.detail_id,e)}}},[i("div",{staticClass:"q-py-xs"},[i("div",{staticClass:"d-flex row"},[i("div",{staticClass:"q-mr-sm"},[2===e.type?i("span",{staticClass:"border-label font-size-overline text-primary q-mr-sm"},[t._v("\n                  套票\n                ")]):t._e(),i("span",{staticClass:"text-bold"},[t._v(t._s(e.name))])])])]),i("div",{staticClass:"col"},[i("prod-detail",{staticClass:"col prod-detail-font",attrs:{prodSimple:e}})],1)]),i("div",{staticClass:"flex q-ml-auto no-wrap col-auto"},[t.canEdit?i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex col-auto items-top q-mr-md",on:{click:function(i){return t.openProdModal(e.detail_id,e)}}},[i("div",{staticClass:"cursor-pointer "},[i("q-avatar",{staticClass:"b-button",attrs:{size:"24px"}},[i("q-icon",{staticClass:"avator-icon-reset",attrs:{name:"fas fa-pencil-alt",size:"12px",color:"white"}})],1)],1)]):t._e(),t.canEdit?i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex col-auto items-top",on:{click:function(i){return t.delItemSet(e)}}},[i("div",{staticClass:"cursor-pointer"},[i("q-avatar",{staticClass:"g-button",attrs:{size:"24px","text-color":"white"}},[i("q-icon",{staticClass:"avator-icon-reset",attrs:{name:"fas fa-trash-alt",size:"12px",color:"white"}})],1)],1)]):t._e()])])])})),0):t._e(),0===t.products.length?i("div",[t._m(0)]):t._e(),t.products.length?t._e():i("div",{staticClass:"flex flex-center",staticStyle:{height:"150px"}},[t._v("\n    趕快去加購商品吧！\n  ")]),i("menu-modal",{attrs:{editProd:t.edit_prod,getOrderInfo:t.getOrderInfo,itemSetUid:t.item_set_uid,"show-modal":t.show.modal_prod,orderId:t.$route.params.order_id,orderInfo:t.orderInfo,prodId:t.prod_id,storeInfo:t.storeInfo},on:{"update:showModal":function(e){return t.$set(t.show,"modal_prod",e)},"update:show-modal":function(e){return t.$set(t.show,"modal_prod",e)},clearEditProd:t.clearEditProd}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block q-pa-md prod-list q-mb-md"},[i("div",{staticClass:"text-bold q-py-xs"},[t._v("\n        無商品\n      ")])])}],r=(i("6762"),i("2fdb"),i("7f7f"),i("2ef0")),n=i.n(r),a=i("791e"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.prodSimple.voucher_map?i("div",{staticClass:"nd-my-1"},t._l(t.prodSimple.voucher_map,(function(e){return i("div",{key:"item-"+e.name,staticClass:"text-gray-2 font-size-caption"},[t._v("\n      "+t._s(e.name)+" "+t._s(e.amount)+" 張\n    ")])})),0):t._e(),i("div",{staticClass:"flex items-center text-gray-2 font-size-caption"},[i("span",[i("span",[t._v("$"+t._s(t.prodSimple.price)+" / "+t._s(t.prodSimple.amount)+"份")]),t.prodSimple.refund_amount?i("span",[t._v(" (已退貨"+t._s(t.prodSimple.refund_amount)+"份)")]):t._e()])]),t.prodSimple.remark_memo?i("div",{staticClass:"text-gray-2 font-size-caption"},[i("q-icon",{staticClass:"fas fa-quote-left q-mx-none"}),t._v(" "+t._s(t.prodSimple.remark_memo)+"\n  ")],1):t._e(),t.prodSimple.sticker_memo?i("div",{staticClass:"text-gray-2 font-size-caption"},[i("q-icon",{staticClass:"q-mx-none",attrs:{name:"account_circle"}}),t._v(" "+t._s(t.prodSimple.sticker_memo)+"\n  ")],1):t._e()])},u=[],d={name:"VoucherProdDetail",props:{prodSimple:Object}},l=d,M=i("2877"),h=Object(M["a"])(l,c,u,!1,null,null,null),p=h.exports,m=i("1329"),g=i("2093"),_=i.n(g),f=i("45889"),y={name:"VoucherProductList",mixins:[a["a"]],components:{"prod-detail":p,"menu-modal":m["a"],"message-block":f["a"]},props:{menu:Object,menuInfo:Object,orderInfo:Object,storeInfo:Object,orderOthers:Object,productOff:Array},data:function(){return{show:{modal_prod:!1},prod_id:0,edit_prod:{},item_set_uid:0,times:0,use_limit:0,clearMessage:!1}},methods:{getAmount:function(t){var e=0;return t.forEach((function(t){e+=t.amount})),e},clearEditProd:function(t){t&&(this.edit_prod={})},delItemSet:function(t){var e=this,i=t.name;this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"刪除"+i+"嗎？",ok:"刪除",cancel:this.$t("dialog.cancel")}).onOk((function(){e.delProd(t.product_id,i);var s=[{item_id:t.product_id,item_name:i,item_brand:e.orderInfo.brand_name||"unknow",price:t.price,quantity:t.amount}];e.setGATag("remove_from_cart",t.product_id,{currency:"TWD",value:t.price*t.amount,items:s})}))},delProd:function(t,e){var i=this,s=this.$route.params.order_id,o="/voucherOrder/"+s+"/cartProductItem/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.$q.notify({icon:"check_circle",message:"成功刪除"+e,color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},getOrderInfo:function(){var t=this,e=this.$route.params.order_id,i="/voucherOrder/"+e+"/info";this.getDataH(i,null).then((function(e){200===e.data.status&&(t.$set(t.orderInfo,"total_paid_money",e.data.order_info.basic.total_paid_money),t.$set(t.orderInfo,"total_money",e.data.order_info.basic.total_money),t.$set(t.orderInfo,"money",e.data.order_info.basic.money),t.$set(t.orderInfo,"total_amount",e.data.order_info.basic.total_amount),t.$set(t.orderInfo,"amount",e.data.order_info.basic.amount),t.$set(t.orderOthers.order_info,"product",e.data.order_info.product),t.$set(t.orderOthers.order_info.basic,"invalid_product_simple",e.data.order_info.basic.invalid_product_simple))})).catch((function(t){}))},openProdModal:function(t,e){this.canEdit?(this.item_set_uid=t,this.edit_prod=e,this.prod_id=e.product_id,this.show.modal_prod=!0):this.show.modal_prod=!1},singlePeoplePrice:function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];e+=s.price*s.amount}return this.roundingNum(this.orderInfo.rounding_type,e)},messageEvent:function(){this.deleteChangeProductInfoInCart()},delProdOff:function(){var t=this,e=this.$route.params.order_id,i="/voucherOrder/"+e+"/changeProduct";this.postDataH(i,null).then((function(e){200===e.data.status&&t.getOrderInfo()})).catch((function(t){}))},deleteChangeProductInfoInCart:function(){var t=this,e=this.$route.params.order_id,i="/voucherOrder/".concat(e,"/invalidProduct");this.delDataH(i).then((function(){t.clearMessage=!0})).catch((function(t){}))}},mounted:function(){this.productOff&&this.productOff.length&&this.delProdOff()},computed:{newProdSettingList:function(){var t=this.$q.localStorage.getItem("Nidin_"+this.storeInfo.id+"_prod_setting");return this.prodSettingList?this.prodSettingList:t||[]},products:function(){return this.orderOthers.order_info.product&&this.orderOthers.order_info.product.length?this.orderOthers.order_info.product:[]},nidinImg:function(){return _.a},canEdit:function(){return"VoucherOrderListInfo"!==this.$route.name},productOffName:function(){var t="";if(this.orderOthers.order_info.basic.invalid_product_simple&&this.orderOthers.order_info.basic.invalid_product_simple.length){var e=this.orderOthers.order_info.basic.invalid_product_simple,i=e.filter((function(t){return t.change_type.includes(2)})).map((function(t){return t.old_name}))||[];t=n.a.uniq(i).join("、")}return t}}},I=y,N=(i("d6bf"),Object(M["a"])(I,s,o,!1,null,"6598e5cd",null));e["a"]=N.exports},"5e75":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMC41ODU5IDYuOTg1MzVMMzMuNDE0NCA5LjgxMzc4TDE5LjI3MjIgMjMuOTU1OUwzMy40MTQ0IDM4LjA5OEwzMC41ODU5IDQwLjkyNjVMMTUuMDI5NyAyNS4zNzAzQzE1LjAyOTYgMjUuMzcwMiAxNS4wMjk2IDI1LjM3MDEgMTYuNDQzOCAyMy45NTU5TDE1LjAyOTcgMjUuMzcwM0wxMy42MTU0IDIzLjk1NTlMMzAuNTg1OSA2Ljk4NTM1WiIgZmlsbD0iIzYxNjE2MSIvPgo8L3N2Zz4K"},"5ee5":function(t,e,i){},6016:function(t,e,i){t.exports=i.p+"img/memberCard_nidin.a8c410b7.png"},"60f4":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJpZC1jYXJkIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtaWQtY2FyZCBmYS13LTE4IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDU3NiA1MTIiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTUyOCAzMkg0OEMyMS41IDMyIDAgNTMuNSAwIDgwdjE2aDU3NlY4MGMwLTI2LjUtMjEuNS00OC00OC00OHpNMCA0MzJjMCAyNi41IDIxLjUgNDggNDggNDhoNDgwYzI2LjUgMCA0OC0yMS41IDQ4LTQ4VjEyOEgwdjMwNHptMzUyLTIzMmMwLTQuNCAzLjYtOCA4LThoMTQ0YzQuNCAwIDggMy42IDggOHYxNmMwIDQuNC0zLjYgOC04IDhIMzYwYy00LjQgMC04LTMuNi04LTh2LTE2em0wIDY0YzAtNC40IDMuNi04IDgtOGgxNDRjNC40IDAgOCAzLjYgOCA4djE2YzAgNC40LTMuNiA4LTggOEgzNjBjLTQuNCAwLTgtMy42LTgtOHYtMTZ6bTAgNjRjMC00LjQgMy42LTggOC04aDE0NGM0LjQgMCA4IDMuNiA4IDh2MTZjMCA0LjQtMy42IDgtOCA4SDM2MGMtNC40IDAtOC0zLjYtOC04di0xNnpNMTc2IDE5MmMzNS4zIDAgNjQgMjguNyA2NCA2NHMtMjguNyA2NC02NCA2NC02NC0yOC43LTY0LTY0IDI4LjctNjQgNjQtNjR6TTY3LjEgMzk2LjJDNzUuNSAzNzAuNSA5OS42IDM1MiAxMjggMzUyaDguMmMxMi4zIDUuMSAyNS43IDggMzkuOCA4czI3LjYtMi45IDM5LjgtOGg4LjJjMjguNCAwIDUyLjUgMTguNSA2MC45IDQ0LjIgMy4yIDkuOS01LjIgMTkuOC0xNS42IDE5LjhIODIuN2MtMTAuNCAwLTE4LjgtMTAtMTUuNi0xOS44eiI+PC9wYXRoPjwvc3ZnPg=="},"612a":function(t,e,i){},"621d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{class:{"q-px-md":"orderListInfoV1"!==t.$route.name}},[s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"flex col"},[s("div",{staticClass:"col-auto flex flex-center"},[s("q-avatar",[s("q-img",{attrs:{src:t.$store.state.user.user_info.mugshot_url||t.nidinImg,ratio:1}})],1)],1),s("div",{staticClass:"font-size-subtitle-1 q-pl-md col flex items-center"},[s("div",[s("span",{staticClass:"text-bold"},[t._v(t._s(t.$store.state.user.user_info.nickname))]),s("br")])])]),s("div",{staticClass:"flex col-auto items-center q-pr-sm"},[s("div",{staticClass:" flex items-center text-bold"},[s("q-icon",{staticClass:"q-mr-xs",staticStyle:{bottom:"-1px"},attrs:{name:"monetization_on",size:"20px",color:"warning"}}),t.orderOthers.order_info.product_coupon.total_discount?t._e():s("span",{staticClass:"q-mr-sm",class:{"text-strike text-grey-6":t.orderOthers.order_info.allowance.total_allowance}},[t._v(t._s(t.singlePeoplePrice(t.orderOthers.order_info.product_simple)))]),t.orderOthers.order_info.product_coupon.total_discount?s("span",{staticClass:"q-mr-sm",class:{"text-strike text-grey-6":t.orderOthers.order_info.allowance.total_allowance}},[s("s",[t._v(t._s(t.singlePeoplePrice(t.orderOthers.order_info.product_simple)))])]):t._e(),t.orderOthers.order_info.product_coupon.total_discount?s("span",[t._v(t._s(t.singlePeoplePrice(t.orderOthers.order_info.product_simple)-t.orderOthers.order_info.product_coupon.total_discount))]):t._e(),t.orderOthers.order_info.allowance.total_allowance?s("span",[t._v(t._s(t.singlePeoplePrice(t.orderOthers.order_info.product_simple)-t.orderOthers.order_info.allowance.total_allowance))]):t._e()],1)])]),t.orderOthers.order_info.product_simple?s("div",{staticClass:"q-mt-sm"},[s("ul",{staticClass:"prod-list"},t._l(t.products,(function(e,i){return s("li",{key:"main-prod-"+i,staticClass:"flex justify-between q-pa-sm"},[e.has_coupon&&t.use_coupon(e.item_set_uid)?s("div",{staticClass:"q-my-xs q-mr-sm inline-block self-center prod_coupon_btn"},[s("button",{staticStyle:{"font-size":"10px","background-color":"#519AF8",width:"60px",height:"23px",color:"#FFF",border:"solid 1px #2796fb","border-radius":"3px"},on:{click:function(i){return t.showCouponModal(e.item_set_uid)}}},[t._v("已折扣")])]):t._e(),e.has_coupon&&!t.use_coupon(e.item_set_uid)?s("div",{staticClass:"q-my-xs q-mr-sm inline-block self-center prod_coupon_btn"},[s("button",{staticStyle:{"font-size":"10px","background-color":"white",color:"#2796fb",border:"solid 1px #2796fb",width:"60px",height:"35px",padding:"2px 13px 2px 14px","border-radius":"3px"},on:{click:function(i){return t.showCouponModal(e.item_set_uid)}}},[t._v("使用折扣")])]):t._e(),s("div",{staticClass:"flex col",class:{"cursor-pointer":t.canEdit&&!e.is_disabled&&!t.isDisTime(e)},on:{click:function(i){return t.openProdModal(e.item_set_uid,e)}}},[s("prod-detail",{staticClass:"col",attrs:{prodSimple:e,type:t.orderOthers.order_info.product?1:0,disableList:t.disableList,storeInfo:t.storeInfo,orderType:t.orderInfo.order_type}})],1),s("div",{staticClass:"flex col-auto items-center"},[t.canEdit?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer",on:{click:function(i){return t.delItemSet(e)}}},[s("q-icon",{attrs:{name:"delete",size:"20px",color:"secondary"}})],1):t._e()])])})),0)]):t._e(),2===t.orderInfo.order_type&&t.followerList.length?s("div",t._l(t.followerList,(function(e,i){return s("div",{key:"follower"+i},[s("hr",{staticClass:"q-my-md"}),s("div",{staticClass:"flex justify-between q-mb-sm"},[s("div",{staticClass:"flex col"},[s("div",{staticClass:"col-auto flex flex-center"},[s("q-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer",on:{click:function(i){return t.openMemberModal(e)}}},[s("q-img",{attrs:{src:e.contact_mugshot||t.nidinImg,ratio:1}})],1)],1),s("div",{staticClass:"font-size-subtitle-1 q-pl-md col flex items-center"},[s("span",{staticClass:"text-bold cursor-pointer",on:{click:function(i){return t.openMemberModal(e)}}},[t._v(t._s(e.contact_name))]),t.getFollowerEndPrice(e)?s("q-icon",{staticStyle:{top:"3px"},attrs:{size:"12px",name:"fas fa-ticket-alt"}}):t._e(),s("br")],1)]),s("div",{staticClass:"col-auto flex items-center q-pr-sm"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer flex items-center text-bold",on:{click:function(i){return t.updateMoney(e)}}},[s("q-icon",{staticClass:"q-mr-xs",staticStyle:{bottom:"-1px"},attrs:{name:"monetization_on",size:"20px",color:e.is_collect_money?"warning":"grey-5"}}),s("span",{staticClass:"q-mr-sm",class:t.orderOthers.group_buy_follower_order_coupons[e.order_id]?"text-del":e.product_coupon.total_discount?"text-del":""},[t._v(t._s(t.singlePeoplePrice(e.product_simple)))]),t.getFollowerEndPrice(e)?s("span",{staticClass:"q-mr-sm"},[t._v(t._s(t.getFollowerEndPrice(e)))]):t._e()],1)])]),e.member_remark?s("div",{staticClass:"bg-gray-5 q-px-sm text-gray-2"},[s("q-icon",{staticClass:"q-mx-none",attrs:{name:"message"}}),t._v("  "+t._s(e.member_remark)+"\n          "),s("span",{staticClass:"text-gray-2"},[t._v("留言給團主")])],1):t._e(),s("ul",{staticClass:"prod-list"},t._l(e.product_simple,(function(e,o){return s("li",{key:"follower-prod-"+i+"-"+o,staticClass:"flex justify-between q-pa-sm"},[s("div",{staticClass:"flex col"},[s("prod-detail",{staticClass:"col",attrs:{prodSimple:e,disableList:t.disableList,storeInfo:t.storeInfo,orderType:t.orderInfo.order_type}})],1)])})),0)])})),0):t._e(),t.orderOthers.order_info.product_simple.length||t.followerList.length?t._e():s("div",{staticClass:"flex flex-center",staticStyle:{height:"150px"}},[t._v("\n      趕快去加購商品吧！\n    ")]),t.canEdit&&2===t.orderInfo.order_type?s("div",{staticClass:"flex flex-center text-center q-my-sm"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer bg-white q-py-sm border-around q-px-md text-grey-6 text-bold",attrs:{disabled:!t.can_refresh},on:{click:t.refreshOrder}},[s("q-icon",{staticClass:"q-ma-xs",attrs:{name:"fas fa-sync-alt",size:"15px",color:"grey-6"}}),t._v("\n        重新取得團員訂單\n      ")],1)]):t._e()]),t.prod_id?s("div",[s("menu-modal",{attrs:{menu:t.menu,prodId:t.prod_id,storeInfo:t.storeInfo,layout:t.layout,iconList:t.iconList,imgList:t.imgList,disableList:t.disableList,orderInfo:t.orderInfo,orderId:t.$route.params.order_id,modalShow:t.show,menuInfo:t.menuInfo,editProd:t.edit_prod,itemSetUid:t.item_set_uid,orderOthers:t.orderOthers,getOrderInfo:t.getOrderInfo,useCoupon:t.useCoupon},on:{clearEditProd:t.clearEditProd}})],1):t._e(),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_follower,callback:function(e){t.$set(t.show,"modal_follower",e)},expression:"show.modal_follower"}},[s("q-card",{staticClass:"bg-white nidin-modal min-h-none"},[s("div",{staticClass:"flex justify-between q-mb-sm"},[s("div",{staticClass:"flex col"},[s("div",{staticClass:"col-auto flex flex-center"},[s("q-avatar",[s("q-img",{attrs:{src:t.follower_info.contact_mugshot||t.nidinImg,ratio:1}})],1)],1),s("div",{staticClass:"font-size-subtitle-2 q-pl-md col flex items-center"},[s("span",{staticClass:"text-bold cursor-pointer"},[t._v(t._s(t.follower_info.contact_name))]),s("br")])]),s("div",{staticClass:"col-auto q-pr-sm flex flex-center"},[t.canEdit?t._e():s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer flex items-center text-bold",on:{click:function(e){return t.updateMoney(t.follower_info)}}},[s("q-icon",{staticClass:"q-mr-xs",staticStyle:{bottom:"-1px"},attrs:{name:"monetization_on",size:"20px",color:t.follower_info.is_collect_money?"warning":"grey-5"}}),t.follower_info.product_simple?s("span",{staticClass:"q-mr-sm"},[t._v(t._s(t.singlePeoplePrice(t.follower_info.product_simple)))]):t._e()],1),"orderListInfoV1"!==t.$route.name?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer",on:{click:function(e){return t.delMemberOrder()}}},[s("q-icon",{attrs:{name:"delete",size:"18px",color:"secondary"}})],1):t._e()])]),s("div",[s("hr",{staticClass:"q-my-md"}),s("div",{staticClass:"flex flex-center"},[s("div",{staticClass:"font-size-subtitle-1"},[t.follower_info.contact_method_remark?s("small",{staticClass:"text-gray-2"},[s("q-icon",{staticClass:"q-mx-none",attrs:{name:"fas fa-phone"}}),t._v("  "+t._s(t.follower_info.contact_method_remark)),s("br")],1):t._e(),t.follower_info.member_remark?s("small",{staticClass:"text-gray-2"},[s("q-icon",{staticClass:"q-mx-none",attrs:{name:"message"}}),t._v("  "+t._s(t.follower_info.member_remark)),s("br")],1):t._e(),s("small",{staticClass:"text-gray-2"},[s("q-icon",{staticClass:"q-mx-none",staticStyle:{top:"-1px"},attrs:{name:"monetization_on",color:t.follower_info.is_collect_money?"warning":"grey-8",size:"18px"}}),t._v(" "+t._s(t.collectMoney(t.follower_info.is_collect_money))),s("br")],1),t.followerCoupon.length?s("small",{staticClass:"text-gray-2"},[s("q-icon",{staticClass:"q-mx-none",staticStyle:{top:"-1px"},attrs:{name:"fas fa-ticket-alt"}}),t._v("  使用"+t._s(t.followerCoupon.length)+"張優惠券，共折"+t._s(t.followerCount)+"元\n              "),s("br")],1):t._e()])])])])],1),s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.alert_show.single_coupon,callback:function(e){t.$set(t.alert_show,"single_coupon",e)},expression:"alert_show.single_coupon"}},[s("q-card",{staticClass:"q-card bg-white nidin-modal",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.alert_show.single_coupon=!1}}}),s("q-card-actions",{staticClass:"row"},[s("div",{staticClass:"text-bold font-size-subtitle-2"},[t._v("可選 "+t._s(t.canUseLimit)+" 張優惠券")])]),s("q-card-section",{staticClass:"col scroll q-pa-none",style:t.$q.screen.lt.sm?"min-height: calc("+t.dialogH+"px - 165px); max-height: calc("+t.dialogH+"px - 165px);":"max-height: calc("+t.dialogH+"px - 300px)"},[s("div",{staticClass:"q-mb-md"},[s("div",{staticClass:"q-pb-sm"}),s("div",{staticClass:"q-pb-sm"}),s("div",{staticClass:"q-my-sm q-px-md bg-gray-5"},t._l(t.choseCouponList,(function(e,i){return s("div",{key:"coupon-"+e.coupon_item_id,staticClass:"q-pt-md",class:{"q-pb-md":i===t.choseCouponList.length-1}},[s("coupon-card",{attrs:{couponInfo:e,clickCoupon:t.clickCoupon,chooseCodes:t.coupon_codes,edit:!0}})],1)})),0)])]),s("q-card-actions",{staticClass:"row q-pt-md q-px-none border-top"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",attrs:{disabled:t.show.btn_spinner},on:{click:function(e){return t.saveOrderInfo()}}},[t.show.btn_spinner?s("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):t.coupon_codes.length?s("span",[t._v("選擇"+t._s(t.coupon_codes.length)+"張優惠券")]):s("span",[t._v(t._s(t.$t("common.save")))])],1)],1)])],1)],1)],1)},o=[],r=(i("6b54"),i("967e")),n=i.n(r),a=(i("551c"),i("06db"),i("96cf"),i("fa84")),c=i.n(a),u=(i("7514"),i("7f7f"),i("20d6"),i("c5f6"),i("791e")),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"text-bold"},[t._v("\n    "+t._s(t.getProdName(t.prodSimple.name,t.prodSimple))+"\n    "),t.prodSimple.is_disabled||t.isDisTime&&3!==t.orderType?i("div",{staticClass:"q-my-xs q-mr-sm i-m-none inline-block",staticStyle:{height:"15px",width:"38px",top:"2px"}}):t.isDisTime?i("div",{staticClass:"q-my-xs q-mr-sm i-m-none-time inline-block",staticStyle:{height:"15px",width:"38px",top:"2px"}}):t._e()]),1===t.type?i("div",{staticClass:"flex items-center text-gray-2"},[1===t.prodSimple.type?i("span",[t._l(t.prodSimple.options,(function(e){return i("span",[t._v(t._s(e.name)),e.amount>1?i("span",[t._v("x"+t._s(e.amount))]):t._e(),t._v(" / ")])})),t._l(t.prodSimple.adjusts,(function(e){return i("span",t._l(e.options,(function(e){return i("span",[i("span",{class:{"text-del":e.is_disabled}},[t._v(t._s(e.name)),e.amount>1?i("span",[t._v("x"+t._s(e.amount))]):t._e()]),t._v(" /\n        ")])})),0)})),i("span",[t._v("$"+t._s(t.prodSimple.total_price)+" / "+t._s(t.prodSimple.amount)+"份")])],2):3===t.prodSimple.type&&(t.prodSimple.items.length||t.prodSimple.blocks.length)?i("span",[t._l(t.prodSimple.blocks,(function(e){return i("span",t._l(e.items,(function(e){return i("span",[i("span",{class:{"text-del":e.is_disabled}},[t._v(t._s(e.name))]),e.amount>1?i("span",[t._v("x"+t._s(e.amount))]):t._e(),t._v(" /\n        ")])})),0)})),t._l(t.prodSimple.items,(function(e){return i("span",{key:"package-prod-"+e.set_uid+"-"+t.iIndex},[i("span",{class:{"text-del":e.is_disabled}},[t._v(t._s(e.name))]),e.amount>1?i("span",[t._v("x"+t._s(e.amount))]):t._e(),t._v(" /\n      ")])})),i("span",[t._v("$"+t._s(t.prodSimple.total_price)+" / "+t._s(t.prodSimple.amount)+"份")])],2):t._e()]):i("div",{staticClass:"flex items-center text-gray-2"},[1===t.prodSimple.type?i("span",[t.prodSimple.additional_name?i("span",[t._v(t._s(t.spiltString(t.prodSimple.additional_name))+" / ")]):t._e(),i("span",[t._v("$"+t._s(t.prodSimple.total_price||t.prodSimple.price)+" / "+t._s(t.prodSimple.amount)+"份")])]):3===t.prodSimple.type&&t.prodSimple.items.length?i("span",[t._l(t.prodSimple.items,(function(e,s){return i("span",{key:"package-prod-"+e.set_uid+"-"+s},[t._v(t._s(e.name)),e.amount>1?i("span",[t._v("x"+t._s(e.amount))]):t._e(),t._v(" / ")])})),i("span",[t._v("$"+t._s(t.prodSimple.total_price||t.prodSimple.price)+" / "+t._s(t.prodSimple.amount)+"份")])],2):t._e()]),3===t.prodSimple.type&&(t.prodSimple.items.length||t.prodSimple.blocks.length)&&1===t.type?i("div",{staticClass:"text-gray-2"},t._l(t.prodSimple.blocks,(function(e){return i("div",t._l(e.items,(function(e){return e.options.length||e.adjusts.length?i("div",[t._v("\n        特製調整"+t._s(e.name)+" -\n        "),t._l(e.options,(function(e){return i("span",[t._v(t._s(e.name)),e.amount>1?i("span",[t._v("x"+t._s(e.amount))]):t._e(),t._v(" / ")])})),t._l(e.adjusts,(function(s,o){return i("span",t._l(s.options,(function(r,n){return i("span",[i("span",{class:{"text-del":r.is_disabled}},[t._v(t._s(r.name)),r.amount>1?i("span",[t._v("x"+t._s(r.amount))]):t._e()]),n<s.options.length-1||o<e.adjusts.length-1?i("span",[t._v(" / ")]):t._e()])})),0)})),i("br")],2):t._e()})),0)})),0):3===t.prodSimple.type&&t.prodSimple.items.length?i("div",{staticClass:"text-gray-2"},t._l(t.prodSimple.items,(function(e,s){return i("div",{key:"package-prod-"+e.set_uid+"-"+s},[e.additional_name?i("div",[t._v("\n        特製調整"+t._s(e.name)+" - "+t._s(t.spiltString(e.additional_name))),i("br")]):t._e()])})),0):t._e(),t.prodSimple.sticker_memo?i("div",{staticClass:"text-gray-2"},[i("q-icon",{staticClass:"q-mx-none",attrs:{name:"account_circle"}}),t._v(" "+t._s(t.prodSimple.sticker_memo)+"\n  ")],1):t._e()])},l=[],M=(i("28a5"),{props:{storeInfo:Object,prodSimple:Object,type:Number,disableList:Object,orderType:Number},data:function(){return{alert_show:{single_coupon:!1},show:{modal_coupon_info_detail:!1},canUseLimit:20,couponClassList:{}}},methods:{getProdName:function(t,e){var i=0;if(e.product_id&&(i=e.product_id),i&&this.newProdSettingList){var s=this.newProdSettingList[i];if(s&&s.alias_list.length)return s.alias_list[0]}return t},spiltString:function(t){return t.split("/").join(" / ")},showCouponModal:function(){this.alert_show.single_coupon=!0}},computed:{newProdSettingList:function(){var t=this.$q.localStorage.getItem("Nidin_"+this.storeInfo.id+"_prod_setting");return this.prodSettingList?this.prodSettingList:t||[]},isDisTime:function(){if(this.disableList.schedule&&this.prodSimple.product_id){var t=this.disableList.schedule.product_open[this.prodSimple.product_id];if(t)for(var e=t.setting_list,i=0;i<e.length;i++){var s=e[i],o=this.disableList.setting_list[s].is_applicable;if(3===this.orderType)return!0;if(o)return!0}}return!1}}}),h=M,p=i("2877"),m=Object(p["a"])(h,d,l,!1,null,null,null),g=m.exports,_=i("266c"),f=i("2093"),y=i.n(f),I=i("afab"),N=i("11b0"),D={mixins:[u["a"]],components:{"prod-detail":g,"menu-modal":_["a"],"coupon-card":I["a"],"i-select":N["a"]},props:{menu:Object,menuInfo:Object,orderInfo:Object,storeInfo:Object,orderOthers:Object,followerList:Array,showError:Object,layout:Number,iconList:Object,imgList:[Array,Object],disableList:Object,updateOrder:Function,getCoupons:Function,useCoupon:Object},data:function(){return{alert_show:{single_coupon:!1},show:{modal_store_info:!1,modal_prod:!1,modal_follower:!1},prod_id:0,edit_prod:{},item_set_uid:0,follower_info:{},can_refresh:!0,appliable_prod_coupon:[],coupon_codes:[],coupon_codes_all:[],coupon_class:{},coupon_class_opt:{name:"",label:"優惠券活動"},save_coupon_codes:[],times:0,use_limit:0,prod_coupon_data:{total_discount:0,coupons:[]},product_id:null}},methods:{clearEditProd:function(t){t&&(this.edit_prod=void 0)},use_coupon:function(t){var e=this;return!!e.orderOthers.order_info.product_coupon.item_list[t]},clickCoupon:function(t,e){this.show.btn_spinner=!0;var i=this.coupon_codes.findIndex((function(e){return t===e}));i>-1?(this.coupon_codes.splice(i,1),this.coupon_codes_all.splice(i,1),this.show.btn_spinner=!1):this.coupon_codes.length+1>this.canUseLimit?(this.coupon_codes=[],this.coupon_codes_all=[],this.coupon_codes.push(t),this.coupon_codes_all.push(e),this.show.btn_spinner=!1):(this.coupon_codes.push(t),this.coupon_codes_all.push(e),this.show.btn_spinner=!1)},saveOrderInfo:function(){var t=this;this.save_coupon_codes=[],this.save_coupon_codes=JSON.parse(JSON.stringify(t.coupon_codes)),this.coupon_codes_all.forEach((function(e,i,s){t.prod_coupon_data.coupons[i]={code:null,discount:null},t.prod_coupon_data.coupons[i].code=e.code,t.prod_coupon_data.coupons[i].discount=e.unit_discount,t.prod_coupon_data.total_discount=t.prod_coupon_data.total_discount+e.unit_discount})),this.ProdCoupon_post(t.prod_coupon_data),this.alert_show.single_coupon=!1,t.coupon_codes=[],t.coupon_codes_all=[],t.prod_coupon_data={total_discount:0,coupons:[]}},cleanCouponinfo:function(){var t=this;t.getOrderInfo()},isDisTime:function(t){if(this.disableList.schedule&&t.product_id){var e=this.disableList.schedule.product_open[t.product_id];if(e)for(var i=e.setting_list,s=0;s<i.length;s++){var o=i[s],r=this.disableList.setting_list[o].is_applicable;if(r)return!0}}return!1},setDefault:function(){this.save_coupon_codes=[],this.$set(this.useCoupon,"coupon_codes",this.save_coupon_codes),this.$set(this.useCoupon,"coupon_money",0)},getFollowerEndPrice:function(t){var e=this.orderOthers.group_buy_follower_order_coupons[t.order_id],i=t.product_coupon.total_discount;if(e&&i){var s=this.singlePeoplePrice(t.product_simple),o=0;if(e.forEach((function(t){1===t.discount_type&&(o+=t.discount_value),2===t.discount_type&&(o+=t.money)})),i&&(o+=i),s-o>0)return this.$store.commit("order/setCouponMoney",o),s-o}else if(e&&!i){var r=this.singlePeoplePrice(t.product_simple),n=0;if(e.forEach((function(t){1===t.discount_type&&(n+=t.discount_value),2===t.discount_type&&(n+=t.money)})),r-n>0)return this.$store.commit("order/setCouponMoney",n),r-n}else if(i&&!e){var a=this.singlePeoplePrice(t.product_simple),c=0;if(c+=i,a-c>0)return this.$store.commit("order/setCouponMoney",c),a-c}return 0},onlyUpdateGb:function(t,e){var i=this,s=this.$route.params.order_id,o="/order/"+s+"/groupBuyingStatus";this.putDataH(o,t).then((function(t){e&&e(t)})).catch((function(t){e&&(t.data.status===i.$config.timeError&&i.$q.dialog({class:"nidin-dialog",title:i.$t("dialog.notice"),message:t.data.description,ok:{label:i.$t("dialog.ok"),color:"primary",textColor:"white"},html:!0}).onOk((function(){i.step=1})),e(t))}))},updateGBstatus:function(){var t=this,e=this.orderInfo.group_buying_status,i=10;10===e&&(i=20);var s={group_buying_status:i};this.onlyUpdateGb(s,(function(){t.$set(t.orderInfo,"group_buying_status",i);var e="關閉",s="accent";10===i&&(s="positive",e="開啟"),t.$q.notify({message:"已"+e+"揪團功能",color:s,timeout:2500,position:"bottom"})}))},addFriend:function(){this.show.modal_follower=!1},refreshOrder:function(){var t=this;this.can_refresh=!1,this.$q.notify({message:"已重新讀取訂單",color:"positive",timeout:2500,position:"bottom"}),setTimeout((function(){t.can_refresh=!0}),2500),this.getOrderInfo()},delMemberOrder:function(){var t=this;if(this.follower_info.order_id){var e=this.follower_info.contact_name,i=this.follower_info.order_id;this.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:"刪除"+e+"的訂單嗎？",cancel:t.$t("dialog.cancel"),ok:{label:t.$t("dialog.delete"),color:"primary",textColor:"white"}}).onOk((function(){t.delMember(i,e)}))}},delMember:function(t,e){var i=this,s=this.$route.params.order_id,o="/carts/"+s+"/subOrder/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.show.modal_follower=!1,i.$q.notify({icon:"check_circle",message:"成功刪除"+e+"的訂單",color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},collectMoney:function(t){return t?"已付款囉":"還沒付款"},openMemberModal:function(t){this.follower_info=t,this.show.modal_follower=!0},updateMoney:function(t){var e=this,i=this.$route.params.order_id,s="/order/"+i+"/subOrderCollectStatus",o={};t.is_collect_money?o.disable=t.order_id:o.enable=t.order_id,this.putDataH(s,o).then((function(i){if(200===i.data.status){var s=t.contact_name+"還不付款",r="accent";o.disable||(s=t.contact_name+"已付款囉",r="positive"),e.$q.notify({avatar:t.contact_mugshot,message:s,color:r,timeout:2500,position:"bottom"}),t.is_collect_money=!t.is_collect_money}})).catch((function(t){}))},getProdName:function(t,e){var i=0;if(e.product_id&&(i=e.product_id),i&&this.newProdSettingList){var s=this.newProdSettingList[i];if(s&&s.alias_list.length)return s.alias_list[0]}return t},delItemSet:function(t){var e=this,i=t.item_set_uid,s=t.name;this.$q.dialog({class:"nidin-dialog",title:e.$t("dialog.notice"),message:"刪除"+this.getProdName(s,t)+"嗎？",cancel:e.$t("dialog.cancel"),ok:{label:e.$t("dialog.delete"),color:"primary",textColor:"white"}}).onOk((function(){e.delProd(i,s)}))},delProd:function(t,e){var i=this,s=this.$route.params.order_id,o="/carts/"+s+"/productItem/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.$q.notify({icon:"check_circle",message:"成功刪除"+e,color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},getOrderInfo:function(){var t=this,e=this.$route.params.order_id,i="/order/"+e+"/info";this.getDataH(i,null).then((function(e){200===e.data.status&&(t.$set(t.orderInfo,"total_paid_money",e.data.order_info.basic.total_paid_money),t.$set(t.orderInfo,"total_money",e.data.order_info.basic.total_money),t.$set(t.orderInfo,"money",e.data.order_info.basic.money),t.$set(t.orderInfo,"total_amount",e.data.order_info.basic.total_amount),t.$set(t.orderInfo,"amount",e.data.order_info.basic.amount),t.$set(t.orderOthers.order_info,"allowance",e.data.order_info.allowance),t.$set(t.orderOthers.order_info,"product_coupon",e.data.order_info.product_coupon),t.$set(t.orderOthers.order_info,"product",e.data.order_info.product),t.$set(t.orderOthers.order_info,"product_simple",e.data.order_info.product_simple),t.$set(t.orderOthers.order_info,"delivery_total_money",e.data.order_info.delivery_total_money),t.$set(t.orderOthers,"group_buy_follower_order_list",e.data.group_buy_follower_order_list),t.$set(t.orderOthers,"group_buy_follower_order_coupons",e.data.group_buy_follower_order_coupons),t.$store.commit("order/setProductCouponMoney",e.data.order_info.product_coupon.total_discount||0),t.$store.commit("order/setAllowance",e.data.order_info.allowance.total_allowance||0),3===t.orderInfo.order_type&&t.getCoupons())})).catch((function(t){}))},openProdModal:function(t,e){var i=this;if(!this.canEdit||e.is_disabled||this.isDisTime(e))this.show.modal_prod=!1;else if(!this.showDisIcon){var s=this.orderOthers.order_info.product.find((function(e){if(t===e.item_set_uid)return i.item_set_uid=t,e}));this.edit_prod=s,this.prod_id=s.product_id,this.show.modal_prod=!0}},openProdCouponModal:function(t,e){var i=this;if(!this.canEdit||e.is_disabled||this.isDisTime(e))this.show.modal_prod=!1;else if(!this.showDisIcon){var s=this.orderOthers.order_info.product.find((function(e){if(t===e.item_set_uid)return i.item_set_uid=t,e}));this.edit_prod=s,this.prod_id=s.product_id,this.show.modal_prod=!0}},setTime:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){t()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),singlePeoplePrice:function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];e+=s.price*s.amount}return this.roundingNum(this.orderInfo.rounding_type,e)},setDefaultInfo:function(){var t=this.storeInfo.delivery_info;if(this.storeInfo.delivery_info){var e=this.storeInfo.delivery_info.find((function(t){return t.is_default}));e="undefined"===typeof e?t[0].delivery_type:e.delivery_type,this.orderInfo.delivery_type=e}else this.showError.contact_service=!0;var i=this.storeInfo.trade_types;i?this.orderInfo.trade_type=i[0].type:this.showError.contact_service=!0},showCouponModal:function(t){this.getProductCoupons(t),this.product_id=t,this.canUseCoupon&&(this.alert_show.single_coupon=!0)},getProductCoupons:function(t){var e=this,i=this,s=this.$route.params.order_id,o="/carts/"+s+"/productItem/"+t+"/applicableCoupons";this.getDataH(o,null).then((function(t){200===t.status&&(i.appliable_prod_coupon=t.data.applicable_coupons,i.coupon_codes=[],i.coupon_codes_all=[],i.appliable_prod_coupon.forEach((function(t){20===t.status&&(i.coupon_codes.push(t.code),i.coupon_codes_all.push(t))})),i.use_limit=t.data.usage_limit,e.canUseCoupon&&(e.alert_show.single_coupon=!0))})).catch((function(t){}))},ProdCoupon_post:function(t){var e=this,i=this.$route.params.order_id,s="/carts/"+i+"/productItem/"+this.product_id+"/coupon",o=t;this.postDataH(s,o).then((function(t){200===t.data.status&&e.getOrderInfo()}))}},created:function(){var t=c()(n.a.mark((function t(){var e;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,this.appliable_prod_coupon.length&&(this.coupon_class=this.couponClassList[0]),t.next=4,this.setDefault();case 4:return t.next=6,this.setTime().then((function(){e.orderInfo.delivery_type||e.setDefaultInfo()})).catch((function(t){}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{couponMoney:function(){for(var t=0,e=0;e<this.coupon_codes_all.length;e++){var i=this.coupon_codes_all[e];1===i.discount_type&&i.discount_value&&(t+=i.discount_value),2===i.discount_type&&i.discount_value&&(t+=i.money),101===i.discount_type&&i.discount_value&&(t+=i.discount_value)}return t},canUseCoupon:function(){return this.appliable_prod_coupon.length&&this.canUseLimit},canUseLimit:function(){var t=0;this.choseCouponList&&(t=this.choseCouponList.length);var e=this.use_limit;return t?t<e?t:e:0},choseCouponList:function(){var t=this;return t.appliable_prod_coupon},newProdSettingList:function(){var t=this.$q.localStorage.getItem("Nidin_"+this.storeInfo.id+"_prod_setting");return this.prodSettingList?this.prodSettingList:t||[]},products:function(){return this.$store.commit("order/setProductCouponMoney",this.orderOthers.order_info.product_coupon.total_discount),this.orderOthers.order_info.product||this.orderOthers.order_info.product_simple},nidinImg:function(){return y.a},followerCount:function(){var t=0;return this.followerCoupon.length&&this.followerCoupon.forEach((function(e){t+=e.money})),t},followerCoupon:function(){var t=this.orderOthers.group_buy_follower_order_coupons,e=this.follower_info.order_id;return"undefined"!==typeof e&&t&&t[e]?t[e]:[]},canEdit:function(){if("orderListInfoV1"===this.$route.name)return!1;var t=this.menuInfo.version.stamp.toString(),e=this.orderInfo.menu_ver_stamp.toString();return this.orderInfo.menu_id===this.menuInfo.menu_id&&t===e&&20!==this.$store.state.order.gb_brief.group_buying_status},openTime:function(){if(this.storeInfo.order_start_time){var t=this.getTime(2,this.storeInfo.order_start_time,"HH:mm"),e=this.getTime(2,this.storeInfo.order_end_time,"HH:mm");return t+" ~ "+e}return""},showDisIcon:function(){var t=this,e=this.disableList.product[this.categoryId],i=!1;return e&&e.forEach((function(e){e.product_id===t.prodId&&(i=!0)})),i},couponClassList:function(){var t=this.appliable_prod_coupon,e=[];return t.length&&t.forEach((function(t){var i={label:t.name,value:t.code};e.push(i)})),e},productCouponUse:function(t){var e=this;return!!e.orderOthers.order_info.product_coupon.item_list[t]}},watch:{canUseLimit:function(){this.coupon_class=this.couponClassList[0],this.times++,1!==this.times&&this.appliable_prod_coupon.length},"appliable_prod_coupon.length":function(){this.coupon_class=this.couponClassList[0]},coupon_class:function(){this.setDefault()}}},j=D,v=Object(p["a"])(j,s,o,!1,null,null,null);e["a"]=v.exports},6276:function(t,e,i){},6375:function(t,e,i){},"63f9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"disc-list text-grey-8"},[i("li",[t._v("\n      "+t._s(t.$t("coupon.exchange_date"))+"\n      "+t._s(t.showExpirationDate(t.voucher))+"\n    ")]),i("li",[t._v("\n      "+t._s("商品原價：")+"\n      "+t._s(t.voucher.unit_money||0)+" 元/件\n    ")]),t.voucher.usage_channel&&t.voucher.rule?i("li",[t._v("\n      "+t._s(t.$t("coupon.channel"))+"\n      "+t._s(t.channelText(t.voucher.usage_channel,"use"))+"\n      "),t.voucher.rule.delivery_type?i("span",[t._v("\n        "+t._s("取貨方式限"+t.deliveryText(t.voucher.rule.delivery_type))+"\n      ")]):t._e()]):t._e(),t.voucher.avail_store_range?i("li",[2===t.voucher.avail_store_range_type?i("span",[t._v("\n        "+t._s(t.$t("coupon.available"))+" 原購買門市\n      ")]):"CouponDetail"===t.$route.name?i("nd-more",{attrs:{text:t.storeText,height:75}}):i("span",[t._v("\n        "+t._s(t.storeText)+"\n      ")])],1):t._e(),i("li",[t._v("\n      "+t._s("商品說明")+"\n      "),i("div",[t._v(t._s(t.voucher.description))])]),t.info.note_info&&t.info.note_info.content&&t.info.note_info.content.length?i("li",[t._v("\n      "+t._s("注意事項")+"\n      "),i("div",[i("ol",{staticClass:"number-list"},[i("li",[t._v("本券為線上商品，購買後將歸戶至「我的券夾>電子票券」。")]),t.voucher.rule&&t.voucher.rule.order_method?i("li",[t._v("\n            本券限"+t._s(t.orderMethodName(t.voucher.rule.order_method))+"使用。\n          ")]):t._e(),t.voucher.rule&&(t.voucher.rule.excluded_by_product_coupon||t.voucher.rule.excluded_by_discount_activity)?i("li",[t._v("\n            本券不得與其他行銷活動合併使用。\n          ")]):t._e(),t._l(t.info.note_info.content,(function(e,s){return i("li",{key:"notice-"+(s+1)},[t._v("\n            "+t._s(e)+"\n          ")])}))],2)])]):t._e()])])},o=[],r=(i("ac6a"),i("cadf"),i("06db"),i("8615"),i("791e")),n=i("5bf6"),a={name:"VoucherUseInfo",mixins:[r["a"]],props:{voucher:{type:Object,default:function(){return{}},required:!0},info:{type:Object,default:function(){return{}},required:!0}},components:{"nd-more":n["a"]},computed:{storeText:function(){return this.voucher.avail_store_range&&this.voucher.avail_store_range[0]&&this.voucher.avail_store_range[0].include_store_ids?"可用門市：".concat(Object.values(this.voucher.avail_store_range[0].include_store_ids).join("、"),"。"):"可用門市：無。"}},methods:{deliveryText:function(t){var e=this;if(t&&t.length){var i=[];return t.forEach((function(t){i.push(e.deliveryName(t))})),i.join("、")+"。"}}}},c=a,u=i("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);e["a"]=d.exports},"647c":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuMzE0MyAyLjE4NTE3TDEwLjMxNDcgNS4xODU2OUwzLjc5OTQ3IDExLjcwMTJMMS4xMjQzOCAxMS45OTY1QzAuNzY2MjYzIDEyLjAzNjEgMC40NjM2OTMgMTEuNzMzMyAwLjUwMzUzNiAxMS4zNzUyTDAuODAxMTg0IDguNjk4MDlMNy4zMTQzIDIuMTg1MTdaTTEyLjE3MDQgMS43Mzg0NUwxMC43NjE2IDAuMzI5NTk1QzEwLjMyMjIgLTAuMTA5ODY1IDkuNjA5NDcgLTAuMTA5ODY1IDkuMTcwMDMgMC4zMjk1OTVMNy44NDQ2NyAxLjY1NTAxTDEwLjg0NTEgNC42NTU1M0wxMi4xNzA0IDMuMzMwMTFDMTIuNjA5OSAyLjg5MDQyIDEyLjYwOTkgMi4xNzc5MSAxMi4xNzA0IDEuNzM4NDVaIiBmaWxsPSIjMDA5OEZGIi8+Cjwvc3ZnPgo="},"648f":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCA4NCAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzY5NzFfODI0OCkiPgo8cGF0aCBkPSJNODIuNDAxNiA4LjQzMjYySDQ5LjcwNzVMNTMuMTA2IDEwLjAxMDdMNTEuMzQ1NyAxNy45OTg1QzUxLjIwNTkgMTguODIzNCA1MS42Mzc5IDE5LjQ5MiA1Mi4zMDk3IDE5LjQ5Mkg4MC4wNDc0QzgwLjk1NjcgMTkuNDkyIDgxLjM3NyAxOC44MjM0IDgxLjUxNjcgMTcuOTk4NUw4My4zNjU2IDEwLjAxMDdDODMuNTA1MyA5LjE4NTc0IDgzLjA3MzQgOC40MzI2MiA4Mi40MDE2IDguNDMyNjJaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNjk3MV84MjQ4KSIvPgo8cGF0aCBkPSJNMjYuMDk2MiAxMy4xNjIyQzI2LjA5NjIgMTAuNzc4OSAyNS4wNDYgMTAuMDE4OCAyMi43NTQ3IDEwLjAxODhIMTYuODMzMlYxMi42MzA0SDIyLjgyNjlWMTMuNTA4N0gxOC45OTk5QzE3LjM4MzkgMTMuNTA4NyAxNi42NDExIDE0LjA0NCAxNi42NDExIDE1LjcyOThWMTcuMjgwMUMxNi42NDExIDE4Ljk2MzYgMTcuMzgzOSAxOS41MDEyIDE4Ljk5OTkgMTkuNTAxMkgyNi4wOTYyVjEzLjE2MzRWMTMuMTYyMlpNMjIuODI2OSAxNi44ODk2SDE5LjkwOTJWMTUuNjY5NUgyMi44MjY5VjE2Ljg4OTZaIiBmaWxsPSIjMjZCN0JDIi8+CjxwYXRoIGQ9Ik0xNC41MjA5IDEyLjgwNjVWMTAuMDE3Nkg4Ljk0NTE4QzYuNjUxNTUgMTAuMDE3NiA1LjYwMjU0IDEwLjc4MTEgNS42MDI1NCAxMy4xNjFWMTYuMzU2NkM1LjYwMjU0IDE4LjczODggNi42NTE1NSAxOS40OTg4IDguOTQ1MTggMTkuNDk4OEgxNC41MjA5VjE2LjY2MzZIOC44NTA4N1YxMi44MDY1SDE0LjUyMDlaIiBmaWxsPSIjMjZCN0JDIi8+CjxwYXRoIGQ9Ik00Mi41MjQxIDEwLjAxODhIMzkuMTA4MlYxOS41MDAxSDQyLjUyNDFWMTYuMTU5N0g0NS40NDQxVjE5LjUwMDFINDguODU5VjEwLjAxODhINDUuNDQ0MVYxMy4xNjY5SDQyLjUyNDFWMTAuMDE4OFoiIGZpbGw9IiMyNkI3QkMiLz4KPHBhdGggZD0iTTMuNDE0ODYgMTEuNTI5N0wwLjE5MjEzOSAxMC4wMTg4VjE5LjUwMDFMMy40MTQ4NiAxNy45ODkyVjExLjUyOTdaIiBmaWxsPSIjMjZCN0JDIi8+CjxwYXRoIGQ9Ik0yOC4yMzk2IDE2Ljg4OTZWMTkuNTAwMUgzNC4zMzQ2QzM2LjQzMzggMTkuNTAwMSAzNy4zOTQzIDE4LjgyOTIgMzcuMzk0MyAxNi43MjM5VjE1LjgyODNDMzcuMzk0MyAxMy45NTU5IDM2LjU0MDkgMTMuMzU5MiAzNC42NzU3IDEzLjM1OTJIMzEuMDA5NFYxMi42MzA0SDM3LjExMDJWMTAuMDE4OEgzMS4wMTk5QzI4LjkxOTUgMTAuMDE4OCAyNy45NTkgMTAuNjkyIDI3Ljk1OSAxMi43OTYxVjEzLjY5MDZDMjcuOTU5IDE1LjU1OTUgMjguODExMiAxNi4xNTk3IDMwLjY3ODcgMTYuMTU5N0gzNC4zNDE1VjE2Ljg4OTZIMjguMjQwN0gyOC4yMzk2WiIgZmlsbD0iIzI2QjdCQyIvPgo8cGF0aCBkPSJNMy42NTM1IDcuMzE3OTNDMy42NTM1IDguMzIyNDggMi44MzUwMSA5LjEzNTg1IDEuODI2NzUgOS4xMzU4NUMwLjgxODQ4NiA5LjEzNTg1IDAgOC4zMjI0OCAwIDcuMzE3OTNDMCA2LjMxMzM3IDAuODE3MzIyIDUuNSAxLjgyNjc1IDUuNUMyLjgzNjE4IDUuNSAzLjY1MzUgNi4zMTQ1MyAzLjY1MzUgNy4zMTc5M1oiIGZpbGw9IiMyNkI3QkMiLz4KPHBhdGggZD0iTTgwLjIxODcgMTAuMzIyM0g3Ny40NjUyVjEzLjAyODlINzUuMDEyVjEwLjMyMjNINzIuMjc4M1YxMi42MjU3QzcyLjI3ODMgMTQuNTcyMiA3My4wMzA0IDE1LjA2ODEgNzUuMDEyIDE1LjA2ODFINzcuNDY1MlYxNi4yOTA1SDczLjg0ODlMNzIuMjc4MyAxOC4yODQ1SDc3LjM3OUM3OS4xMTk2IDE4LjI4NDUgODAuMjE5OSAxNy43MTIyIDgwLjIxOTkgMTUuOTE3NFYxMC4zMjIzSDgwLjIxODdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzEuMjQ1NSAxMi45NjI4QzcxLjI0NTUgMTAuOTYwNyA3MC4zNjMgMTAuMzIyMyA2OC40Mzk2IDEwLjMyMjNINjMuNDY3VjEyLjM4SDY4LjUwMDJWMTMuMjUyNUg2NS4yODY4QzYzLjkyOTIgMTMuMjUyNSA2My4zMDUyIDEzLjcwMjEgNjMuMzA1MiAxNS4xMTc5VjE2LjQyMDNDNjMuMzA1MiAxNy44MzM4IDYzLjkyOTIgMTguMjg1NyA2NS4yODY4IDE4LjI4NTdINzEuMjQ2N1YxMi45NjI4SDcxLjI0NTVaTTY4LjQ5OSAxNi4yNzQzSDY2LjA0OTRWMTUuMDY5M0g2OC40OTlWMTYuMjc0M1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02MC4yOTIgMTAuMzIyM0g1NC4zMzJWMTguMjg1N0w1Ny4xMzc5IDE3LjIxMTZWMTUuMzU1NUg2MC4yOTA4QzYxLjY0ODMgMTUuMzU1NSA2Mi4yNzEyIDE0LjkwNTkgNjIuMjcxMiAxMy40OVYxMi4xODc3QzYyLjI3MTIgMTAuNzc0MSA2MS42NDcyIDEwLjMyMjMgNjAuMjkwOCAxMC4zMjIzSDYwLjI5MlpNNTkuNTI4MiAxMy41Mzg3SDU3LjA3ODZWMTIuMzhINTkuNTI4MlYxMy41Mzg3WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzY5NzFfODI0OCIgeDE9IjE1LjM2OTUiIHkxPSItMC45ODQ5MTIiIHgyPSI4Ni45MTY1IiB5Mj0iMTkuNzg5MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDQiIHN0b3AtY29sb3I9IiNFNjAwMTIiLz4KPHN0b3Agb2Zmc2V0PSIwLjIxIiBzdG9wLWNvbG9yPSIjRjFFOTAwIi8+CjxzdG9wIG9mZnNldD0iMC4zNiIgc3RvcC1jb2xvcj0iIzYwQjYzMCIvPgo8c3RvcCBvZmZzZXQ9IjAuNTMiIHN0b3AtY29sb3I9IiMwMEI4RUUiLz4KPHN0b3Agb2Zmc2V0PSIwLjcxIiBzdG9wLWNvbG9yPSIjMUQyMDg4Ii8+CjxzdG9wIG9mZnNldD0iMC44OCIgc3RvcC1jb2xvcj0iIzY4M0Y5NSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzY5NzFfODI0OCI+CjxyZWN0IHdpZHRoPSI4My4zOTEzIiBoZWlnaHQ9IjE0IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA1LjUpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},"64e2":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSIyMSIgdmlld0JveD0iMCAwIDYwIDIxIiBmaWxsPSJub25lIj4KICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNzAxOF8xNTg1KSI+CiAgICA8cGF0aCBkPSJNNjAgMEgwVjIxSDYwVjBaIiBmaWxsPSIjRkZEMTAwIi8+CiAgICA8cGF0aCBkPSJNMjYuMzYzMiAxNS45OTVIMjcuNzI3MVY5LjM1MTc5SDI2LjM2MzJWMTUuOTk1Wk0zNC4zMTUyIDUuNjU0MDNIMzIuOTUxM1Y3LjQwMDM1SDI4Ljc3MThWOC43NjQyM0gzMi45NTEzVjE0LjI4NjNDMzIuOTUxMyAxNC40NTExIDMyLjgxNzEgMTQuNTg1MyAzMi42NTIzIDE0LjU4NTNIMzEuNjE1OFYxNS45OTU1SDMyLjY1MjNDMzMuNTY5NCAxNS45OTU1IDM0LjMxNTIgMTUuMjQ5OCAzNC4zMTUyIDE0LjMzMjdWOC43NjQyM0gzNS4yMDcyVjcuNDAwMzVIMzQuMzE1MlY1LjY1NDAzWk0yNy43MTYyIDUuNDU0OTFDMjcuNzE2MiA2LjgzMjQzIDI2LjYxMzEgNy45MzU1MyAyNS4yNTc5IDcuOTM1NTNWOS4yOTk0MkMyNy4zNjU0IDkuMjk5NDIgMjkuMDgwNiA3LjU4NDc0IDI5LjA4MDYgNS40NTQ5MUgyNy43MTYyWk0yMS40NDQgMTQuMTAxOUMyMi44ODggMTMuMTIzNyAyMy43MzM2IDExLjA1OTkgMjMuNzMzNiA5LjkwOTM0QzIzLjczMzYgOS40ODcwOSAyMy40NzYxIDkuMjA3MjIgMjMuMDUyMiA5LjIwNzIySDIwLjU4OFY4LjA0MjQ2SDI0LjEyNzVWNi43NDUxNEgyMC41ODhWNS40NTE2M0gxOS4yNDE2VjYuNzQ1MTRIMTUuNzAyVjguMDQyNDZIMTkuMjQxNlY5LjIwNzIySDE2Ljc3NzhDMTYuMzUzNCA5LjIwNzIyIDE2LjA5NjQgOS40ODcwOSAxNi4wOTY0IDkuOTA5MzRDMTYuMDk2NCAxMS4wNTk0IDE2LjkzMjIgMTMuMTIzNyAxOC4zODYxIDE0LjEwMTlDMTcuOTYxNyAxNC4zMzc2IDE2Ljc4MTcgMTQuNjc2OSAxNS40MDIgMTQuNjMxMVYxNS45OTVDMTcuMTY0MSAxNi4wNjI2IDE5LjA2NzUgMTUuNDQzNCAxOS45MTUzIDE0LjgyNjRDMjAuODA3MyAxNS40NDM0IDIyLjY2NjUgMTYuMDYyNiAyNC40Mjg3IDE1Ljk5NVYxNC42MzExQzIzLjA0ODQgMTQuNjc2OSAyMS44Njg0IDE0LjMyMjkgMjEuNDQ0IDE0LjEwMTlaTTE5LjkxNDggMTMuNjQ0N0MxOC4zNTIzIDEyLjcyODggMTcuNjQ5MSAxMS4zODQgMTcuNTc2NSAxMC41NzExSDIyLjI1M0MyMi4xODA0IDExLjM0NDcgMjEuNDc3OCAxMi43Mjg4IDE5LjkxNDggMTMuNjQ0N1pNMzAuMzM1OSA5Ljg3NzE2QzI5LjM0MDMgOS44NzcxNiAyOC41MzA3IDEwLjY4NzMgMjguNTMwNyAxMS42ODI0QzI4LjUzMDcgMTIuNjc4IDI5LjM0MDggMTMuNDg3NiAzMC4zMzU5IDEzLjQ4NzZDMzEuMzMxNSAxMy40ODc2IDMyLjE0MTEgMTIuNjc4IDMyLjE0MTEgMTEuNjgyNEMzMi4xNDE3IDEwLjY4NjggMzEuMzMxNSA5Ljg3NzE2IDMwLjMzNTkgOS44NzcxNlpNMzAuMzM1OSAxMi4zMDQzQzI5Ljk5MjIgMTIuMzA0MyAyOS43MTQgMTIuMDI1NSAyOS43MTQgMTEuNjgyNEMyOS43MTQgMTEuMzM5MiAyOS45OTI4IDExLjA2MDUgMzAuMzM1OSAxMS4wNjA1QzMwLjY3OTYgMTEuMDYwNSAzMC45NTc4IDExLjMzOTIgMzAuOTU3OCAxMS42ODI0QzMwLjk1NzggMTIuMDI1NSAzMC42Nzk2IDEyLjMwNDMgMzAuMzM1OSAxMi4zMDQzWk05LjE0ODI5IDUuMTgyMTNMNC4wNjU5MiA5LjU0NjAxTDQuOTYwNjIgMTAuNTYyOUw2LjQ4NTk5IDkuMjMxMjJWMTAuNTcxMUg4LjkyNjI1VjExLjkxOTJINi45ODM1M1YxMy4yODNIOC45MjYyNVYxNC42MzExSDUuNzQxODZWMTUuOTk1SDEzLjQ3NTFWMTQuNjMxMUgxMC4yOTA3VjEzLjI4M0gxMi4yMzM0VjExLjkxOTJIMTAuMjkwN1YxMC41NzExSDEyLjczMDlWOS4yMzEyMkwxNC4yNTYzIDEwLjU2MjlMMTUuMTUxIDkuNTQ2MDFMMTAuMDY4NiA1LjE4MjEzQzkuODAwNzcgNC45NDY0NSA5LjQyNDg4IDQuOTQ2NDUgOS4xNDgyOSA1LjE4MjEzWk02LjUxMzgxIDkuMjA3MjJMOS42MDgxOSA2LjU1MzFWNi41NTQxOUw5LjYwODczIDYuNTUzNjVMOS42MDkyOCA2LjU1NDE5VjYuNTUzMUwxMi43MDM3IDkuMjA3MjJINi41MTM4MVoiIGZpbGw9ImJsYWNrIi8+CiAgICA8cGF0aCBkPSJNMzkuNDU0MyA2LjY5MTMxQzM4LjQ0MTIgNi40OTQzNyAzNy41NTQ3IDcuMjY1MjMgMzcuNTU0NyA4LjI0Mjg2VjEwLjk4MUgzOC4zNTcyVjkuNjAyMzhDMzguNTkzNCA5Ljc0MzEzIDM4Ljg0MTYgOS44MjQ5NyAzOS4xMzY4IDkuODI0OTdDNDAuMTE0NCA5LjgyNDk3IDQwLjg4NTMgOC45Mzg0NCA0MC42ODgzIDcuOTI1MzVDNDAuNTY4MyA3LjMwODMzIDQwLjA3MTMgNi44MTEzMyAzOS40NTQzIDYuNjkxMzFaTTM5LjEzNjggOS4wNjMzN0MzOC42OTI3IDkuMDYzMzcgMzguMzMzMiA4LjcwMzMxIDM4LjMzMzIgOC4yNTk3OEMzOC4zMzMyIDcuODE1NyAzOC42OTMzIDcuNDU2MTggMzkuMTM2OCA3LjQ1NjE4QzM5LjU4MDkgNy40NTYxOCAzOS45NDA0IDcuODE2MjQgMzkuOTQwNCA4LjI1OTc4QzM5Ljk0MDkgOC43MDMzMSAzOS41ODA5IDkuMDYzMzcgMzkuMTM2OCA5LjA2MzM3WiIgZmlsbD0iYmxhY2siLz4KICAgIDxwYXRoIGQ9Ik01MC44NzEyIDcuMDM2NTlDNTAuNjA4MiA2LjgwMjU1IDUwLjI2NzggNi42NjAxNiA0OS44OTUyIDYuNjYwMTZDNDkuMDYzMiA2LjY2MDE2IDQ4LjM4ODkgNy4zNjUwMSA0OC4zODg5IDguMjM0NjJDNDguMzg4OSA5LjEwNDIzIDQ5LjA2MzIgOS44MDkwOSA0OS44OTUyIDkuODA5MDlDNTAuMjY3OCA5LjgwOTA5IDUwLjYwODIgOS42NjY3IDUwLjg3MTIgOS40MzI2NlY5LjcyMDE2SDUxLjY3NTlWNi43NDM2M0g1MC44NzEyVjcuMDM2NTlaTTQ5Ljk2MzQgOS4wMzQ0QzQ5LjUyMTUgOS4wMzQ0IDQ5LjE2MzYgOC42NzY1MiA0OS4xNjM2IDguMjM0NjJDNDkuMTYzNiA3Ljc5MjcyIDQ5LjUyMTUgNy40MzQ4NCA0OS45NjM0IDcuNDM0ODRDNTAuNDA1MyA3LjQzNDg0IDUwLjc2MzIgNy43OTI3MiA1MC43NjMyIDguMjM0NjJDNTAuNzYyNiA4LjY3NjUyIDUwLjQwNDcgOS4wMzQ0IDQ5Ljk2MzQgOS4wMzQ0WiIgZmlsbD0iYmxhY2siLz4KICAgIDxwYXRoIGQ9Ik00Ny41MDY2IDEyLjkwMzRDNDcuMjI1MSAxMi44MTM0IDQ2Ljk3OTYgMTIuNzQ1NyA0Ni45Nzk2IDEyLjU1OTdDNDYuOTc5NiAxMi40MDQ4IDQ3LjExNDkgMTIuMzI2MiA0Ny4zMDA5IDEyLjMyNjJDNDcuNzAwMyAxMi4zMjYyIDQ4LjAyIDEyLjU2NzMgNDguMDIgMTIuNTY3M0w0OC4zNjMxIDEyLjAzNTRDNDguMzYzMSAxMi4wMzU0IDQ3LjkwMzggMTEuNzIxMiA0Ny4zMDM3IDExLjcyMTJDNDYuNjQ3NCAxMS43MjEyIDQ2LjE3OTggMTIuMDU4OSA0Ni4xNzk4IDEyLjYzMzlDNDYuMTc5OCAxMy4yNTM2IDQ2LjcxMjMgMTMuNDI1NSA0Ny4xNTc1IDEzLjU3NDRDNDcuNDM2MiAxMy42NjQ0IDQ3LjYzMzIgMTMuNzI5NCA0Ny42MzMyIDEzLjkxNTRDNDcuNjMzMiAxNC4wOSA0Ny40OTI0IDE0LjE4MjcgNDcuMjU2MiAxNC4xODI3QzQ3LjAwMjUgMTQuMTgyNyA0Ni43MTcyIDE0LjA3MTQgNDYuNDk3MyAxMy45MjU4TDQ2LjE2NDYgMTQuNTE1NUM0Ni40NzIyIDE0LjY5NDUgNDYuODcxNiAxNC44MTY3IDQ3LjI4NDYgMTQuODE2N0M0Ny45OTQzIDE0LjgxNjcgNDguNDQyMiAxNC40NjE1IDQ4LjQ0MjIgMTMuODU1OUM0OC40NDE3IDEzLjI0MTEgNDcuOTE4IDEzLjAzODcgNDcuNTA2NiAxMi45MDM0WiIgZmlsbD0iYmxhY2siLz4KICAgIDxwYXRoIGQ9Ik00Ny45MDcxIDcuOTI1MzVDNDcuNzg3MSA3LjMwODMzIDQ3LjI5MDEgNi44MTEzMyA0Ni42NzMxIDYuNjkxMzFDNDUuNjYgNi40OTQzNyA0NC43NzM0IDcuMjY1MjMgNDQuNzczNCA4LjI0Mjg2VjEwLjk4MUg0NS41NzY1VjkuNjAyMzhDNDUuODEyNyA5Ljc0MzEzIDQ2LjA2MDkgOS44MjQ5NyA0Ni4zNTYxIDkuODI0OTdDNDcuMzMzMiA5LjgyNDk3IDQ4LjEwNCA4LjkzODQ0IDQ3LjkwNzEgNy45MjUzNVpNNDUuNTUxOSA4LjI1OTc4QzQ1LjU1MTkgNy44MTU3IDQ1LjkxMiA3LjQ1NjE4IDQ2LjM1NTUgNy40NTYxOEM0Ni43OTk2IDcuNDU2MTggNDcuMTU5MSA3LjgxNjI0IDQ3LjE1OTEgOC4yNTk3OEM0Ny4xNTkxIDguNzAzODYgNDYuNzk5NiA5LjA2MzM3IDQ2LjM1NTUgOS4wNjMzN0M0NS45MTIgOS4wNjMzNyA0NS41NTE5IDguNzAzMzEgNDUuNTUxOSA4LjI1OTc4WiIgZmlsbD0iYmxhY2siLz4KICAgIDxwYXRoIGQ9Ik01NC40MDMxIDYuNzQzNjVMNTMuNzAyIDguNjI0MTdMNTIuOTg5IDYuNzQzNjVINTIuMTE5NEw1My4yNTc0IDkuNTMzMDZMNTIuNjY3MSAxMC45ODFINTMuNTM4OUw1NS4yNjIzIDYuNzQzNjVINTQuNDAzMVoiIGZpbGw9ImJsYWNrIi8+CiAgICA8cGF0aCBkPSJNNDQuNzczNSAxMy41OTU4QzQ0Ljc3MzUgMTMuOTY0NiA0NC41MzQgMTQuMTI4MiA0NC4yMDQ1IDE0LjEyODJDNDMuODc1IDE0LjEyODIgNDMuNjM1NSAxMy45NjUxIDQzLjYzNTUgMTMuNTk1OFYxMS43NzY0SDQyLjgzM1YxMy42NThDNDIuODMzIDE0LjM3NTkgNDMuMzM5OCAxNC44MTU2IDQ0LjIwNDUgMTQuODE1NkM0NS4wNjYgMTQuODE1NiA0NS41NzYgMTQuMzc2NSA0NS41NzYgMTMuNjU4VjExLjc3NjRINDQuNzczVjEzLjU5NThINDQuNzczNVoiIGZpbGw9ImJsYWNrIi8+CiAgICA8cGF0aCBkPSJNMzkuNDU0MyAxMS43MDZDMzguNDQxMiAxMS41MDkgMzcuNTU0NyAxMi4yNzk5IDM3LjU1NDcgMTMuMjU3NVYxNS45OTU2SDM4LjM1NzJWMTQuNjE3NkMzOC41OTM0IDE0Ljc1ODMgMzguODQxNiAxNC44NDAyIDM5LjEzNjggMTQuODQwMkM0MC4xMTQ0IDE0Ljg0MDIgNDAuODg1MyAxMy45NTM2IDQwLjY4ODMgMTIuOTQwNUM0MC41NjgzIDEyLjMyMyA0MC4wNzEzIDExLjgyNiAzOS40NTQzIDExLjcwNlpNMzkuMTM2OCAxNC4wNzc1QzM4LjY5MjcgMTQuMDc3NSAzOC4zMzMyIDEzLjcxNzQgMzguMzMzMiAxMy4yNzM5QzM4LjMzMzIgMTIuODI5OCAzOC42OTMzIDEyLjQ3MDMgMzkuMTM2OCAxMi40NzAzQzM5LjU4MDkgMTIuNDcwMyAzOS45NDA0IDEyLjgzMDMgMzkuOTQwNCAxMy4yNzM5QzM5Ljk0MDkgMTMuNzE4IDM5LjU4MDkgMTQuMDc3NSAzOS4xMzY4IDE0LjA3NzVaIiBmaWxsPSJibGFjayIvPgogICAgPHBhdGggZD0iTTQyLjA4OTkgMTAuNDMzMUg0MS4yODY5VjE0Ljc1OTNINDIuMDg5OVYxMC40MzMxWiIgZmlsbD0iYmxhY2siLz4KICAgIDxwYXRoIGQ9Ik00NC4zNzMgOS43MjYxOUw0My4xMjE1IDguMjI3NTZMNDQuMzc1NyA2Ljc0MzY1SDQzLjM2N0w0Mi42NTAxIDcuNjYxODJMNDEuOTE5NiA2Ljc0MzY1SDQwLjkxMDlMNDIuMTczOCA4LjIyOTc0TDQwLjkwODcgOS43MjYxOUg0MS45MjcyTDQyLjYzODYgOC44MTQ1N0w0My4zNTUgOS43MjYxOUg0NC4zNzNaIiBmaWxsPSJibGFjayIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcDBfNzAxOF8xNTg1Ij4KICAgICAgPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjIxIiByeD0iNCIgZmlsbD0id2hpdGUiLz4KICAgIDwvY2xpcFBhdGg+CiAgPC9kZWZzPgo8L3N2Zz4="},6504:function(t,e,i){},6557:function(t,e,i){},"661a":function(t,e,i){"use strict";var s=i("67c1"),o=i.n(s);o.a},6789:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"q-pa-md"},[i("div",{staticClass:"bg-white shadow border-around"},[i("div",{staticClass:"col-xs-12 col-md-7 q-pa-md q-pb-lg text-center"},[i("div",{staticClass:"text-center"},[i("div",{staticClass:"text-bold font-size-subtitle-2",domProps:{textContent:t._s(t.title)}}),i("hr",{staticClass:"q-my-md"}),i("div",{staticClass:"inline-block full-width",staticStyle:{"max-width":"400px"}},[i("div",{staticClass:"q-mb-md flex flex-center"},[i("div",{staticClass:"full-width text-left"},[0===t.mode||2===t.mode?i("div",[i("i-input",{attrs:{opt:t.accountOpt},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1):1===t.mode?i("div",[i("i-input",{attrs:{opt:t.new_password_opt},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}}),i("i-input",{attrs:{opt:t.re_new_password_opt},model:{value:t.re_new_password,callback:function(e){t.re_new_password=e},expression:"re_new_password"}})],1):3===t.mode?i("div",[i("i-input",{attrs:{opt:t.password_opt},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("i-input",{attrs:{opt:t.new_password_opt},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}}),i("i-input",{attrs:{opt:t.re_new_password_opt},model:{value:t.re_new_password,callback:function(e){t.re_new_password=e},expression:"re_new_password"}})],1):t._e()])]),t.isShowSubmitBtn?i("div",{staticClass:"q-py-md border-around flex items-center cursor-pointer q-mt-sm bg-secondary",on:{click:function(e){return t.clickBtn()}}},[i("div",{staticClass:"font-size-subtitle-2 col q-mx-sm text-center text-white text-bold",domProps:{textContent:t._s(t.submitText)}})]):t._e()])])])])]),t.isShowStickyBtn?i("q-page-sticky",{attrs:{position:"bottom",offset:[0,0]}},[i("div",{staticClass:"flex justify-between items-center",staticStyle:{width:"100vw"}},[i("nd-right-btn",{attrs:{"do-event":t.clickBtn,type:2}})],1)]):t._e()],1)},o=[],r=(i("386d"),i("7f7f"),i("791e")),n=i("cfdc"),a={name:"NdPassword",mixins:[r["a"]],components:{"nd-right-btn":n["a"]},meta:function(){return{title:this.metaTitle}},data:function(){return{account:"",new_password:"",re_new_password:"",password:"",password_opt:{name:"舊密碼",required:!0,rules:"password",maxlength:64,hint:this.$t("certification.password_tips"),type:"password",icon:"visibility"},new_password_opt:{name:"新密碼",required:!0,rules:"password",maxlength:64,hint:this.$t("certification.password_tips"),type:"password",icon:"visibility"},re_new_password_opt:{name:"再次輸入新密碼",required:!0,rules:"password",maxlength:64,hint:this.$t("certification.password_tips"),type:"password",icon:"visibility"}}},computed:{accountOpt:function(){var t={};return 2===this.mode?(t.hint="請填寫帳號",t.maxlength=99,t.name="帳號",t.rules="account"):(t.hint=this.$t("certification.phone_hint"),t.maxlength=10,t.name=this.$t("common.cellphone"),t.rules="phone"),t.required=!0,t},isShowSubmitBtn:function(){var t=!1;return(0===this.mode&&this.$q.screen.gt.sm||1===this.mode||2===this.mode||3===this.mode)&&(t=!0),t},isShowStickyBtn:function(){var t=!1;return 0===this.mode&&this.$q.screen.lt.md&&(t=!0),t},metaTitle:function(){var t="";switch(this.mode){case 0:case 2:t=this.$t("t_forget_password",{main:this.$store.getters["meta/main"]});break;case 1:case 3:t=this.$t("t_reset_password",{main:this.$store.getters["meta/main"]});break;default:break}return t},mode:function(){var t=0;return this.$route.query.reset_token&&(t=1),"UBrandForgotPasswordExistingMember"!==this.$route.name&&"UStoreForgotPasswordExistingMember"!==this.$route.name||(t=this.$route.query.reset_token?1:2),"UBrandChangePasswordExistingMember"!==this.$route.name&&"UStoreChangePasswordExistingMember"!==this.$route.name||(t=3),t},submitText:function(){var t="";switch(this.mode){case 0:case 1:case 2:t=this.$t("certification.reset_password");break;case 3:t=this.$t("certification.ok");break;default:break}return t},title:function(){var t="";switch(this.mode){case 0:case 2:t=this.$t("certification.forget_password");break;case 1:t=this.$t("certification.reset_password");break;case 3:t=this.$t("certification.change_password");break;default:break}return t}},methods:{changePassword:function(){var t=this,e="/user/".concat(this.getUId,"/changePassword"),i={password:this.password,new_password:this.new_password};this.postData(e,i).then((function(e){200===e.data.status&&t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:"已成功重設密碼，請使用新密碼重新登入",ok:{label:t.$t("dialog.ok"),color:"primary",textColor:"white"}}).onDismiss((function(){t.$store.dispatch("user/doLogout"),t.$store.dispatch("order/doLogout"),t.$store.state.app.liff.ready&&window.liff.logout(),t.$vlf&&t.$vlf.clear(),3===t.mode?t.$router.push({name:"UBrandLoginExistingMember"}):t.$router.push({name:"login"})}))})).catch((function(t){}))},clickBtn:function(){var t="";switch(this.mode){case 0:var e=/^09[0-9]{8}$/;this.account?-1===this.account.search(e)&&(t="手機格式錯誤"):t="手機未填",t?this.qnotify(t):this.forgetPassword();break;case 1:this.new_password?this.new_password.length<6||this.new_password.length>64?t="密碼格式錯誤":this.new_password!==this.re_new_password&&(t="新密碼與再次輸入不同"):t="密碼未填",t?this.qnotify(t):this.resetPassword();break;case 2:this.account||(t="帳號未填"),t?this.qnotify(t):this.forgetPassword();break;case 3:this.password?this.new_password?this.new_password.length<6||this.new_password.length>64?t="密碼格式錯誤":this.new_password!==this.re_new_password&&(t="新密碼與再次輸入不同"):t="密碼未填":t="舊密碼未填",t?this.qnotify(t):this.changePassword();break;default:break}},forgetPassword:function(){var t=this,e="/user/forgetPassword",i={account:this.account,device_id:"NIDINShopperWeb_"+this.randomString()};2===this.mode?i.create_account_type=7:i.create_account_type=1,this.postData(e,i).then((function(e){200===e.data.status&&t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.finish"),message:e.data.description,ok:{label:t.$t("dialog.confirm"),color:"primary",textColor:"white"}})})).catch((function(t){}))},logoutApi:function(){var t=this,e="/user/"+this.getUId+"/logoutWeb";this.postDataH(e,null).then((function(){t.logout()})).catch((function(t){}))},randomString:function(){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",e=8*Math.random()+8,i="",s=0;s<e;s++){var o=Math.floor(Math.random()*t.length);i+=t.substring(o,o+1)}return i},resetPassword:function(){var t=this,e="/user/resetPassword",i={new_password:this.new_password,token:this.$route.query.reset_token};this.postData(e,i).then((function(e){200===e.data.status&&t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.finish"),message:"已成功修改密碼，請使用新密碼重新登入",ok:{label:t.$t("dialog.confirm"),color:"primary",textColor:"white"}}).onDismiss((function(){t.$router.push({name:"login"})}))})).catch((function(t){}))}},beforeRouteEnter:function(t,e,i){i((function(t){3===!t.mode&&t.isLogin&&t.logoutApi()}))}},c=a,u=i("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);e["a"]=d.exports},"67ba":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["shoping-list-card",t.$q.screen.lt.sm?"":"shoping-list-card-radius","flex justify-between"]},[s("div",{staticClass:"col full-width"},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold title-spacing"},[t._v("\n      "+t._s(t.$t("order.pickup_person")+t.$t("order.name"))+"\n    ")]),s("input-label",{attrs:{opt:t.name_opt},on:{updateErrorMessage:t.saveNameError},model:{value:t.order.name,callback:function(e){t.$set(t.order,"name",e)},expression:"order.name"}}),3===t.orderInfo.order_type?s("input-label",{attrs:{opt:t.contact_method_remark_opt},model:{value:t.order.contact_method_remark,callback:function(e){t.$set(t.order,"contact_method_remark",e)},expression:"order.contact_method_remark"}}):s("div",[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold title-spacing"},[t._v("\n        "+t._s(t.$t("order.phone"))+"\n      ")]),s("div",{staticClass:"q-mb-sm"},[s("q-radio",{staticClass:"q-mb-sm q-radio--dense",attrs:{val:2},model:{value:t.orderInfo.phone_type,callback:function(e){t.$set(t.orderInfo,"phone_type",e)},expression:"orderInfo.phone_type"}},[t._v(t._s(t.$t("order.phone_detail.mobile")))]),2==t.orderInfo.phone_type?s("input-label",{ref:"mobile",attrs:{opt:t.phone_opt.mobile},on:{updateErrorMessage:t.savePhoneError},model:{value:t.phone.mobile,callback:function(e){t.$set(t.phone,"mobile",e)},expression:"phone.mobile"}}):t._e()],1),s("div",{staticClass:"q-mb-sm"},[s("q-radio",{staticClass:"q-mb-sm q-radio--dense",attrs:{val:1},model:{value:t.orderInfo.phone_type,callback:function(e){t.$set(t.orderInfo,"phone_type",e)},expression:"orderInfo.phone_type"}},[t._v(t._s(t.$t("order.phone_detail.home")))]),1==t.orderInfo.phone_type?s("div",{staticClass:"row no-wrap phone"},[s("input-label",{ref:"phone-area",staticClass:"q-mr-sm",staticStyle:{width:"15%","min-width":"80px"},attrs:{opt:t.phone_opt.area},model:{value:t.phone.area,callback:function(e){t.$set(t.phone,"area",e)},expression:"phone.area"}}),s("div",{staticClass:"row no-wrap telephone",staticStyle:{flex:"1"}},[s("input-label",{ref:"phone-tel",staticStyle:{flex:"1"},attrs:{opt:t.phone_opt.tel},model:{value:t.phone.tel,callback:function(e){t.$set(t.phone,"tel",e)},expression:"phone.tel"}}),s("input-label",{ref:"phone-ext",staticStyle:{width:"40%","min-width":"90px"},attrs:{opt:t.phone_opt.ext},model:{value:t.phone.ext,callback:function(e){t.$set(t.phone,"ext",e)},expression:"phone.ext"}})],1)],1):t._e()],1)]),3!==t.storeInfo.store_mode?s("div",[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold title-spacing"},[t._v("\n        "+t._s(3===t.orderInfo.order_type?t.$t("order.feedback_to_gb"):t.$t("order.feedback_to_store"))+"\n      ")]),s("input-label",{attrs:{opt:t.dialog_opt},on:{updateClick:t.showModel},model:{value:t.orderInfo.shopper_remark,callback:function(e){t.$set(t.orderInfo,"shopper_remark",e)},expression:"orderInfo.shopper_remark"}})],1):t._e()],1),s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.show.modal_order_info_detail,callback:function(e){t.$set(t.show,"modal_order_info_detail",e)},expression:"show.modal_order_info_detail"}},[s("q-card",{staticClass:"q-card bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_order_info_detail=!1}}}),s("q-card-section",{staticClass:"col scroll q-pa-none",style:t.$q.screen.lt.sm?"min-height: calc("+t.dialogH+"px - 122px); max-height: calc("+t.dialogH+"px - 122px);":"max-height: calc("+t.dialogH+"px - 268px)"},[s("div",{staticClass:"q-mb-md"},[s("div",{staticClass:"font-size-subtitle-1 title-spacing"},[t._v("給"+t._s(3===t.orderInfo.order_type?"團長":"店家")+"留言")]),s("input-label",{attrs:{opt:t.shopper_remark_opt},model:{value:t.order.shopper_remark,callback:function(e){t.$set(t.order,"shopper_remark",e)},expression:"order.shopper_remark"}}),t.remarkList.length?s("div",{staticClass:"q-mt-sm"},[s("div",{staticClass:"font-size-subtitle-1 title-spacing"},[t._v("常用留言")]),s("b-radio-list",{attrs:{list:t.remarkList,opt:t.remark_list_opt},on:{updateChange:t.remarkRadioChange},model:{value:t.remarkRadio,callback:function(e){t.remarkRadio=e},expression:"remarkRadio"}})],1):t._e()],1)]),s("q-card-actions",{staticClass:"row q-pt-md q-px-none border-top"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",on:{click:function(e){return t.saveOrderInfo(!1)}}},[s("span",[t._v(t._s(t.$t("common.save")))])])],1)])],1)],1)],1)},o=[],r=(i("f751"),i("28a5"),i("a481"),i("7f7f"),i("791e")),n=i("c469"),a=i("7b29"),c=i("3175"),u={name:"NdOrderInfoDetail",mixins:[r["a"]],components:{"b-radio-list":n["a"],"input-label":a["default"],"i-radio-list":c["a"]},props:{orderInfo:Object,remarkList:Array,storeInfo:Object},data:function(){return{show:{modal_order_info_detail:!1},order:{name:this.orderInfo.name,phone:this.orderInfo.phone,phone_type:this.orderInfo.phone_type,shopper_remark:this.orderInfo.shopper_remark,contact_method_remark:this.orderInfo.contact_method_remark},name_opt:{name:"",required:!0,placeholder:"如果商品無填寫訂購人，則預設此名",maxlength:20},contact_method_remark_opt:{name:"團員電話",placeholder:"請輸入電話",required:!1},dialog_opt:{notInput:!0,icon:"arrow",placeholder:3===this.orderInfo.order_type?"無":"可留備用電話供店家聯繫"},shopper_remark_opt:{maxlength:100},remarkRadio:"",remark_list_opt:{name:"remark-list",max:5},phone:{mobile:"",area:"",tel:"",ext:""},phoneFocus:!1}},methods:{showModel:function(){this.show.modal_order_info_detail=!0},checkTelorPhone:function(t){t&&("09"===t.slice(0,2)?(this.phone_opt.maxlength=10,this.order.phone_type=2):(this.phone_opt.maxlength=20,this.order.phone_type=1))},remarkRadioChange:function(t){this.remarkRadio=t,this.order.shopper_remark=t},saveOrderInfo:function(t){if(t)for(var e in this.order)this.$set(this.orderInfo,e,this.order[e]);else this.$set(this.orderInfo,"shopper_remark",this.order.shopper_remark);this.show.modal_order_info_detail&&(this.show.modal_order_info_detail=!1),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info",this.order)},setDefault:function(){var t=this.$store.state.user.user_info,e=this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_order_info");e&&(this.order=e);var i=this.order;i.name||this.$set(this.order,"name",t.nickname),!i.contact_method_remark&&t.phone&&3===this.orderInfo.order_type&&this.$set(this.order,"contact_method_remark",t.phone),!i.phone&&t.phone&&3!==i.order_type&&this.$set(this.order,"phone",t.phone),this.order.name&&this.$set(this.order,"name",this.order.name.slice(0,20)),this.setDefaultPhoneData(t),this.saveOrderInfo(!0)},setDefaultPhoneData:function(t){var e="string"===typeof this.orderInfo.phone&&10===this.orderInfo.phone.replace(/-/g,"").length;this.orderInfo.phone?this.orderInfo.phone_type=e?2:1:this.orderInfo.phone_type=2,this.phone.mobile=e?this.orderInfo.phone.replace(/-/g,""):t.phone;var i=this.orderInfo.phone&&!e?String(this.orderInfo.phone):String(localStorage.telephone||""),s=i.split("-"),o=s[1]?s[1].split("#"):[""];this.phone.area=s[0].trim()||"",this.phone.tel=o[0].trim()||"",o[1]&&(this.phone.ext=o[1].trim()||"")},saveNameError:function(t){this.$store.commit("cart/setErrorMessage",{name:t})},savePhoneError:function(t){this.$store.commit("cart/setErrorMessage",{phone:t})}},created:function(){this.setDefault()},watch:{"order.name":function(t){this.$set(this.orderInfo,"name",t),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info",this.order)},"order.phone":function(t){this.$set(this.orderInfo,"phone",t),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info",this.order)},"order.phone_type":function(t){this.$set(this.orderInfo,"phone_type",t),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info",this.order)},"order.contact_method_remark":function(t){this.$set(this.orderInfo,"contact_method_remark",t),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info",this.order)},"show.modal_order_info_detail":function(t){t||(this.order.shopper_remark=this.orderInfo.shopper_remark)},phone_number:function(t){var e=this;this.orderInfo.phone=t,this.$nextTick((function(){if(3!==e.orderInfo.order_type)if(2===e.orderInfo.phone_type)e.$refs["mobile"].checkRule();else{e.$refs["phone-area"].checkRule(),e.$refs["phone-tel"].checkRule(),e.$refs["phone-ext"].checkRule();var t=e.$refs["phone-area"].errorMessage||e.$refs["phone-tel"].errorMessage||e.$refs["phone-ext"].errorMessage;e.savePhoneError(t),t||(localStorage.telephone=e.phone_number)}}))}},computed:{phone_number:function(){return 2===this.orderInfo.phone_type?this.phone.mobile?this.phone.mobile:"":this.phone.area&&this.phone.tel?this.phone.area+"-"+this.phone.tel+(this.phone.ext?"#"+this.phone.ext:""):""},phone_opt:function(){var t={name:"",required:!0,rules:"tel",type:"tel"};return{mobile:Object.assign({},t,{placeholder:this.$t("order.phone_detail.mobile_placeholder"),maxlength:10,rules:"phone"}),area:Object.assign({},t,{placeholder:this.$t("order.phone_detail.area"),maxlength:4,rules:"area"}),tel:Object.assign({},t,{placeholder:this.$t("order.phone_detail.phone"),minLength:6,maxlength:8,rules:"homePhone"}),ext:Object.assign({},t,{placeholder:"".concat(this.$t("order.phone_detail.ext"),"(").concat(this.$t("order.phone_detail.optional"),")"),maxlength:6,rules:"ext"})}}},mounted:function(){this.orderInfo.phone&&this.checkTelorPhone(this.orderInfo.phone)}},d=u,l=(i("0368"),i("2877")),M=Object(l["a"])(d,s,o,!1,null,null,null);e["a"]=M.exports},"67c1":function(t,e,i){},"67e2":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLength?i("div",[t.contentList.length?i("message-block",{attrs:{iconColor:"warning",blockColor:t.bgColor,content:t.contentList,icon:"fas fa-exclamation-circle"}}):t._e()],1):t._e()},o=[],r=(i("6762"),i("2fdb"),i("6b54"),i("06db"),i("7514"),i("45889")),n={props:["storeInfo","deliveryType","isOffline","showCupDiscountTradelimit"],components:{"message-block":r["a"]},data:function(){return{contentList:[],bgColor:"background-color: #F9A82814"}},computed:{},created:function(){this.isLength()},methods:{getDeliveryInfo:function(t){var e=this.storeInfo.delivery_info.find((function(e){return e.delivery_type.toString()===t}));return"0"===t||(this.deliveryType?t===this.deliveryType.toString():e||!1)},isLength:function(){var t=0,e=this.storeInfo.delivery_exception_trade,i="訂單已使用自備飲料杯，僅可使用現金付款";for(var s in this.showCupDiscountTradelimit&&this.contentList.push(i),e)if(this.getDeliveryInfo(s)){for(var o in e[s]){var r=e[s][o].description;if(r){var n=this.storeInfo.trade_categories,a=this.isOffline||[2,21].includes(this.deliveryType)?n.offline:n.online,c=a.includes(e[s][o].trade_type);if(!c)continue;this.contentList.push(r)}}t+=e[s].length}return this.$emit("update:tLength",t),t}}},a=n,c=i("2877"),u=Object(c["a"])(a,s,o,!1,null,null,null);e["a"]=u.exports},6869:function(t,e,i){"use strict";var s=i("c238"),o=i.n(s);o.a},"68bd":function(t,e,i){t.exports=i.p+"img/i_tw_pay.6354d5be.svg"},"6a32":function(t,e,i){},"6aa1":function(t,e,i){"use strict";var s=i("f8db"),o=i.n(s);o.a},"6b9a":function(t,e,i){},"6c3b":function(t,e,i){"use strict";var s=i("1e9a"),o=i.n(s);o.a},"6d1b":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["shoping-list-card q-py-sm q-mt-sm q-px-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[t._m(0),s("div",{staticClass:"q-my-md flex flex-center column"},[s("div",{staticStyle:{"z-index":"2"},style:t.$q.screen.lt.md?"width: 100px; bottom: -10px;":"width: 160px; bottom: -15px;"},[s("img",{staticClass:"border-around",attrs:{src:i("f3cd"),alt:""}})]),s("div",{staticClass:"full-width q-pa-md b-bg",staticStyle:{"max-width":"300px"}},[t.isPhoneVerity&&t.$store.state.user.user_info.email?s("div",{staticClass:"text-bold text-white q-mb-sm text-center"},[t._v("訂單明細請查看"),s("br"),t._v(t._s(t.$store.state.user.user_info.email))]):t._e(),s("div",{staticClass:"text-bold text-white q-mb-xs text-center"},[t._v("如果要修改訂單，請自行取消或聯絡團長刪單，再重新送單。")])])])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-mb-sm text-center font-size-subtitle-1"},[i("div",[t._v("訂單已送給團長")]),i("div",[t._v("記得給團長錢喔！不然團長森77")])])}],r=i("791e"),n={mixins:[r["a"]],components:{},props:{orderInfo:Object,storeInfo:Object},data:function(){return{}},methods:{},created:function(){},computed:{}},a=n,c=i("2877"),u=Object(c["a"])(a,s,o,!1,null,null,null);e["a"]=u.exports},"6e1c":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-py-sm"},[s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-shopping-cart"}}),t._v("\n      商品x"+t._s(t.showAmount)+"\n    ")],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),s("div",{staticClass:"col-auto"},[t._v("$"+t._s(t.showMoney))])]),t.pointdiscount.total_discount?s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-shopping-cart"}}),t._v("\n      點數折扣\n    ")],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),s("div",{staticClass:"col-auto text-secondary"},[t._v("-$"+t._s(t.pointdiscount.total_discount))])]):t._e(),t.memberdiscount.total_discount?s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-shopping-cart"}}),t._v("\n      VIP會員折扣\n    ")],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),s("div",{staticClass:"col-auto text-secondary"},[t._v("-$"+t._s(t.memberdiscount.total_discount))])]):t._e(),t.useCoupon.coupon_codes.length+t.followerCouponAmount+t.productCouponAmount+t.productVoucherAmount?s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-ticket-alt"}}),s("span",{class:"orderListInfoV1"===t.$route.name?"b-color cursor-pointer":"",on:{click:t.openCouponInfo}},[t._v(" 優惠券x"+t._s(t.useCoupon.coupon_codes.length+t.followerCouponAmount+t.productCouponAmount+t.productVoucherAmount))])],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),s("div",{staticClass:"col-auto text-secondary"},[t._v("-$"+t._s(t.useCoupon.coupon_money+t.followerCouponMoney+t.productCouponMoney+t.productVoucherMoney))])]):t._e(),t.orderOthers.order_info.allowance.total_allowance?s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-tag"}}),s("span",{staticClass:"b-color cursor-pointer",on:{click:function(e){t.show.modal_allowance_info=!0}}},[t._v(" 商品折扣")])],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),s("div",{staticClass:"col-auto text-secondary"},[t._v("-$"+t._s(t.orderOthers.order_info.allowance.total_allowance))])]):t._e(),t.appliableDiscount.total_discount?s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-tag"}}),s("span",{staticClass:"b-color cursor-pointer",on:{click:function(e){t.show.modal_discount_info=!0}}},[t._v("\n        "+t._s(t.$t("order.discount"))+"\n      ")])],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),s("div",{staticClass:"col-auto text-secondary"},[t._v("-$"+t._s(t.appliableDiscount.total_discount))])]):t._e(),t.hasPlasticInfo&&t.needPlasticBag?s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-shopping-bag"}}),t._v("\n      "+t._s(t.$t("order.plastic_bag"))),t.orderOthers.order_info.plastic_info.amount?s("span",[t._v("x"+t._s(t.orderOthers.order_info.plastic_info.amount))]):t._e()],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),t.orderOthers.order_info.plastic_info.money?s("div",{staticClass:"col-auto"},[t._v("$"+t._s(t.orderOthers.order_info.plastic_info.money))]):s("div",{staticClass:"col-auto text-positive"},[t._v("依門市規定")])]):t._e(),t.storeInfo.shipping_fee_type&&3===t.orderInfo.delivery_type&&3!==t.orderInfo.order_type?s("div",{staticClass:"flex justify-between items-center q-my-md-sm"},[s("div",{staticClass:"col-auto"},[s("q-icon",{staticClass:"q-my-none q-ml-none q-mr-xs",staticStyle:{top:"-1px"},attrs:{name:"fas fa-motorcycle"}}),t._v("\n      運費\n    ")],1),s("div",{staticClass:"q-mx-md col",staticStyle:{"border-top":"1px dashed #9e9e9e",height:"0px !important"}}),s("div",{staticClass:"col-auto"},[t.shippingMoney?s("span",[t._v("$"+t._s(t.shippingMoney))]):s("span",{staticClass:"text-positive"},[t._v("免運")])])]):t._e(),t.showDeliveryThreshold?s("div",{staticClass:"flex justify-between items-center q-my-md-sm no-wrap q-gutter-x-md"},[s("div",{staticClass:"text-secondary col"},[s("q-icon",{staticClass:"q-ma-none",staticStyle:{top:"-2px"},attrs:{name:"star"}}),t._v("\n      "+t._s(t.$t("order.delivery_threshold"))+"\n      ：\n      "+t._s(t.showDeliveryThreshold)+"\n    ")],1),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-outline text-secondary",staticStyle:{"font-size":"13px"},on:{click:t.goToMenu}},[t._v(t._s(t.$t("order.add_items"))+" >")])])]):t._e(),s("hr",{staticClass:"q-my-sm q-my-md-md"}),s("div",{staticClass:"flex justify-between items-center q-my-md-sm font-size-subtitle-1"},[s("div",{staticClass:"col-auto text-bold"},[t._v("\n      "+t._s(t.$t("order.amounts_payable"))+"\n    ")]),s("div",{staticClass:"col-auto text-bold"},[t._v("$"+t._s(t.totalPaid))])]),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_allowance_info,callback:function(e){t.$set(t.show,"modal_allowance_info",e)},expression:"show.modal_allowance_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_allowance_info=!1}}}),t.orderOthers.order_info.allowance?s("div",{},[s("div",{staticClass:"font-size-subtitle-2"},[t._v("商品折扣")]),t._l(t.orderOthers.order_info.allowance.list,(function(e){return s("div",{key:"allowance-detail-"+e.setting_id,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-light-gray q-pa-md"},[s("div",[s("div",[s("q-badge",{staticClass:"bg-secondary q-ma-none",attrs:{label:"符合"+e.match_amount+"組"}}),s("q-badge",{staticClass:"q-ma-none q-ml-sm",attrs:{label:"共折$"+e.total_allowance}})],1),s("div",{staticClass:"q-mt-xs"},[t._v("\n                "+t._s(e.description)+"\n              ")])])])])}))],2):t._e()])],1),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_coupon_info,callback:function(e){t.$set(t.show,"modal_coupon_info",e)},expression:"show.modal_coupon_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_coupon_info=!1}}}),t.orderOthers.order_info.coupon?s("div",{},[s("div",{staticClass:"font-size-subtitle-2"},[t._v("優惠券折扣")]),t._l(t.orderOthers.order_info.coupon,(function(e){return s("div",{key:"coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("coupon-card",{attrs:{couponInfo:e,storeInfo:t.storeInfo,orderInfo:t.orderInfo}})],1)])])})),t._l(t.orderOthers.group_buy_follower_order_coupons,(function(e){return s("div",t._l(e,(function(e){return s("div",{key:"gb-coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("coupon-card",{attrs:{couponInfo:e,storeInfo:t.storeInfo,orderInfo:t.orderInfo}})],1)])])})),0)})),t._l(t.modal_prod_info,(function(e){return s("div",{key:"coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("coupon-card",{attrs:{couponInfo:e,storeInfo:t.storeInfo}})],1)])])})),t._l(t.modal_prod_info_group,(function(e){return s("div",{key:"coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("coupon-card",{attrs:{couponInfo:e,storeInfo:t.storeInfo,orderInfo:t.orderInfo}})],1)])])}))],2):t._e()])],1),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_discount_info,callback:function(e){t.$set(t.show,"modal_discount_info",e)},expression:"show.modal_discount_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_discount_info=!1}}}),t.orderOthers.order_info.discount?s("div",{},[s("div",{staticClass:"font-size-subtitle-2"},[t._v("\n          "+t._s(t.$t("order.discount"))+"\n        ")]),t._l(t.appliableDiscount.list,(function(e){return s("div",{key:"discount-detail-"+e.activity_id,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-light-gray q-pa-md"},[s("div",[s("div",[s("q-badge",{staticClass:"bg-secondary q-ma-none",attrs:{label:"符合"+e.match_amount+"組"}})],1),s("div",{staticClass:"q-mt-xs"},[t._v("\n                "+t._s(e.activity_name)+"\n              ")])])])])}))],2):t._e()])],1)],1)},o=[],r=i("4db1"),n=i.n(r),a=(i("6762"),i("2fdb"),i("28a5"),i("7514"),i("55dd"),i("967e")),c=i.n(a),u=(i("96cf"),i("fa84")),d=i.n(u),l=(i("7f7f"),i("791e")),M=i("afab"),h={mixins:[l["a"]],components:{"coupon-card":M["a"]},props:{orderInfo:Object,storeInfo:Object,orderOthers:Object,useCoupon:Object,appliableDiscount:Object,needPlasticBag:Boolean,orderAttach:Object,pointdiscount:Object,memberdiscount:Object},data:function(){return{show:{modal_allowance_info:!1,modal_coupon_info:!1,modal_discount_info:!1},modal_prod_info:[],modal_prod_info_group:[]}},methods:{couponbinding_group:function(){var t=this,e=this.orderOthers.group_buy_follower_order_list;this.orderOthers.group_buy_follower_order_coupons;e&&e.forEach((function(e){if(e.product_coupon.total_discount>0)for(var i in e.product_coupon.item_list)e.product_coupon.item_list[i].list.forEach((function(e){t.modal_prod_info_group.push(e)}))}))},couponbinding:function(){var t=this,e=this.orderOthers.order_info;for(var i in e.product_coupon.item_list)e.product_coupon.item_list[i].list.forEach((function(e){t.modal_prod_info.push(e)}))},openCouponInfo:function(){"orderListInfoV1"===this.$route.name&&(this.show.modal_coupon_info=!0)},goToMenu:function(){var t=this.orderOthers.group_buy_head_order_info;this.$route.meta.group_buying?this.$router.push("/gb/menu/"+this.storeInfo.id+"/"+this.orderInfo.order_id+"/"+t.share_code):3===this.orderInfo.order_type?this.$router.push("/gbmenu/"+this.storeInfo.id+"/"+this.orderInfo.order_id+"/"+t.share_code):this.$router.push("/menu/"+this.storeInfo.id+"/"+this.orderInfo.order_id)},deliveryTotalPaid:function(){var t=this.orderInfo,e=this.orderOthers&&this.orderOthers["order_info"]&&this.orderOthers["order_info"]["delivery_total_money"]&&this.orderOthers["order_info"]["delivery_total_money"][t.delivery_type]>=0?this.orderOthers["order_info"]["delivery_total_money"][t.delivery_type]:null,i=null!==e?e:t.total_paid_money||this.orderAttach.total_money,s=this.$store.getters["order/couponMoney"],o=this.$store.getters["order/allowance"],r=this.$store.getters["order/productCouponMoney"],n=this.$store.getters["order/pointDiscount"],a=this.$store.getters["order/memberDiscount"],c=this.$store.getters["order/storeDiscount"];return s&&(i-=s),o&&(i-=o),r&&(i-=r),c&&(i-=c),n&&(i-=n),a&&(i-=a),i}},created:function(){var t=d()(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.couponbinding_group(),this.couponbinding();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{deliveryRank:function(){var t=this.storeInfo.delivery_info.filter((function(t){return 3===t.delivery_type})).sort((function(t,e){return t.order_min_distance_m-e.order_min_distance_m})),e=[];return t.forEach((function(i,s){var o={};s<t.length-1?(o={order_min_distance_m:i.order_min_distance_m,order_max_distance_m:t[s+1].order_min_distance_m,order_min_price:t[s+1].order_min_price},e.push(o)):1===t.length&&(o={order_min_distance_m:i.order_min_distance_m,order_max_distance_m:null,order_min_price:i.order_min_price},e.push(o))})),e},hasPlasticInfo:function(){var t=this.orderInfo.order_type;return 3!==t&&this.orderOthers.order_info.plastic_info.plastic_option},shippingItem:function(){var t=this,e=this.orderOthers.order_info.shipping_fee_item_list;if(e){var i=e.find((function(e){if(e.end_money){if(t.showMoney>=e.start_money&&t.showMoney<=e.end_money)return e}else if(t.showMoney>=e.start_money)return e}));if(i)return i}return{}},shippingMoney:function(){return"orderListInfoV1"===this.$route.name?this.orderInfo.shipping_money:this.shippingItem.fee?this.shippingItem.fee:0},followerCouponMoney:function(){var t=this.orderOthers.group_buy_follower_order_coupons,e=this.orderOthers.group_buy_follower_order_list,i=0;if(t)for(var s in t)t[s].forEach((function(t){1===t.discount_type?i+=t.discount_value:2===t.discount_type&&(i+=t.money)}));return e&&e.forEach((function(t){t.product_simple.forEach((function(e){t.product_coupon.item_list[e.item_set_uid]&&(i+=t.product_coupon.item_list[e.item_set_uid].total_discount)}))})),i},productCouponMoney:function(){var t=this.orderOthers.order_info.product_coupon.total_discount,e=t;return e},productVoucherMoney:function(){var t=this.orderOthers.order_info.product_voucher.total_discount,e=t;return e},followerCouponAmount:function(){var t=this.orderOthers.group_buy_follower_order_coupons,e=this.orderOthers.group_buy_follower_order_list,i=0;if(t)for(var s in t)i+=t[s].length;return e&&e.forEach((function(t){t.product_simple.forEach((function(e){t.product_coupon.item_list[e.item_set_uid]&&(i+=t.product_coupon.item_list[e.item_set_uid].coupon_count)}))})),i},productCouponAmount:function(){var t=this.orderOthers.order_info,e=0;return t.product_coupon&&(t.product?t.product.forEach((function(i){1===i.has_coupon&&void 0!==t.product_coupon.item_list[i.item_set_uid]&&(e+=t.product_coupon.item_list[i.item_set_uid].list.length)})):t.product_simple&&t.product_simple.forEach((function(i,s){void 0!==t.product_coupon.item_list[i.item_set_uid]&&(e+=t.product_coupon.item_list[i.item_set_uid].list.length)}))),e},productVoucherAmount:function(){var t=this.orderOthers.order_info,e=0;return t.product_voucher&&(t.product?t.product.forEach((function(i){1===i.has_voucher&&void 0!==t.product_voucher.item_list[i.item_set_uid]&&(e+=t.product_voucher.item_list[i.item_set_uid].list.length)})):t.product_simple&&t.product_simple.forEach((function(i){void 0!==t.product_voucher.item_list[i.item_set_uid]&&(e+=t.product_voucher.item_list[i.item_set_uid].list.length)}))),e},showAmount:function(){return 2===this.orderInfo.order_type?this.orderInfo.total_amount:this.orderInfo.amount},showMoney:function(){return 2===this.orderInfo.order_type?this.roundingNum(this.orderInfo.rounding_type,this.orderInfo.total_money):this.roundingNum(this.orderInfo.rounding_type,this.orderInfo.money)},deliveryExceptionInfo:function(){var t=(this.storeInfo["delivery_exception_info"][3]["product"]||"").split("、"),e=this.orderOthers.order_info.product.filter((function(e){return t.includes(e.name)})),i=this.orderOthers.group_buy_follower_order_list||[];i.forEach((function(i){e=[].concat(n()(e),n()(i.product_simple.filter((function(e){return t.includes(e.name)}))))}));var s=[];return e.forEach((function(t){-1===s.indexOf(t.name)&&s.push(t.name)})),s},showDeliveryThreshold:function(){var t=this.orderInfo,e=this.deliveryTotalPaid(),i=100*Math.floor(t.delivery_distance/100),s=i||0,o=JSON.parse(JSON.stringify(this.deliveryRank)).reverse(),r=this.deliveryRank[0]||{order_min_price:0},n=o.find((function(t){return t.order_min_distance_m<s}));n||(n=o.find((function(t,e){return e===o.length-1})));var a=n?n.order_min_price:0,c="",u="才不易被退單喔！",d=0;return 3===t.delivery_type&&e<a&&(2!==this.storeInfo.delivery_stage_limit_type&&r.order_min_price!==n.order_min_price||(u="才符合門檻喔！"),c=this.deliveryExceptionInfo.length>0?"排除「".concat(this.deliveryExceptionInfo.join("、"),"」與折扣後"):"使用折扣後",d=a-e,"".concat(c,"，還差").concat(d,"元").concat(u))},totalPaid:function(){var t=this.showMoney,e=this.orderInfo.order_type,i=this.useCoupon.coupon_money+this.followerCouponMoney,s=this.orderOthers.order_info.allowance.total_allowance,o=this.orderOthers.order_info.product_coupon.total_discount,r=this.orderOthers.order_info.product_voucher.total_discount,n=this.pointdiscount.total_discount,a=this.memberdiscount.total_discount,c=this.appliableDiscount.total_discount;this.$store.commit("order/setCouponMoney",i||0),this.$store.commit("order/setProductCouponMoney",o||0),this.$store.commit("order/setProductVoucherMoney",r||0),this.$store.commit("order/setAllowance",s||0),this.$store.commit("order/setPointDiscount",n||0),this.$store.commit("order/setMemberDiscount",a||0),this.$store.commit("order/setStoreDiscount",c||0);var u=0;3!==e&&(u=this.orderOthers.order_info.plastic_info.money);var d=this.shippingMoney;return i&&(t-=i),s&&(t-=s),o&&(t-=o),r&&(t-=r),c&&(t-=c),n&&(t-=n),a&&(t-=a),this.hasPlasticInfo&&this.needPlasticBag&&u&&(t+=u),this.storeInfo.shipping_fee_type&&3===this.orderInfo.delivery_type&&d&&(t+=d),this.$set(this.orderAttach,"total_money",t),t}}},p=h,m=(i("3d03"),i("2877")),g=Object(m["a"])(p,s,o,!1,null,"4503f696",null);e["a"]=g.exports},"6f9c":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"full-width"},[s("input-label",{attrs:{value:t.showOrderTime,opt:t.opt},on:{updateClick:function(e){t.show.modal_delivery_time_detail=!0}},scopedSlots:t._u([t.showBookingTag?{key:"badge-before",fn:function(){return[t.isToday?s("span",{staticClass:"q-mr-xs"},[t._v("\n        今日\n      ")]):s("span",{staticClass:"shopping-booking-btn q-mr-xs"},[t._v("\n        預約\n      ")])]},proxy:!0}:null],null,!0)}),s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.show.modal_delivery_time_detail,callback:function(e){t.$set(t.show,"modal_delivery_time_detail",e)},expression:"show.modal_delivery_time_detail"}},[s("q-card",{class:["q-card bg-white nidin-modal",{"overflow-hidden":t.$q.screen.lt.sm}]},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_delivery_time_detail=!1}}}),s("q-card-section",{staticClass:"col scroll q-pa-none",staticStyle:{"padding-bottom":"200px"},style:t.$q.screen.lt.sm?"height: calc("+t.dialogH+"px - 122px)":"min-height: calc("+t.dialogH+"px - 350px); max-height: calc("+t.dialogH+"px - 268px)"},[s("div",{staticClass:"q-mb-md"},[s("p",[s("span",{staticClass:"text-bold text-secondary q-mr-xs"},[t._v("＊")]),t._v("\n            "+t._s(t.$t("order.pickup_time"))+"\n          ")]),s("div",{staticClass:"q-mb-md"},[s("q-input",{staticClass:"font-size-subtitle-2",attrs:{outlined:""},on:{click:function(e){return t.$refs.qDateProxy.show()}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer q-mx-none",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"YYYY-MM-DD",options:t.dateOption},on:{input:t.changeDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)]},proxy:!0}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.orderInfo.delivery_type,expression:"orderInfo.delivery_type === 1"}],staticClass:"font-size-subtitle-2 q-mb-md"},[s("div",{staticClass:"flex justify-between border-m-around cursor-pointer nidin-time-picker",staticStyle:{border:"1px solid rgba(0,0,0, 0.26)"}},[s("vue-timepicker",{staticClass:"col",attrs:{format:t.timepicker.format,"minute-interval":t.timepicker.min_interval,"hide-clear-button":"","input-width":"100%","auto-scroll":"","hide-disabled-items":"","hour-range":t.selfRange.hour,"minute-range":t.self_minute_range},on:{change:function(e){return t.changeSingleTime(e,1)},close:function(e){return t.checkOrderAmountLimit()}},model:{value:t.self_time,callback:function(e){t.self_time=e},expression:"self_time"}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:3===t.orderInfo.delivery_type,expression:"orderInfo.delivery_type === 3"}],staticClass:"font-size-subtitle-2 flex flex-center"},[s("div",{staticClass:"col flex border-m-around nidin-time-picker",staticStyle:{border:"1px solid rgba(0,0,0, 0.26)"}},[s("vue-timepicker",{attrs:{format:t.timepicker.format,"minute-interval":t.timepicker.min_interval,"hide-clear-button":"","input-width":"100%","auto-scroll":"","hide-disabled-items":"","hour-range":t.deliveryStartRange.hour,"minute-range":t.delivery_start_minute_range},on:{change:function(e){return t.changeSingleTime(e,3)},close:function(e){return t.checkOrderAmountLimit()}},model:{value:t.delivery_time.start_time,callback:function(e){t.$set(t.delivery_time,"start_time",e)},expression:"delivery_time.start_time"}})],1),s("div",{staticClass:"col-auto q-px-xs"},[t._v("\n              ~\n            ")]),s("div",{staticClass:"col flex border-m-around nidin-time-picker disabled",staticStyle:{border:"1px solid rgba(0,0,0, 0.26)"}},[s("vue-timepicker",{attrs:{format:t.timepicker.format,"minute-interval":t.timepicker.min_interval,"hide-clear-button":"","input-width":"100%","auto-scroll":"","hide-disabled-items":"","hour-range":t.deliveryEndRange.hour,"minute-range":t.delivery_end_minute_range},on:{change:function(e){return t.changeSingleTime(e,31)},close:function(e){return t.checkOrderAmountLimit()}},model:{value:t.delivery_time.end_time,callback:function(e){t.$set(t.delivery_time,"end_time",e)},expression:"delivery_time.end_time"}})],1)])]),t.showAmountlimit?s("div",{staticClass:"q-pa-md q-mb-md bg-yellow-2"},[s("div",{staticClass:"block"},[s("div",[s("q-icon",{staticClass:"q-ma-none q-mr-sm",staticStyle:{"margin-top":"-4px"},attrs:{color:"warning",name:"fas fa-exclamation-circle"}}),s("span",[t._v("以下時段店家已滿單：")])],1),t._l(t.amountTimeList,(function(e,i){return s("div",{key:"limit"+(i+1)},[s("span",{staticClass:"q-mr-sm",domProps:{textContent:t._s("．")}}),s("span",[t._v(t._s(e.start_time)+"~"+t._s(e.end_time))])])})),s("div",[s("span",{staticClass:"q-mr-sm"},[t._v("\n                 \n              ")]),s("span",[t._v("\n                請選擇其他時間，造成不便敬請見諒。\n              ")])])],2)]):t._e(),s("div",{staticClass:"bg-light-secondary q-pa-md"},[s("q-icon",{staticClass:"q-ma-none q-mr-sm",staticStyle:{"margin-top":"-4px"},attrs:{color:"secondary",name:"fas fa-exclamation-circle"}}),s("span",[t._v("\n            預計取貨時間會依門市狀況調整，請在送單後再次確認，並保持電話暢通避免溝通延誤，謝謝\n          ")]),t.showDeliveryLimit?s("div",{staticClass:"q-mt-md"},[s("delivery-limit",{attrs:{"store-info":t.storeInfo,"delivery-type":t.orderInfo.delivery_type}})],1):t._e()],1)]),s("q-card-actions",{staticClass:"row q-pt-md q-px-none border-top"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",class:{"bg-d-gray":t.show.btn_spinner},attrs:{disabled:t.show.btn_spinner},on:{click:t.clickSave}},[s("span",[t._v(t._s(t.$t("common.save")))])])],1)])],1)],1)],1)},o=[],r=(i("8e6e"),i("8a81"),i("20d6"),i("8993")),n=i.n(r),a=(i("7f7f"),i("c47a")),c=i.n(a),u=i("967e"),d=i.n(u),l=(i("96cf"),i("fa84")),M=i.n(l),h=(i("7514"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c5f6"),i("c1df")),p=i.n(h),m=i("791e"),g=i("5738"),_=i("45889"),f=i("7b29"),y=i("97fc"),I=i.n(y);i("1e11");function N(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function D(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var j={name:"NdDeliveryTime",components:{VueTimepicker:I.a,"input-label":f["default"],"delivery-limit":g["a"],"message-block":_["a"]},mixins:[m["a"]],props:{orderInfo:Object,storeInfo:Object,updateOrder:Function,getDisableProd:Function,updateAllDiscount:Function},data:function(){return{amountTimeList:[],dEndDefault:{},date:p()().format("YYYY-MM-DD"),delivery_end_minute_range:[],delivery_start_minute_range:[],delivery_time:{start_time:{},end_time:{}},inner_minute_range:[],inner_time:{},opt:{name:"取貨時間會依門市現場狀況調整",type:"",placeholder:"請輸入取貨時間",required:!0,icon:"arrow",rules:"",maxlength:Number,notInput:!0,disable:!1},self_minute_range:[],self_time:{},show:{modal_delivery_time_detail:!1,btn_spinner:!1},showAmountlimit:!1,timepicker:{format:"HH:mm",min_interval:10}}},computed:{showBookingTag:function(){return!!(!this.storeInfo.is_off_day||this.storeInfo.is_off_allow_order&&this.storeInfo.order_tolerance_day)&&(!(this.storeInfo.is_preparing&&!this.storeInfo.is_preparing_allow_order)&&!(this.storeInfo.is_close&&!this.storeInfo.is_close_allow_order))},showDeliveryLimit:function(){if(!this.storeInfo||!this.storeInfo.delivery_exception_calendar_group)return!1;var t=this.storeInfo.delivery_exception_calendar_group;return Object.keys(t).some((function(e){return Object.keys(t[e]).some((function(i){return 0!==t[e][i].length}))}))},showOrderTime:function(){var t="，暫時無法接單喔";if(!(!this.storeInfo.is_off_day||this.storeInfo.is_off_allow_order&&this.storeInfo.order_tolerance_day))return"門市今日公休"+t;if(this.storeInfo.is_preparing&&!this.storeInfo.is_preparing_allow_order)return"門市尚未營業"+t;if(this.storeInfo.is_close&&!this.storeInfo.is_close_allow_order)return"門市今日已結束"+t;var e="";return this.today||(e+=this.orderTime.date+" "),e+=this.orderTime.start,3===this.orderInfo.delivery_type&&(e+="~"+this.orderTime.end),e},canEdit:function(){var t=this.storeInfo;return!(t.is_off_day&&!t.is_off_allow_order)&&(!(t.is_off_day&&!t.order_tolerance_day)&&(!(t.is_preparing&&!t.is_preparing_allow_order)&&!(t.is_close&&!t.is_close_allow_order)))},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=p()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=p()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}},isToday:function(){var t=p()().format("YYYY-MM-DD"),e=this.orderInfo,i="";return e.delivery_reserv_date&&(i=e.delivery_reserv_date),i===t},dateExceptionCalendar:function(){var t=this.storeInfo.delivery_exception_calendar[this.orderInfo.delivery_type];return t||{}},dateTime:function(){var t=this.storeInfo.opening_times_weekly,e=p()(this.date,"YYYY-MM-DD").day(),i=t.find((function(t){return t.week_day-1===e}));return i||(i={order_start_time:this.storeInfo.order_start_time,order_end_time:this.storeInfo.order_end_time}),i},startTime:function(){var t=this.dateTime.order_start_time;return{HH:parseInt(this.getTime(2,t,"HH"),10),mm:parseInt(this.getTime(2,t,"mm"),10),start_time:t}},endTime:function(){var t=this.dateTime.order_end_time;return{HH:parseInt(this.getTime(2,t,"HH"),10),mm:parseInt(this.getTime(2,t,"mm"),10),end_time:t}},selfRange:function(){return this.getRange(1)},innerRange:function(){return this.getRange(2)},deliveryStartRange:function(){return this.getRange(3)},deliveryEndRange:function(){return this.getRange(31)},tips:function(){var t=!0;return t}},watch:{"orderInfo.delivery_type":function(){this.setDefault(!0,!0),this.setInputLabelOption()},"show.modal_delivery_time_detail":function(){!0===this.show.modal_delivery_time_detail&&this.checkOrderAmountLimit()}},mounted:function(){this.setDefault(!0),this.setInputLabelOption(),this.clickSave()},methods:{checkOrderAmountLimit:function(){var t=M()(d.a.mark((function t(){var e,i,s,o=this;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.$route.params.order_id,i="/carts/".concat(e,"/checkAmountLimit"),s={delivery_reserv_start_time:"",delivery_type:this.orderInfo.delivery_type},t.t0=this.orderTime.delivery_type,t.next=1===t.t0?6:2===t.t0?8:3===t.t0?10:12;break;case 6:return s.delivery_reserv_start_time=this.date+" "+this.self_time.HH+":"+this.self_time.mm+":00",t.abrupt("break",13);case 8:return s.delivery_reserv_start_time=this.date+" "+this.inner_time.HH+":"+this.inner_time.mm+":00",t.abrupt("break",13);case 10:return s.delivery_reserv_start_time=this.date+" "+this.delivery_time.start_time.HH+":"+this.delivery_time.start_time.mm+":00",t.abrupt("break",13);case 12:return t.abrupt("break",13);case 13:return t.next=15,this.postDataH(i,s).then((function(t){if(200===t.data.status){var e=t.data.is_over_limit;0===e?(o.show.btn_spinner=!1,o.showAmountlimit=!1):1===e&&(o.show.btn_spinner=!0,o.showAmountlimit=!0,o.amountTimeList=t.data.limit_list)}})).catch((function(t){}));case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clickSave:function(){var t=M()(d.a.mark((function t(){var e;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==this.show.btn_spinner){t.next=11;break}return t.next=3,this.saveTime();case 3:return t.next=5,this.getDisableProd(!0);case 5:return e={delivery_type:this.orderTime.delivery_type,delivery_reserv_start_time:this.orderTime.date+" "+this.orderTime.start+":00"},3===this.orderTime.delivery_type&&(e=D({},e,{delivery_reserv_end_time:this.orderTime.date+" "+this.orderTime.end+":00",delivery_reserv_start_time:this.orderTime.date+" "+this.orderTime.start+":00",distance_service_model:this.storeInfo.distance_service_model,showDeliveryErrorMessage:!0})),t.next=9,this.updateOrder(e,null,{component:this.$options.name,function:"clickSave",time:this.moment().format("HH:mm:ss"),payload:{}});case 9:this.updateAllDiscount({getStoreOrderInfo:!0}),this.show.modal_delivery_time_detail=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeDate:function(){var t=M()(d.a.mark((function t(){return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.setDefault(),this.$refs.qDateProxy.hide(),!0!==this.show.modal_delivery_time_detail){t.next=5;break}return t.next=5,this.checkOrderAmountLimit();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeSingleTime:function(t,e){var i=[],s=this.selfRange,o=this.self_time;if(2===e?(s=this.innerRange,o=this.inner_time):3===e?(s=this.deliveryStartRange,o=this.delivery_time.start_time):31===e&&(s=this.deliveryEndRange,o=this.delivery_time.end_time),i=s.h_min===s.h_max&&s.m_min===s.m_max?[s.m_min]:s.h_min===parseInt(t.data.HH,10)?[s.m_min,59]:s.h_max===parseInt(t.data.HH,10)?[0,s.m_max]:[0,59],i.length&&i[0]===i[1]&&(i=[i[0]]),1===e?i.length>1?this.self_minute_range=[i]:this.self_minute_range=i:2===e?i.length>1?this.inner_minute_range=[i]:this.inner_minute_range=i:3===e?i.length>1?this.delivery_start_minute_range=[i]:this.delivery_start_minute_range=i:31===e&&(i.length>1?this.delivery_end_minute_range=[i]:this.delivery_end_minute_range=i),i.length>1?parseInt(t.data.mm,10)<i[0]?this.$set(o,"mm",("0"+i[0]).slice(-2)):parseInt(t.data.mm,10)>i[1]&&this.$set(o,"mm",("0"+i[1]).slice(-2)):i[0]!==parseInt(t.data.mm,10)&&this.$set(o,"mm",("0"+i[0]).slice(-2)),3===e){var r=this.deliveryTime(3).duration,n=this.checkEndTime(p()(t.displayTime,"HH:mm").add(r,"minutes"));this.$set(this.delivery_time.end_time,"HH",p()(n).format("HH")),this.$set(this.delivery_time.end_time,"mm",p()(n).format("mm"))}},dateOption:function(t){var e=this.storeInfo,i=p()(t,"YYYY/MM/DD").day(),s=parseInt(p()(t,"YYYY/MM/DD").format("DD"),10),o=p()().format("YYYY/MM/DD"),r=p()().add(e.order_start_day,"days").format("YYYY/MM/DD"),n=p()().add(e.order_start_day,"days").add(e.order_tolerance_day,"days").format("YYYY/MM/DD"),a=e.off_times_setting,c=!1,u=e.is_close;return a.week_day.forEach((function(t){t-1===i&&(c=!0)})),a.date.forEach((function(e){p()(e,"YYYY-MM-DD").format("YYYY-MM-DD")===p()(t).format("YYYY-MM-DD")&&(c=!0)})),a.month_day.forEach((function(t){t===s&&(c=!0)})),(t!==o||!u)&&(!c&&(t>=o&&t>=r&&t<=n))},closeDate:function(){this.$refs.qDateProxy.hide()},saveDeliveryTime:function(){},setDefault:function(t,e){var i=this.storeInfo,s=i.is_off_day&&i.is_off_allow_order,o=i.is_close&&i.is_close_allow_order,r=null!==i.order_start_day&&void 0!==n()(i.order_start_day)&&i.order_start_day>0,a=s||o||r;a&&t&&(this.date=r?p()().add(i.order_start_day,"days").format("YYYY-MM-DD"):i.next_opening_date);var c=this.deliveryTime(1).available_time,u=this.deliveryTime(2).available_time,d=this.deliveryTime(3).available_time,l=this.deliveryTime(3).duration,M=this.checkEndTime(p()(this.startTime.start_time,"HH:mm:ss").add(c,"minutes")),h=this.checkEndTime(p()(this.startTime.start_time,"HH:mm:ss").add(u,"minutes")),m=this.checkEndTime(p()(this.startTime.start_time,"HH:mm:ss").add(d,"minutes")),g=this.checkEndTime(p()(this.startTime.start_time,"HH:mm:ss").add(d+l,"minutes")),_=p()().format("YYYY-MM-DD");if(this.date===_&&i.is_open&&(M=this.checkEndTime(p()().add(c,"minutes")),h=this.checkEndTime(p()().add(u,"minutes")),m=this.checkEndTime(p()().add(d,"minutes")),g=this.checkEndTime(p()().add(d+l,"minutes"))),this.$set(this.self_time,"HH",p()(M).format("HH")),this.$set(this.self_time,"mm",p()(M).format("mm")),this.$set(this.inner_time,"HH",p()(h).format("HH")),this.$set(this.inner_time,"mm",p()(h).format("mm")),this.$set(this.delivery_time.start_time,"HH",p()(m).format("HH")),this.$set(this.delivery_time.start_time,"mm",p()(m).format("mm")),this.$set(this.delivery_time.end_time,"HH",p()(g).format("HH")),this.$set(this.delivery_time.end_time,"mm",p()(g).format("mm")),this.dEndDefault=g,t){var f=this;this.checkOrderTime(e,(function(t){f.saveTime(t),f.getDisableProd(!0)}))}},setInputLabelOption:function(){switch(this.orderInfo.delivery_type){case 1:case 3:this.opt.disable=!1,this.opt.icon="arrow",this.opt.name="取貨時間會依門市現場狀況調整";break;case 2:this.opt.disable=!0,this.opt.icon="",this.opt.name="依門市現場狀況調整，無法進行修改";break;default:break}},checkOrderTime:function(t,e){var i=this.orderTime,s=this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_delivery_time");s&&(i=s);var o=i.date+" "+i.start,r=this.orderInfo.delivery_type,n="";1===r?n=this.date+" "+this.self_time.HH+":"+this.self_time.mm:2===r?n=this.date+" "+this.inner_time.HH+":"+this.inner_time.mm:3===r&&(n=this.date+" "+this.delivery_time.start_time.HH+":"+this.delivery_time.start_time.mm),!t&&o&&Date.parse(p()(o,"YYYY-MM-DD HH:mm"))>Date.parse(p()(n,"YYYY-MM-DD HH:mm"))?(this.date=i.date,1===r&&(this.$set(this.self_time,"HH",p()(i.start,"HH:mm").format("HH")),this.$set(this.self_time,"mm",p()(i.start,"HH:mm").format("mm"))),2===r&&(this.$set(this.inner_time,"HH",p()(i.start,"HH:mm").format("HH")),this.$set(this.inner_time,"mm",p()(i.start,"HH:mm").format("mm"))),3===r&&(this.$set(this.delivery_time.start_time,"HH",p()(i.start,"HH:mm").format("HH")),this.$set(this.delivery_time.start_time,"mm",p()(i.start,"HH:mm").format("mm")),this.$set(this.delivery_time.end_time,"HH",p()(i.end,"HH:mm").format("HH")),this.$set(this.delivery_time.end_time,"mm",p()(i.end,"HH:mm").format("mm"))),e(s)):e()},saveTime:function(){var t=M()(d.a.mark((function t(e){var i,s,o,r,n,a,c;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=this.orderInfo,s=i.delivery_type,o=p()(this.self_time.HH+":"+this.self_time.mm,"HH:mm").format("HH:mm:ss"),r=p()(this.inner_time.HH+":"+this.inner_time.mm,"HH:mm").format("HH:mm:ss"),n=p()(this.delivery_time.start_time.HH+":"+this.delivery_time.start_time.mm,"HH:mm").format("HH:mm:ss"),a=p()(this.delivery_time.end_time.HH+":"+this.delivery_time.end_time.mm,"HH:mm").diff(p()(this.delivery_time.start_time.HH+":"+this.delivery_time.start_time.mm,"HH:mm"),"minute"),c=e||{},c&&i.delivery_type===c.delivery_type?(this.$set(i,"delivery_reserv_date",e.date),a=p()(e.end,"HH:mm").diff(p()(e.start,"HH:mm"),"minute"),this.$set(i,"delivery_reserv_time",p()(e.start,"HH:mm").format("HH:mm:ss")),this.$set(i,"delivery_reserv_tolerance",a)):(this.$set(i,"delivery_reserv_date",this.date),1===s?this.$set(i,"delivery_reserv_time",o):2===s?this.$set(i,"delivery_reserv_time",r):3===s&&(this.$set(i,"delivery_reserv_time",n),this.$set(i,"delivery_reserv_tolerance",a)),this.orderTime.start&&this.orderTime.end&&this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_delivery_time",this.orderTime));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),checkEndTime:function(t){var e=p()(this.dateTime.order_end_time,"HH:mm:ss");if(Date.parse(t)>Date.parse(e))return e;var i=Math.ceil(t.clone().minute()/this.timepicker.min_interval)*this.timepicker.min_interval;return t.clone().minute(i).second(0)},removeArrayElement:function(t,e){var i=t.findIndex((function(t){return t===e}));return i&&(t=t.slice(i)),t},deliveryTime:function(t){var e=this.storeInfo.delivery_time_info.find((function(e){return t===e.delivery_type}));return e||{available_time:0,duration:0}},getRange:function(t){var e={min:"",max:"",hour:[],h_min:"",h_max:"",m_min:"",m_max:""};if(this.endTime.end_time)if(3===t){var i=this.deliveryTime(3).duration;e.max=p()(this.endTime.end_time,"HH:mm:ss").subtract(i,"minutes").format("HH:mm")}else e.max=p()(this.endTime.end_time,"HH:mm:ss").format("HH:mm");var s=this.deliveryTime(t).available_time,o=this.checkEndTime(p()(this.startTime.start_time,"HH:mm:ss").add(s,"minutes")),r=p()().format("YYYY-MM-DD");if(31===t?e.min=p()(this.dEndDefault).format("HH")+":"+p()(this.dEndDefault).format("mm"):this.date===r?Date.parse(p()())<Date.parse(o)?e.min=o:e.min=p()(this.checkEndTime(p()().add(s,"minutes"))).format("HH:mm"):e.min=p()(o).format("HH:mm"),e.min&&e.max){var n=parseInt(p()(e.min,"HH:mm").format("HH"),10),a=parseInt(p()(e.max,"HH:mm").format("HH"),10),c=parseInt(p()(e.min,"HH:mm").format("mm"),10),u=parseInt(p()(e.max,"HH:mm").format("mm"),10);e.hour.push([n,a]),e.h_min=n,e.h_max=a,e.m_min=c,e.m_max=u}return e}}},v=j,L=i("2877"),x=Object(L["a"])(v,s,o,!1,null,null,null);e["a"]=x.exports},7237:function(t,e,i){"use strict";var s=i("08cb"),o=i.n(s);o.a},7407:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsSAAALEgHS3X78AAAD2ElEQVR42u3cMW/TQACG4S8pG0RiAtlTikRmpPPQMYgNVbRMFWMEimHiJ1QdmKFjLKqwdYRIXTrVYmLo/QEP0O1UVtO1YWgSJU0TWtdOQ/o+EgM+1/Jd3tpOFJAAAAAAAAAAAAAAAAAAAAAAAJhPpWmDxph1SWuS6pKqLBckHUmKJXWstd+uFJYxpi6pTUy4RGQNa218fqB8QVQfJR0QFS6hKumg18yIpXNRtSW9Zb1wRSu+71edc52xsHrVERWyeuL7/n3n3P7gGav3THXA2iAHT621cf8Zq816ICdtSSr1PlL4ynogRy/LOvucCsjTWllnH34CeaqXxedVyF+1zBqgCIQFwgJhgbAAwgJhgbAAwgJhgbAAwgJhgbAAwgJhgbAAwgJhgbAAwgJhgbCA67qTx0Hu3ZVqj7qFn2zys6Q/J7xotyKs929OtfGiO7MT3tkta2e3xCu3yLfCWUclSa9fner5sy6v3CKHNeuohuPCgob1ePnmrhreA164hQ2rco/FQ0G3QoCwQFggLICwQFggLICwQFggLICwQFi4fWG5Y75shyLC+n325yZ8/0HUC30r/LA9+zvpnxNp+zN38HlXMsZc6xt7j5e72njRlfew+JN1x2ffeb+pKyVmGBbAu0IQFggLICwQFggLICwQFggLICwQFggLICwQFggLkHTN/9y2Xq9rc3NTlUplsM05pzAMtbq6qmazObK/tVZhGKrVaskYMzIWRZH29vbUarXked5ge5qm2traUhzHI/tnOYakTOc7D3P2fX/ifkmSFDrnmV+xarXayAlLkud58jxvbBElDbZNGuv/7LBKpaJarTbxWFc5RtbznYc5T9uv6Dnf2K0wDEMFQaAoisbGgiBQEASy1o79ZvTHzouiSEEQ/PM3J+sxspzvvMx52n5Fz5lnLPDwDsICZvOucPgd2iSHh4cXbjfGTBxrNptj71byPEaW852XOU/br+g5z+yKlSSJ0jQd2eack3PuwgfB/rZJY/2fHZamqZIkmXisqxwj6/nOw5yn7Vf0nLPg3xWCZywQFggLICwQFggLICwQFggLICwQFggLICwQFggLICwQFggLICzMc1hHLANydlSWFLMOyFlcltRhHZCzTkmSjDG/JFVZD+RxG7TWLvcf3husB3LSkKQlSXLOHfm+f1/SCuuCa/hkrW0NwurFte/7flXSE9YHGXyx1r7r/2VpeMQ51+HKhYxXqnfDG0oX7WWMqUtq80CPfz2oS2pYa+PzA6VpP2WMWZe0JqlOZBiKKZbUsdZ+YzkAAAAAAAAAAAAAAAAAAAAAAP+bv0494eQX+aMCAAAAAElFTkSuQmCC"},7570:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("q-card",{staticClass:"full-width column full-width justify-center items-center q-pa-md-md no-shadow",class:{"border-around no-background":!t.$q.screen.gt.sm}},[t.$q.screen.gt.sm?i("div",{staticClass:"content"},[i("q-avatar",{staticClass:"q-mt-md",attrs:{size:"80px"}},[i("q-img",{attrs:{src:t.accountImg,ratio:1,"img-class":"circle"}})],1),i("div",{staticClass:"q-mt-md text-subtitle2 text-bold text-center"},[t._v(t._s(t.$store.state.user.user_info.nickname))]),t.canUpgrade?i("div",{staticClass:"q-mt-xs text-subtitle2 text-center text-grey"},[t._v("未整合")]):i("div",{staticClass:"q-mt-xs text-subtitle2 text-center"},[t._v(t._s(t.$store.state.user.user_info.user_no||"-"))]),t.canUpgrade?i("div",{staticClass:"upgrade text-center q-mt-lg q-mb-md"},[i("div",{staticClass:"q-mb-sm"},[t._v("會員整合服務")]),i("q-btn",{attrs:{color:"primary full-width"},on:{click:function(e){return t.$router.push({name:"Upgrade"})}}},[i("span",[t._v("進行整合")]),i("q-icon",{staticClass:"q-ma-none q-ml-xs",attrs:{size:"xs",name:"chevron_right"}})],1)],1):t._e()],1):i("div",{staticClass:"content"},[i("q-list",{staticClass:"full-width border-around",attrs:{padding:""}},[i("q-item",{staticClass:"list-item",attrs:{clickable:!t.isLogin},on:{click:t.goToPage}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",[i("q-img",{attrs:{src:t.accountImg,ratio:1}})],1)],1),i("q-item-section",[t.isLogin?i("q-item-label",{staticClass:"label-name",attrs:{lines:"1"}},[t._v(t._s(t.$store.state.user.user_info.nickname))]):i("q-item-label",{attrs:{lines:"1"}},[t._v("立即登入/註冊")]),t.canUpgrade?i("q-item-label",{staticClass:"q-mt-none",attrs:{caption:""}},[t._v("未整合")]):t.isLogin?i("q-item-label",{staticClass:"q-mt-none",attrs:{caption:""}},[t._v(t._s(t.$store.state.user.user_info.user_no))]):t._e()],1),i("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{side:""}},[t.isLogin?i("q-btn",{attrs:{color:"grey-6",size:"md",flat:"",dense:"",round:"",icon:"notifications_none",to:{name:t.isOnSite?"OnSiteNotify":"Notify"}}},[t.$store.state.user.unread_total?i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-12 q-badge-xs",attrs:{color:"red",floating:""},domProps:{textContent:t._s(t.$store.state.user.unread_total)}}):t._e()],1):t._e()],1)],1),t.canUpgrade?i("div",{staticClass:"upgrade_span"},[i("div",{staticClass:"flex justify-between upgrade_div items-center"},[i("div",{staticClass:"text-subtitle2"},[t._v("\n              會員整合服務\n            ")]),i("q-btn",{staticClass:"q-btn-up",attrs:{size:"xs",dense:"",color:"primary"},on:{click:function(e){return t.$router.push({name:"Upgrade"})}}},[i("div",{staticClass:"up-btn"},[i("span",{staticClass:"up-btn-text"},[t._v("進行整合")]),i("q-icon",{staticClass:"q-ma-none",attrs:{size:"xs",name:"chevron_right"}})],1)])],1)]):t._e()],1)],1)])],1)},o=[],r=(i("6762"),i("2fdb"),i("2093")),n=i.n(r),a=i("791e"),c={name:"nd-avatar",mixins:[a["a"]],computed:{accountImg:function(){return this.$store.state.user.user_info.mugshot_url||n.a}},methods:{goToPage:function(){this.isLogin||(this.$route.path.includes("onSite")?this.$router.push({name:"OnSiteBind"}):this.$router.push({name:"login"}))}}},u=c,d=(i("791a"),i("2877")),l=Object(d["a"])(u,s,o,!1,null,"0bbcab0e",null);e["a"]=l.exports},"75fd":function(t,e,i){"use strict";var s=i("6557"),o=i.n(s);o.a},"76c3":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5ZyW5bGkXzEiIGRhdGEtbmFtZT0i5ZyW5bGkIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQwLjgyIDQwLjgyIj48dGl0bGU+aTwvdGl0bGU+PHBhdGggZD0iTTM5LjgyLDE2Ljg3bDEtLjE3VjcuNjVIMjkuNjZWMTJIMjcuMjdWNy42NUgwdjkuMDVsMSwuMTdhMy41OSwzLjU5LDAsMCwxLDAsNy4wN2wtMSwuMTd2OS4wNUgyNy4yN1YyOC44MmgyLjM5djQuMzRINDAuODJWMjQuMTFsLTEtLjE3YTMuNTksMy41OSwwLDAsMSwwLTcuMDdaTTI5LjY2LDI2LjQzSDI3LjI3VjIxLjY1aDIuMzlabTAtNy4yNUgyNy4yN1YxNC4zOWgyLjM5WiIvPjwvc3ZnPg=="},"791a":function(t,e,i){"use strict";var s=i("950c"),o=i.n(s);o.a},7967:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5ZyW5bGkXzEiIGRhdGEtbmFtZT0i5ZyW5bGkIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM5Ljk1IDM5Ljk1Ij48dGl0bGU+aTwvdGl0bGU+PHBhdGggZD0iTTM4LDJIMzJWMEg4VjJIMkExLjg5LDEuODksMCwwLDAsMCw0VjguNzlhOS4wNiw5LjA2LDAsMCwwLDgsOVYxOGExMiwxMiwwLDAsMCw5LjM5LDExLjc5TDE2LDM0SDExLjM5YTEuOTIsMS45MiwwLDAsMC0xLjgsMS40TDgsMzkuOTVIMzJsLTEuNi00LjU5YTEuOTIsMS45MiwwLDAsMC0xLjgtMS40SDI0bC0xLjQtNC4xOUExMiwxMiwwLDAsMCwzMiwxOHYtLjJhOS4wNiw5LjA2LDAsMCwwLDgtOVY0QTEuODksMS44OSwwLDAsMCwzOCwyWk04LDEzLjc4YTUuMzMsNS4zMywwLDAsMS00LTVWNkg4Wk0yNCwyMGwtNC0yLjJMMTYsMjBsMS00LTMtNGg0LjE5TDIwLDhsMS44LDRIMjZsLTMsNFpNMzYsOC43OWE1LjE1LDUuMTUsMCwwLDEtNCw1VjZoNFoiLz48L3N2Zz4="},"798c":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik03LjAwODkgMzAuMjM4NUM2LjY1MjcxIDMwLjIzODUgNi4zMDkyNCAzMC4xMTEzIDYuMDI5MzggMjkuODgyM0M1LjYwOTU5IDI5LjUxMzQgNS40MTg3NyAyOC45NTM3IDUuNTMzMjYgMjguNDA2N0w2LjA2NzU0IDI2LjAxNTFDMy44OTIyNSAyNC4zNjE0IDIuNjA3NDIgMjEuODA0NSAyLjYwNzQyIDE5LjA2OTVWMTMuNzUyMUMyLjYwNzQyIDguOTMwODEgNi41MzgyMiA1IDExLjM1OTUgNUgyNC42NDAzQzI5LjQ2MTUgNSAzMy4zOTIzIDguOTMwODEgMzMuMzkyMyAxMy43NTIxVjE5LjA2OTVDMzMuMzkyMyAyMy44OTA3IDI5LjQ2MTUgMjcuODIxNSAyNC42NDAzIDI3LjgyMTVIMTMuMzk0OUw3LjU1NTkxIDMwLjE0OTVDNy4zOTA1MyAzMC4yMDA0IDcuMTk5NzIgMzAuMjM4NSA3LjAwODkgMzAuMjM4NVpNMTEuMzcyMiA2LjgxOTFDNy41NTU5MSA2LjgxOTEgNC40NTE5NyA5LjkyMzA0IDQuNDUxOTcgMTMuNzM5M1YxOS4wNTY4QzQuNDUxOTcgMjEuMzg0NyA1LjYzNTAzIDIzLjU2IDcuNjA2NzkgMjQuODQ0OEM3LjkyNDgyIDI1LjA0ODQgOC4wNzc0NyAyNS40MyA4LjAwMTE0IDI1LjgxMTZMNy40NjY4NiAyOC4yMDMyTDEyLjg5ODcgMjYuMDQwNkMxMy4wMDA1IDI2LjAwMjQgMTMuMTE1IDI1Ljk3NyAxMy4yNDIyIDI1Ljk3N0gyNC42NTNDMjguNDY5MyAyNS45NzcgMzEuNTczMiAyMi44NzMxIDMxLjU3MzIgMTkuMDU2OFYxMy43MzkzQzMxLjU3MzIgOS45MjMwNCAyOC40NjkzIDYuODE5MSAyNC42NTMgNi44MTkxSDExLjM3MjJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTEuMzA5MiAxNy42NDUyQzEyLjAxODggMTcuNjQ1MiAxMi41OTQxIDE3LjA2OTkgMTIuNTk0MSAxNi4zNjA0QzEyLjU5NDEgMTUuNjUwOCAxMi4wMTg4IDE1LjA3NTYgMTEuMzA5MiAxNS4wNzU2QzEwLjU5OTcgMTUuMDc1NiAxMC4wMjQ0IDE1LjY1MDggMTAuMDI0NCAxNi4zNjA0QzEwLjAyNDQgMTcuMDY5OSAxMC41OTk3IDE3LjY0NTIgMTEuMzA5MiAxNy42NDUyWiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTExLjMwOTEgMTcuOTUwM0MxMC40MzEzIDE3Ljk1MDMgOS43MTg5MyAxNy4yMzggOS43MTg5MyAxNi4zNjAyQzkuNzE4OTMgMTUuNDgyNSAxMC40MzEzIDE0Ljc3MDEgMTEuMzA5MSAxNC43NzAxQzEyLjE4NjggMTQuNzcwMSAxMi44OTkyIDE1LjQ4MjUgMTIuODk5MiAxNi4zNjAyQzEyLjg5OTIgMTcuMjM4IDEyLjE4NjggMTcuOTUwMyAxMS4zMDkxIDE3Ljk1MDNaTTExLjMwOTEgMTUuMzgwN0MxMC43NzQ4IDE1LjM4MDcgMTAuMzI5NSAxNS44MjU5IDEwLjMyOTUgMTYuMzYwMkMxMC4zMjk1IDE2Ljg5NDUgMTAuNzc0OCAxNy4zMzk4IDExLjMwOTEgMTcuMzM5OEMxMS44NDMzIDE3LjMzOTggMTIuMjg4NiAxNi44OTQ1IDEyLjI4ODYgMTYuMzYwMkMxMi4yODg2IDE1LjgyNTkgMTEuODQzMyAxNS4zODA3IDExLjMwOTEgMTUuMzgwN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xOC4wMDA1IDE3LjY0NTJDMTguNzEwMSAxNy42NDUyIDE5LjI4NTMgMTcuMDY5OSAxOS4yODUzIDE2LjM2MDRDMTkuMjg1MyAxNS42NTA4IDE4LjcxMDEgMTUuMDc1NiAxOC4wMDA1IDE1LjA3NTZDMTcuMjkwOSAxNS4wNzU2IDE2LjcxNTYgMTUuNjUwOCAxNi43MTU2IDE2LjM2MDRDMTYuNzE1NiAxNy4wNjk5IDE3LjI5MDkgMTcuNjQ1MiAxOC4wMDA1IDE3LjY0NTJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTguMDAwMyAxNy45NTAzQzE3LjEyMjUgMTcuOTUwMyAxNi40MTAyIDE3LjIzOCAxNi40MTAyIDE2LjM2MDJDMTYuNDEwMiAxNS40ODI1IDE3LjEyMjUgMTQuNzcwMSAxOC4wMDAzIDE0Ljc3MDFDMTguODc4IDE0Ljc3MDEgMTkuNTkwNCAxNS40ODI1IDE5LjU5MDQgMTYuMzYwMkMxOS41OTA0IDE3LjIzOCAxOC44NzggMTcuOTUwMyAxOC4wMDAzIDE3Ljk1MDNaTTE4LjAwMDMgMTUuMzgwN0MxNy40NjYgMTUuMzgwNyAxNy4wMjA4IDE1LjgyNTkgMTcuMDIwOCAxNi4zNjAyQzE3LjAyMDggMTYuODk0NSAxNy40NjYgMTcuMzM5OCAxOC4wMDAzIDE3LjMzOThDMTguNTM0NiAxNy4zMzk4IDE4Ljk3OTggMTYuODk0NSAxOC45Nzk4IDE2LjM2MDJDMTguOTc5OCAxNS44MjU5IDE4LjU0NzMgMTUuMzgwNyAxOC4wMDAzIDE1LjM4MDdaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjQuNzA0NCAxNy42NDUyQzI1LjQxNCAxNy42NDUyIDI1Ljk4OTMgMTcuMDY5OSAyNS45ODkzIDE2LjM2MDRDMjUuOTg5MyAxNS42NTA4IDI1LjQxNCAxNS4wNzU2IDI0LjcwNDQgMTUuMDc1NkMyMy45OTQ5IDE1LjA3NTYgMjMuNDE5NiAxNS42NTA4IDIzLjQxOTYgMTYuMzYwNEMyMy40MTk2IDE3LjA2OTkgMjMuOTk0OSAxNy42NDUyIDI0LjcwNDQgMTcuNjQ1MloiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0yNC43MDQzIDE3Ljk1MDNDMjMuODI2NSAxNy45NTAzIDIzLjExNDEgMTcuMjM4IDIzLjExNDEgMTYuMzYwMkMyMy4xMTQxIDE1LjQ4MjUgMjMuODI2NSAxNC43NzAxIDI0LjcwNDMgMTQuNzcwMUMyNS41ODIgMTQuNzcwMSAyNi4yOTQ0IDE1LjQ4MjUgMjYuMjk0NCAxNi4zNjAyQzI2LjI5NDQgMTcuMjM4IDI1LjU4MiAxNy45NTAzIDI0LjcwNDMgMTcuOTUwM1pNMjQuNzA0MyAxNS4zODA3QzI0LjE3IDE1LjM4MDcgMjMuNzI0NyAxNS44MjU5IDIzLjcyNDcgMTYuMzYwMkMyMy43MjQ3IDE2Ljg5NDUgMjQuMTU3MyAxNy4zMzk4IDI0LjcwNDMgMTcuMzM5OEMyNS4yMzg1IDE3LjMzOTggMjUuNjgzOCAxNi44OTQ1IDI1LjY4MzggMTYuMzYwMkMyNS42ODM4IDE1LjgyNTkgMjUuMjM4NSAxNS4zODA3IDI0LjcwNDMgMTUuMzgwN1oiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="},"7abe":function(t,e,i){"use strict";var s=i("bac2"),o=i.n(s);o.a},"7b29":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative-position line-height",class:[{"q-mt-sm":t.opt.name}]},[t.opt.name?s("div",{staticClass:"input-label text-gray-3"},[t._v("\n    "+t._s(t.opt.name)+"\n  ")]):t._e(),t.opt.notInput?s("div",{staticClass:"input-block cursor-pointer auto-height ellipsis",class:[{ellipsis:t.ellipsis},{disabled:t.opt.disable},{"shopping-waring":t.errorMessage||t.opt.errorText}],on:{click:t.updateClick}},[s("div",{staticClass:"flex column"},[s("div",{class:[{"text-gray-3":!t.inputVal&&!t.opt.textColor},t.opt.textColor]},[t._t("badge-before"),t.opt.image?s("img",{staticClass:"q-mr-md",style:t.opt.image.style,attrs:{src:t.opt.image.url}}):t._e(),t._v("\n\n          "+t._s(t.inputVal||t.opt.placeholder)+"\n          "),t._t("badge-after")],2),s("div",{staticClass:"font-size-caption text-gray-3"},[t._v(t._s(t.inputSubVal))])]),s("div",{staticClass:"icon",class:{"icon-subval-center":t.inputSubVal}},["arrow"===t.opt.icon?s("q-icon",{staticClass:"b-color",attrs:{size:"18px",name:"arrow_forward_ios"}}):"googlemap"===t.opt.icon?s("img",{staticClass:"google-map",attrs:{src:i("4382"),alt:"google-map"}}):"trash-can"===t.opt.icon?s("q-icon",{staticClass:"text-gray-2 trash-can-icon",attrs:{name:"fas fa-trash-alt",size:"15px"}}):t.opt.icon?s("q-icon",{staticClass:"q-mr-none",attrs:{name:t.opt.icon,size:"20px"}}):t._e()],1)]):s("div",{class:{disabled:t.opt.disable}},["checkbox"===t.inputType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"nd-input",class:["input-block",{"shopping-waring":t.errorMessage||t.opt.errorText}],attrs:{maxlength:t.opt.maxlength,disabled:t.opt.disable,placeholder:t.inputPlaceholder,type:"checkbox"},domProps:{checked:Array.isArray(t.inputVal)?t._i(t.inputVal,null)>-1:t.inputVal},on:{blur:t.checkRule,input:function(e){return t.inputChange(e.target.value)},change:function(e){var i=t.inputVal,s=e.target,o=!!s.checked;if(Array.isArray(i)){var r=null,n=t._i(i,r);s.checked?n<0&&(t.inputVal=i.concat([r])):n>-1&&(t.inputVal=i.slice(0,n).concat(i.slice(n+1)))}else t.inputVal=o}}}):"radio"===t.inputType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"nd-input",class:["input-block",{"shopping-waring":t.errorMessage||t.opt.errorText}],attrs:{maxlength:t.opt.maxlength,disabled:t.opt.disable,placeholder:t.inputPlaceholder,type:"radio"},domProps:{checked:t._q(t.inputVal,null)},on:{blur:t.checkRule,input:function(e){return t.inputChange(e.target.value)},change:function(e){t.inputVal=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"nd-input",class:["input-block",{"shopping-waring":t.errorMessage||t.opt.errorText}],attrs:{maxlength:t.opt.maxlength,disabled:t.opt.disable,placeholder:t.inputPlaceholder,type:t.inputType},domProps:{value:t.inputVal},on:{blur:t.checkRule,input:[function(e){e.target.composing||(t.inputVal=e.target.value)},function(e){return t.inputChange(e.target.value)}]}}),t.opt.icon?s("span",{staticClass:"icon"},["visibility"===t.opt.icon?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility",size:"20px"},on:{click:function(e){t.isPwd=!t.isPwd}}}):s("q-icon",{staticClass:"q-mr-none",attrs:{name:t.opt.icon,size:"20px"}})],1):t._e()]),t.errorMessage||t.opt.errorText?s("span",{staticClass:"input-des shopping-waring",class:{"text-right":!t.opt.desTextAlign||"right"===t.opt.desTextAlign,"text-center":"center"===t.opt.desTextAlign,"text-left":"left"===t.opt.desTextAlign}},[t._v("\n    "+t._s(t.errorMessage||t.opt.errorText)+"\n  ")]):t.showDes?s("span",{staticClass:"input-des",class:{"text-right":!t.opt.desTextAlign||"right"===t.opt.desTextAlign,"text-center":"center"===t.opt.desTextAlign,"text-left":"left"===t.opt.desTextAlign}},[t._v("\n    "+t._s(t.inputHint)+"\n  ")]):t._e()])},o=[],r=(i("6762"),i("a481"),{model:{prop:"value",event:"change"},props:{value:{type:String},opt:{type:Object},ellipsis:{type:Boolean,default:!0},subValue:{type:String},showDes:{type:Boolean,default:!0}},data:function(){return{isPwd:!0,inputVal:"",inputSubVal:"",errorMessage:null}},methods:{calculate:function(t){var e=t%10,i=(t-e)/10;return e+i},checkEin:function(t){var e=[],i=[1,2,1,2,1,2,4,1];if(t){if(8===t.length){for(var s=0;s<t.length;s++)e.push(parseInt(t[s],10));for(var o=0,r=0;r<i.length;r++)o+=this.calculate(e[r]*i[r]);return o%10===0||o%5===0||7===e[6]&&((o+1)%10===0||(o+1)%5===0)}return!1}return!1},checkRule:function(){var t="",e=this.inputRules.length,i=0;for(var s in this.inputRules){if(t=this.inputRules[s](this.inputVal),"string"===typeof t){this.errorMessage=t;break}i+=1}(this.inputVal||this.opt.required)&&!0!==t||(this.errorMessage=""),i===e&&(this.errorMessage="",this.$emit("updateErrorMessage",""))},inputChange:function(t){var e=t;if("carrier_id"===this.opt.rules){var i=/^[0-9\/\.\+\-A-Za-z]*$/,s=t.substring(t.length-1);i.test(s)||(e=t.substring(0,t.length-1)),e=e.toUpperCase(),this.inputVal=e}if("ein"===this.opt.rules){var o=/^[0-9]*$/;o.test(t)||(e=e.replace(/[^\d]/g,""),this.inputVal=e)}" "===e?(this.inputVal="",this.$emit("change","")):this.$emit("change",e)},updateClick:function(){this.$emit("updateClick",!0)}},computed:{inputHint:function(){return this.opt.hint?this.opt.hint:"phone"===this.opt.rules?this.$t("certification.phone_hint"):""},nameRule:function(){return[function(t){return!!t||"姓名為空"}]},passwordRule:function(){return[function(t){return!!t||"密碼為空"},function(t){return t.length>=6&&t.length<=64||"密碼長度錯誤 (6~64字)"}]},einRule:function(){var t=this,e=/^[0-9]*$/;return[function(t){return e.test(t)||"統一編號錯誤"},function(e){return t.checkEin(e)||"統一編號錯誤"}]},carrierIdRule:function(){var t=/^[0-9\/\.\+\-A-Z\s]*$/;return[function(t){return!!t||"載具號碼為空"},function(t){return"/"===t[0]||"載具號碼格式錯誤"},function(e){return t.test(e)||"請輸入正確的載具號碼 (英文字母為大寫)"},function(t){return 8===t.length||"載具號碼長度錯誤"}]},telRule:function(){var t=this,e=/^[0-9\-\(\)\#\s]*$/;return[function(e){return!!e||t.$t("certification.phone_empty")},function(t){return e.test(t)||"請輸入正確的聯絡電話"}]},homePhoneRule:function(){var t=this,e=/^[0-9]*$/;return[function(e){return!!e||t.$t("order.phone_detail.phone")+t.$t("order.phone_detail.error.required")},function(e){return e.length>=6||t.$t("order.phone_detail.phone")+t.$t("order.phone_detail.error.length")},function(e){return e.length<=8||t.$t("order.phone_detail.phone")+t.$t("order.phone_detail.error.length")},function(i){return e.test(i)||t.$t("order.phone_detail.phone")+t.$t("order.phone_detail.error.format")}]},areaRule:function(){var t=this,e=["02","03","037","04","049","05","06","07","08","089","082","0826","0836"];return[function(e){return!!e||t.$t("order.phone_detail.area")+t.$t("order.phone_detail.error.required")},function(e){return e.length>=2||t.$t("order.phone_detail.area")+t.$t("order.phone_detail.error.length")},function(e){return e.length<=4||t.$t("order.phone_detail.area")+t.$t("order.phone_detail.error.length")},function(i){return e.includes(i)||t.$t("order.phone_detail.area")+t.$t("order.phone_detail.error.format")}]},extRule:function(){var t=this,e=/^[0-9]*$/;return[function(e){return e.length<=6||t.$t("order.phone_detail.ext")+t.$t("order.phone_detail.error.length")},function(i){return e.test(i)||t.$t("order.phone_detail.ext")+t.$t("order.phone_detail.error.format")}]},phoneRule:function(){var t=this,e=/^09\d{2}-?\d{3}-?\d{3}$/;return[function(e){return!!e||t.$t("order.phone_detail.mobile")+t.$t("order.phone_detail.error.required")},function(e){return"09"===e.slice(0,2)||t.$t("order.phone_detail.mobile")+t.$t("order.phone_detail.error.format")},function(e){return 10===e.length||t.$t("order.phone_detail.mobile")+t.$t("order.phone_detail.error.length")},function(i){return e.test(i)||t.$t("order.phone_detail.mobile")+t.$t("order.phone_detail.error.format")}]},userNoRule:function(){var t=/^[A]{1}[0-9]{9}$/;return[function(t){return!!t||"會員編號為空"},function(e){return t.test(e)||"請輸入正確的會員編號"}]},codeRule:function(){var t=/^[0-9A-Za-z\s]*$/;return[function(t){return!!t||"特約碼為空"},function(t){return 8===t.length||"特約碼長度錯誤"},function(e){return t.test(e)||"請輸入正確的特約碼"}]},emailRule:function(){var t=/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return[function(t){return!!t||"Email 為空"},function(e){return t.test(e)||"請輸入正確的 Email"}]},inputRules:function(){var t=this;return"tel"===this.opt.rules?this.telRule:"name"===this.opt.rules?this.nameRule:"carrier_id"===this.opt.rules?this.carrierIdRule:"ein"===this.opt.rules?this.einRule:"phone"===this.opt.rules?this.phoneRule:"user_no"===this.opt.rules?this.userNoRule:"code"===this.opt.rules?this.codeRule:"password"===this.opt.rules?this.passwordRule:"email"===this.opt.rules?this.emailRule:this.opt.rules&&this[this.opt.rules+"Rule"]?this[this.opt.rules+"Rule"]:this.opt.required?[function(e){return!!e||t.$t("error.required")}]:[]},inputType:function(){return"password"===this.opt.rules?this.isPwd?"password":"text":this.opt.type?this.opt.type:"text"},inputPlaceholder:function(){return this.opt.placeholder?this.opt.placeholder:""}},created:function(){this.inputVal=this.value,this.inputSubVal=this.subValue},watch:{value:function(t){this.inputVal=t,this.checkRule()},subValue:function(t){this.inputSubVal=t},errorMessage:function(t){this.$emit("updateErrorMessage",t)}}}),n=r,a=(i("7237"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"13dff101",null);e["default"]=c.exports},"7b43":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.storeInfo.id?i("ul",{staticClass:"list"},[t.hideTitle?t._e():i("div",[t._v(t._s(t.$t("menu.store_info")))]),t.showStoreName?i("li",[i("div",{staticClass:"font-size-subtitle-2 q-mb-xs sub-title02 text-weight-medium"},[t._v("\n      "+t._s(t.storeInfo.brand_name_short)+" "+t._s(t.storeInfo.name_short)+"\n    ")])]):t._e(),i("div",[!t.storeInfo.rating_average_star||4===t.storeMode||t.orderListInfo||t.hideRate?t._e():i("div",[i("div",{staticClass:"flex q-pr-md text-grey-8"},[i("q-rating",{attrs:{size:"19px",max:5,color:"yellow-9",readonly:""},model:{value:t.storeInfo.rating_average_star,callback:function(e){t.$set(t.storeInfo,"rating_average_star",e)},expression:"storeInfo.rating_average_star"}}),t._v("\n         "+t._s(t.ratingStar(t.storeInfo.rating_average_star))+"\n        ("+t._s(t.storeInfo.rating_order_count)+")\n      ")],1)]),t.orderListInfo?t._e():i("i-li",{attrs:{icon:"time",name:t.openTime}}),t.storeInfo.tel?i("a",{attrs:{href:"tel:"+t.storeInfo.tel},on:{click:function(e){return t.setGATag("view.store_info")}}},[i("i-li",{attrs:{icon:"phone",name:t.storeInfo.tel,color:"b-color"}})],1):t._e(),3!==t.storeMode?i("a",{staticClass:"link",attrs:{href:t.linkMap(t.storeInfo),target:"_blank"},on:{click:function(e){return t.setGATag("view.store_info")}}},[i("i-li",{attrs:{icon:"tag",name:t.showAddress,color:"b-color"}})],1):t._e(),4===t.storeMode||t.orderListInfo?t._e():i("i-li",{attrs:{icon:"pay",name:t.tradeTypes}}),t.storeInfo.to_store_pay_max_money<5e4&&t.checkTradeType(1)&&!t.orderListInfo&&3!==t.storeMode&&4!==t.storeMode?i("i-li",{attrs:{icon:"cash",name:t.tradeTypeName(1,t.storeInfo.id)+t.$t("store.spend_limit")+t.storeInfo.to_store_pay_max_money}}):t._e(),t.storeInfo.one_order_max_money<5e4&&t.checkTradeType(706)&&!t.orderListInfo&&4!==t.storeMode?i("i-li",{attrs:{icon:"credit-card",name:t.tradeTypeName(706,t.storeInfo.id)+t.$t("store.spend_limit")+t.storeInfo.one_order_max_money}}):t._e(),t.storeInfo.is_off_allow_order&&t.storeInfo.is_close_allow_order&&t.storeInfo.is_preparing_allow_order&&!t.orderListInfo&&3!==t.storeMode&&4!==t.storeMode?i("i-li",{attrs:{name:t.storeInfo.order_start_day>0?"(僅提供非當日之預約單)":"(非訂餐時間僅提供預訂)",color:"text-secondary",blank:"true"}}):t._e(),t.orderListInfo||3===t.storeMode||4===t.storeMode?t._e():i("i-li",{attrs:{icon:"name-sticker",name:t.stickerWord}}),t.storeInfo.cup_activity&&!t.orderListInfo&&3!==t.storeMode&&4!==t.storeMode?i("i-li",{attrs:{icon:"reusable-cup",name:t.cupDiscountActivity}}):t._e(),!t.orderListInfo&&t.storeInfo.food_business_no?i("i-li",{attrs:{"q-icon":"fas fa-clipboard-list",name:"食品業者登錄字號 "+t.storeInfo.food_business_no}}):t._e(),!t.orderListInfo&&t.storeInfo.meat_origin_description?i("i-li",{attrs:{icon:"meat",ellipsis:!0,ellipsisLines:2,name:t.storeInfo.meat_origin_description,html:!0}}):t._e(),t.orderListInfo||3===t.storeMode||4===t.storeMode||!t.storeInfo.bl_name&&!t.storeInfo.bl_name?t._e():i("div",{staticClass:"q-mt-md"},[t._v("\n      商行資訊\n    ")]),!t.orderListInfo&&3!==t.storeMode&&4!==t.storeMode&&t.storeInfo.bl_name?i("i-li",{attrs:{qIcon:"fas fa-building",name:t.storeInfo.bl_name}}):t._e(),!t.orderListInfo&&3!==t.storeMode&&4!==t.storeMode&&t.storeInfo.ein?i("i-li",{attrs:{qIcon:"fas fa-ad",name:t.storeInfo.ein}}):t._e(),t.orderListInfo&&t.orderCupDiscount&&3===t.orderInfo.order_type?i("i-li",{staticClass:"flex nd-bg-violet-red-1 nd-rounded-md nd-px-3 nd-py-2",attrs:{icon:"information",name:"此訂單需攜帶飲料杯至門市才能享有相關優惠。",iconColor:"bg-secondary"}}):t._e()],1)]):t._e()},o=[],r=(i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7514"),i("791e")),n=i("0c6b"),a=i("a62e"),c={name:"NdStoreDetail",components:{"i-li":n["a"]},props:{storeInfo:Object,hideTitle:Boolean,showStoreName:Boolean,orderListInfo:Boolean,hideRate:Boolean,orderOthers:Object,orderInfo:Object},mixins:[r["a"],a["a"]],data:function(){return{}},methods:{checkTradeType:function(t){var e=this.storeInfo.trade_types.find((function(e){return e.type===t}));return!!e}},computed:{stickerWord:function(){return this.storeInfo.is_support_custom_sticker?this.$t("menu.modal.placeholder.sticker_hint.is_support"):this.$t("menu.modal.placeholder.sticker_hint.no_support")},storeMode:function(){return this.storeInfo.store_mode||0},showAddress:function(){var t=this.storeInfo.address;return this.storeInfo.address_remark&&(t=t+" ("+this.storeInfo.address_remark+")"),t},tradeTypes:function(){var t=this,e="可";return this.storeInfo.trade_types.forEach((function(i){e=e+t.tradeTypeName(i.type,t.storeInfo.id)+"、"})),e&&(e=e.slice(0,-1)),e},openTime:function(){if(this.storeInfo.order_start_time){var t=this.getTime(2,this.storeInfo.order_start_time,"HH:mm"),e=this.getTime(2,this.storeInfo.order_end_time,"HH:mm");return t+" ~ "+e}return""},cupDiscountActivity:function(){return this.$t("store.cup_discount_activity.is_support")},orderCupDiscount:function(){var t,e=this.orderOthers;if(e.order_info.order_cup_discount&&Object.keys(e.order_info.order_cup_discount).length&&e.order_info.order_cup_discount.match_amount>0)return!0;if(!(null!==e&&void 0!==e&&null!==(t=e.group_buy_head_order_info)&&void 0!==t&&t.head_sn&&e.order_info.product_simple&&Object.keys(e.order_info.product_simple).length))return!1;var i=e.order_info.product_simple,s=i.find((function(t){return t.cup_amount>0&&1!==t.cup_is_invalid}));return!!s||void 0}}},u=c,d=(i("247d"),i("2877")),l=Object(d["a"])(u,s,o,!1,null,"49c24992",null);e["a"]=l.exports},"7c86":function(t,e,i){"use strict";var s=i("07bc"),o=i.n(s);o.a},"7e8a":function(t,e,i){"use strict";var s=i("7fc2"),o=i.n(s);o.a},"7ef2":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-py-sm q-mt-sm"},[3===t.storeInfo.store_mode?i("div",{staticClass:"q-mb-sm text-center font-size-subtitle-2"},[i("div",[t._v("感謝您的購買，商品券會於門市確認後")]),i("div",[t._v("發送至您的會員帳戶")]),i("div",[t._v("若 15 分鐘後尚未收到，請聯繫店家")])]):i("div",{class:["bg-white q-mb-sm text-center shoping-list-card-radius q-pa-md",{"q-mx-sm":t.$q.screen.lt.sm}]},[i("div",[i("div",{staticClass:"text-capitalize"},[t._v("\n        "+t._s(t.$t("status.order_success"))+"\n      ")]),i("div",[t._v("門市將於以下時間前接單")]),i("div",{staticClass:"font-size-h5 q-py-sm text-bold text-secondary"},[t._v(t._s(t.replyTime))]),i("div",[t._v("若有疑問或欲修改訂單")]),i("div",[t._v("請\n        "),i("span",{staticClass:"cursor-pointer text-primary text-underline",on:{click:function(e){return t.$router.replace({name:"orderListInfo",params:{order_id:t.$route.params.order_id}})}}},[t._v("點我")]),t._v("\n        與門市聯絡\n      ")])]),i("div",{staticClass:"q-my-md flex flex-center"},[i("div",{staticClass:"full-width q-pa-md q-pb-lg b-bg",staticStyle:{"max-width":"350px"}},[i("div",{staticClass:"text-bold text-white q-mb-md text-center"},[t._v("如欲修改訂單，請直接電話聯絡門市")]),i("q-markup-table",{attrs:{separator:"cell","wrap-cells":!0}},[i("tbody",[i("tr",[i("td",[t._v("\n              "+t._s(t.$t("order.order_no"))+"\n            ")]),i("td",[i("copy-sn",{attrs:{orderSn:t.orderInfo.order_sn}})],1)]),i("tr",[i("td",[t._v("\n              "+t._s(t.$t("order.order_store"))+"\n            ")]),i("td",[t._v(t._s(t.orderInfo.brand_name_s)+" "+t._s(t.orderInfo.store_name_s))])]),i("tr",[i("td",[t._v("\n              "+t._s(t.$t("order.store_phone"))+"\n            ")]),i("td",[i("a",{attrs:{href:"tel:"+t.orderInfo.store_tel}},[i("span",{staticClass:"b-color text-bold"},[t._v(t._s(t.orderInfo.store_tel))])])])]),i("tr",[i("td",[t._v("\n              "+t._s(t.$t("order.pickup_option"))+"\n            ")]),i("td",[t._v(t._s(3===t.storeInfo.store_mode?"線上發送":t.deliveryName(t.orderInfo.delivery_type)))])]),3!==t.storeInfo.store_mode?i("tr",[i("td",[t._v("\n              "+t._s(t.$t("order.pickup_time"))+"\n            ")]),i("td",[t.isToday?t._e():i("span",[i("q-badge",{staticStyle:{padding:"4px","padding-bottom":"5px",margin:"0px","margin-right":"4px"},attrs:{outline:"",color:"secondary",label:"預約"}}),t._v("\n                "+t._s(t.orderTime.date)+"\n              ")],1),i("span",[t._v(t._s(t.orderTime.start))]),3===t.orderInfo.delivery_type?i("span",[t._v("~"+t._s(t.orderTime.end))]):t._e()])]):t._e()])])],1)])]),i("div",{class:["bg-white q-mb-sm text-center shoping-list-card-radius q-pa-md",{"q-mx-sm":t.$q.screen.lt.sm}]},[t._m(0),i("div",{staticClass:"q-my-md full-width"},[i("q-btn",{staticClass:"btn-primary bg-line full-width q-px-xs",on:{click:t.linkLine}},[t._v("\n        "+t._s(t.$t("notify.add_friends.line"))+"\n      ")])],1)])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-my-md flex flex-center"},[i("div",[i("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fnidin520&tabs&width=320&height=120&small_header=true&adapt_container_width=true&hide_cover=true&show_facepile=true&appId=674965145993408",width:"320",height:"70",scrolling:"no",frameborder:"0",allowTransparency:"true",allow:"encrypted-media"}})])])}],r=(i("6b54"),i("7f7f"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c1df")),n=i.n(r),a=i("b318"),c=i("791e"),u={mixins:[c["a"]],components:{"copy-sn":a["a"]},props:{orderInfo:Object,storeInfo:Object,orderAttach:Object,orderOthers:Object},data:function(){return{btnW:350}},methods:{linkLine:function(){var t="https://page.line.me/nidin";window.open(t,"_blank")},btnResize:function(){this.btnW=this.$q.screen.width},completeOrder:function(){window._lt("send","cv",{type:"Conversion"},["49e5dc95-1555-400d-a72b-415762903a26"])},setGAOrderSuccess:function(){var t=this;this.setGATag("view.order_success"),Object.keys(this.orderInfo).length&&(this.setGATag("add_payment.type",this.orderInfo.trade_type||"unknow"),this.setGATag("add_shipping.type",this.orderInfo.delivery_type||"unknow"),this.setGATag("add_shipping.name",this.orderInfo.name||"unknow"),this.setGATag("add_shipping.phone",this.orderInfo.phone||"unknow"));var e=this.orderAttach?this.orderAttach.total_money:0,i=this.orderOthers&&this.orderOthers["order_info"]&&this.orderOthers["order_info"]["payment"]&&this.orderOthers["order_info"]["payment"].length?this.orderOthers["order_info"]["payment"][0].money:0,s=e||i,o=[],r=this.orderInfo&&this.orderInfo["order_id"]?this.orderInfo["order_id"]:"unknow";this.orderOthers&&Object.keys(this.orderOthers).length&&Object.keys(this.orderOthers.order_info).length&&Object.keys(this.orderOthers.order_info.product_simple).length&&this.orderOthers.order_info.product_simple.forEach((function(e){var i={item_id:e.product_id.toString(),item_name:e.name,item_brand:t.orderInfo.brand_name,price:e.price,quantity:e.amount};o.push(i)})),this.setGATag("add_payment.money",s),this.setGATag("purchase",null,{currency:"TWD",transaction_id:r.toString(),value:s,member_id:this.getUId,items:o}),this.setGATag("add_payment_info",null,{currency:"TWD",value:s,items:o,payment_type:this.orderInfo.trade_type.toString()||"unknow"}),this.setGATag("add_shipping_info",null,{currency:"TWD",value:s,items:o}),this.setGATag("conversion",null,{currency:"TWD",value:s,transaction_id:r.toString()})}},created:function(){this.completeOrder(),this.setGAOrderSuccess()},watch:{"this.$q.screen.width":function(){this.btnResize()}},computed:{replyTime:function(){var t=this.storeInfo,e=this.orderInfo,i=e.store_accept_exp_time,s=t.next_opening_date;return t.is_preparing?i?n()(i,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"):n()(t.order_start_time,"HH:mm:ss").format("HH:mm"):t.is_off_day||t.is_close?i?n()(e.store_accept_exp_time,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"):s:2===e.order_method?n()().add(t.auto_reject_order_reserve_m,"minutes").format("HH:mm"):n()().add(t.auto_reject_order_m,"minutes").format("HH:mm")},isToday:function(){var t=n()().format("YYYY-MM-DD"),e=this.orderInfo,i="";return e.delivery_reserv_date&&(i=e.delivery_reserv_date),i===t},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=n()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=n()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}}}},d=u,l=(i("891b"),i("2877")),M=Object(l["a"])(d,s,o,!1,null,"22b4adc8",null);e["a"]=M.exports},"7fbe":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjMiIGhlaWdodD0iNjMiIHZpZXdCb3g9IjAgMCA2MyA2MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggMEg1NUM1OS40IDAgNjMgMy42IDYzIDhWNTVDNjMgNTkuNCA1OS40IDYzIDU1IDYzSDhDMy42IDYzIDAgNTkuNCAwIDU1VjhDMCAzLjYgMy42IDAgOCAwWiIvPgo8cGF0aCBkPSJNMjEuMTAwNCA0NS42OTk5VjQ5Ljk5OTlDMjEuMTAwNCA1MC40OTk5IDIxLjAwMDQgNTAuNzk5OSAyMC43MDA0IDUwLjk5OTlDMjAuNDAwNCA1MS4xOTk5IDE5LjkwMDQgNTEuMTk5OSAxOS4xMDA0IDUxLjE5OTlDMTkuMTAwNCA1MC44OTk5IDE4LjkwMDQgNTAuNDk5OSAxOC44MDA0IDUwLjI5OTlDMTkuNDAwNCA1MC4yOTk5IDE5LjkwMDQgNTAuMjk5OSAyMC4wMDA0IDUwLjI5OTlDMjAuMjAwNCA1MC4yOTk5IDIwLjIwMDQgNTAuMTk5OSAyMC4yMDA0IDUwLjA5OTlWNDYuMDk5OUwxOC43MDA0IDQ2LjU5OTlMMTguNDAwNCA0NS41OTk5QzE4LjkwMDQgNDUuMzk5OSAxOS41MDA0IDQ1LjE5OTkgMjAuMjAwNCA0NS4wOTk5VjQyLjI5OTlIMTguNjAwNFY0MS4yOTk5SDIwLjIwMDRWMzguNDk5OUgyMS4xMDA0VjQxLjI5OTlIMjIuMjAwNFY0Mi4yOTk5SDIxLjEwMDRWNDQuNzk5OUwyMi4zMDA0IDQ0LjM5OTlMMjIuNTAwNCA0NS4yOTk5TDIxLjEwMDQgNDUuNjk5OVpNMjYuMTAwNCA0Ni42OTk5QzI1LjkwMDQgNDYuMjk5OSAyNS41MDA0IDQ1LjU5OTkgMjUuMjAwNCA0NC45OTk5VjUxLjA5OTlIMjQuMzAwNFY0NS4wOTk5QzIzLjkwMDQgNDYuNTk5OSAyMy4yMDA0IDQ4LjA5OTkgMjIuNjAwNCA0OC45OTk5QzIyLjUwMDQgNDguNjk5OSAyMi4yMDA0IDQ4LjI5OTkgMjIuMTAwNCA0OC4wOTk5QzIyLjkwMDQgNDYuOTk5OSAyMy43MDA0IDQ1LjA5OTkgMjQuMTAwNCA0My4zOTk5SDIyLjcwMDRWNDIuMzk5OUgyNC40MDA0VjM5Ljk5OTlDMjMuOTAwNCA0MC4wOTk5IDIzLjQwMDQgNDAuMTk5OSAyMi45MDA0IDQwLjE5OTlDMjIuOTAwNCAzOS45OTk5IDIyLjcwMDQgMzkuNjk5OSAyMi42MDA0IDM5LjM5OTlDMjMuOTAwNCAzOS4xOTk5IDI1LjMwMDQgMzguODk5OSAyNi4yMDA0IDM4LjQ5OTlMMjYuOTAwNCAzOS4yOTk5QzI2LjQwMDQgMzkuNDk5OSAyNS45MDA0IDM5LjU5OTkgMjUuMzAwNCAzOS43OTk5VjQyLjM5OTlIMjYuNzAwNFY0My4zOTk5SDI1LjMwMDRWNDMuNzk5OUMyNS43MDA0IDQ0LjI5OTkgMjYuNTAwNCA0NS40OTk5IDI2LjcwMDQgNDUuNzk5OUwyNi4xMDA0IDQ2LjY5OTlaTTI5LjIwMDQgNDEuNzk5OUMyOS4yMDA0IDQyLjI5OTkgMjkuMjAwNCA0Mi43OTk5IDI5LjIwMDQgNDMuMjk5OUMyOS41MDA0IDQ2LjI5OTkgMzAuMTAwNCA0OS4wOTk5IDMxLjUwMDQgNTAuMTk5OUMzMS4zMDA0IDUwLjM5OTkgMzEuMDAwNCA1MC42OTk5IDMwLjgwMDQgNTAuOTk5OUMyOS44MDA0IDQ5Ljk5OTkgMjkuMjAwNCA0OC4zOTk5IDI4LjgwMDQgNDYuMzk5OUMyOC41MDA0IDQ3Ljk5OTkgMjcuODAwNCA0OS41OTk5IDI2LjcwMDQgNTEuMDk5OUMyNi42MDA0IDUwLjg5OTkgMjYuMzAwNCA1MC40OTk5IDI2LjEwMDQgNTAuMzk5OUMyOC4xMDA0IDQ3Ljc5OTkgMjguMzAwNCA0NC40OTk5IDI4LjMwMDQgNDEuNzk5OVYzOC4zOTk5SDI5LjIwMDRWNDEuNzk5OVY0MS43OTk5Wk0yNy4zMDA0IDQ0Ljg5OTlDMjcuMjAwNCA0My44OTk5IDI2LjgwMDQgNDIuMjk5OSAyNi41MDA0IDQwLjk5OTlMMjcuMjAwNCA0MC43OTk5QzI3LjUwMDQgNDEuOTk5OSAyNy45MDA0IDQzLjY5OTkgMjguMDAwNCA0NC41OTk5TDI3LjMwMDQgNDQuODk5OVpNMzEuNDAwNCA0MC45OTk5QzMxLjEwMDQgNDIuMTk5OSAzMC44MDA0IDQzLjc5OTkgMzAuNTAwNCA0NC43OTk5TDI5LjgwMDQgNDQuNTk5OUMzMC4xMDA0IDQzLjU5OTkgMzAuNDAwNCA0MS45OTk5IDMwLjUwMDQgNDAuNzk5OUwzMS40MDA0IDQwLjk5OTlaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDQuNjAwOCAzOVY1MS4xSDQzLjYwMDhWNTAuNEgzNC4zMDA4VjUxLjFIMzMuMzAwOFYzOUg0NC42MDA4Wk00My42MDA4IDQ5LjZWMzkuOEgzNC4zMDA4VjQ5LjZINDMuNjAwOFpNNDMuMjAwOCA0Ny4zSDQxLjIwMDhWNDguNkM0MS4yMDA4IDQ5IDQxLjEwMDggNDkuMSA0MC44MDA4IDQ5LjJDNDAuNTAwOCA0OS4zIDQwLjAwMDggNDkuMyAzOS4xMDA4IDQ5LjNDMzkuMTAwOCA0OS4xIDM4LjkwMDggNDguOSAzOC45MDA4IDQ4LjdDMzkuNTAwOCA0OC43IDQwLjAwMDggNDguNyA0MC4xMDA4IDQ4LjdDNDAuMzAwOCA0OC43IDQwLjMwMDggNDguNyA0MC4zMDA4IDQ4LjVWNDcuMkgzNC44MDA4VjQ2LjZINDAuMzAwOFY0Ni4xSDQxLjIwMDhWNDYuNkg0My4yMDA4VjQ3LjNaTTM4LjUwMDggNDEuM0gzNS4wMDA4VjQwLjZIMzguNTAwOFY0MEgzOS40MDA4VjQwLjdINDMuMDAwOFY0MS40SDM5LjQwMDhWNDJINDIuNTAwOFY0NC44SDQxLjQwMDhDNDIuMDAwOCA0NS4yIDQyLjYwMDggNDUuOCA0Mi45MDA4IDQ2LjJMNDIuMzAwOCA0Ni42QzQyLjIwMDggNDYuNCA0Mi4wMDA4IDQ2LjIgNDEuNzAwOCA0NkMzOS4zMDA4IDQ2LjEgMzYuODAwOCA0Ni4yIDM1LjAwMDggNDYuMlY0NS42QzM1LjkwMDggNDUuNiAzNy4yMDA4IDQ1LjYgMzguNTAwOCA0NS42VjQ0LjlIMzUuNTAwOFY0Mi4xSDM4LjUwMDhWNDEuM1Y0MS4zWk0zNy4wMDA4IDQ3LjNDMzcuNTAwOCA0Ny43IDM4LjAwMDggNDguMiAzOC4yMDA4IDQ4LjZMMzcuNTAwOCA0OUMzNy4zMDA4IDQ4LjYgMzYuODAwOCA0OC4xIDM2LjMwMDggNDcuN0wzNy4wMDA4IDQ3LjNaTTM2LjQwMDggNDNIMzguNTAwOFY0Mi40SDM2LjQwMDhWNDNaTTM4LjUwMDggNDQuMlY0My42SDM2LjQwMDhWNDQuMkgzOC41MDA4Wk0zOS40MDA4IDQyLjRWNDNINDEuNjAwOFY0Mi40SDM5LjQwMDhaTTQxLjYwMDggNDMuNkgzOS40MDA4VjQ0LjJINDEuNjAwOFY0My42Wk00MS4xMDA4IDQ1LjRDNDEuMDAwOCA0NS4zIDQwLjkwMDggNDUuMiA0MC44MDA4IDQ1LjFMNDEuMzAwOCA0NC43SDM5LjQwMDhWNDUuNEg0MS4xMDA4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTQxLjUyNSAyMC41SDM5LjYyNVYxOC41QzM5LjYyNSAxOC4yMjUgMzkuNDExMiAxOCAzOS4xNSAxOEgzOC4yQzM3LjkzODcgMTggMzcuNzI1IDE4LjIyNSAzNy43MjUgMTguNVYyMC41SDM1LjgyNUMzNS41NjM3IDIwLjUgMzUuMzUgMjAuNzI1IDM1LjM1IDIxVjIyQzM1LjM1IDIyLjI3NSAzNS41NjM3IDIyLjUgMzUuODI1IDIyLjVIMzcuNzI1VjI0LjVDMzcuNzI1IDI0Ljc3NSAzNy45Mzg3IDI1IDM4LjIgMjVIMzkuMTVDMzkuNDExMiAyNSAzOS42MjUgMjQuNzc1IDM5LjYyNSAyNC41VjIyLjVINDEuNTI1QzQxLjc4NjIgMjIuNSA0MiAyMi4yNzUgNDIgMjJWMjFDNDIgMjAuNzI1IDQxLjc4NjIgMjAuNSA0MS41MjUgMjAuNVpNMjkuNjUgMjJDMzEuNzQ4OSAyMiAzMy40NSAyMC4yMDk0IDMzLjQ1IDE4QzMzLjQ1IDE1Ljc5MDYgMzEuNzQ4OSAxNCAyOS42NSAxNEMyNy41NTExIDE0IDI1Ljg1IDE1Ljc5MDYgMjUuODUgMThDMjUuODUgMjAuMjA5NCAyNy41NTExIDIyIDI5LjY1IDIyWk0zMi4zMSAyM0gzMS44MTQyQzMxLjE1NTIgMjMuMzE4NyAzMC40MjE5IDIzLjUgMjkuNjUgMjMuNUMyOC44NzgxIDIzLjUgMjguMTQ3OCAyMy4zMTg3IDI3LjQ4NTggMjNIMjYuOTlDMjQuNzg3MiAyMyAyMyAyNC44ODEyIDIzIDI3LjJWMjguNUMyMyAyOS4zMjgxIDIzLjYzODMgMzAgMjQuNDI1IDMwSDM0Ljg3NUMzNS42NjE3IDMwIDM2LjMgMjkuMzI4MSAzNi4zIDI4LjVWMjcuMkMzNi4zIDI0Ljg4MTIgMzQuNTEyOCAyMyAzMi4zMSAyM1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},"7fc2":function(t,e,i){},"7fe6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsSAAALEgHS3X78AAAS/ElEQVR42u1db1AUZ55+mj8yBmUad+MwuwqD1LIhJsxAlVsHd+4gG7yYpArxcqm7bAyi3ofEqyLGJB/26o5wqbsPV1mRD6sfdpVQXvZu/5RK3SUaTQXQWya77sLAimSxcEbMFYyVig2aow3q3Iehx+5+3x6GoWfowd/zjZme7pl+H36/5/e8v/dtgEAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCARrQoj1Zjgc3g6gHkANABfdLgKAIIAeAF2CIJxaELHC4XANgA4iEyEOkjUJgtCjfyODQ6o2AN1EKkIccAHonuOMccQKh8MdAHbR/SIkgPcEQWhiItYc64hUhESxSx25BJWm6qZ7QzABWwRB6FGIFSBNRTBL0AuCUJwxZykQqQimCfpwOLw9AxGfikAwE/UCpUFCUtJhOBwO030gmI0MugUEIhaBiEUgYhEIpiPLCl9i5kwv7vT14+vh0ZRd82zeWvhy1+CybfXS34D8DCAvA3jEGv/noi0H9Y9/F9vLSiHabAmdY0mrwq9+8QGmf/xT3L0+kbJr/ir/W2hbW4LPs1cu/Qg+mgl8OwvIESwZdVz5dpx88a/hcTrSg1j3p2/hy+Z3MHOmN2XXnM7MwoFvP4GP8tYu/YhlCkBpdiRKpQEG9u1dMLlSTqz707dwY8ermE1h2pvOzMILxZuskfYyBeDxFcAjAtIFrnw7Agf+3tri/Yumt1JKKgD4u8IKa5AKSDtSAUDw5hT8EyHrEuvWT/8Td/r6U3pTjn6jCL7cfGuM0LqstCOVgq6RUesSa/rdn6X8hrStLbHGyGQKQEEWHhakjFhf/eID3J++ldIf91HeWkxnWmQw12QAmSBimY07vj+k/MedtUIFqCA/vVnlLS60JrG+vnQl5Tdj2CqCHUhbbaVgoXZDSoh1f/pWyivB6cws61SCOYJlTdB4SbVQBz4lxEp1JQgAvtw11hmZvPSekq0pLrKmxloKYl22VBpMb2K5E5jSSckv/jrFaRAAPqWIRRErOanQIqZoppDWwt2Vb4dLtFuPWEtBKopWJgr3AkdCn0s+sXwPcbQCgNz0thm8CaTBlBDr60up11eWEu6rHz59tWxTIVkN5kC02RJq8ks6sWaHR1M+P3jZtto684Pprq8SJBWQ5J533jRO1nonHnnhWa4W40W3vAN7NX/fuz6Br375geE1h1da179yiXY0VpbH9dHgzSl0jYxCkuW0S4NJJxZv4tn2tJchCwCE6l5mXsveWMoc+3+//CAmsaxcEbqdDrRs2bygU+z/8BzafReXSLgXJvzZpMZqXgRasfE7zGv3p29z5xJ5x86n2SxVEeqIlUgEaHumblGRY9lFrLvXJ7irb3KqKpnXZINFFTnV7LEzZ84bXvPzFSutsfpGSYO6ThmeJ9TafSEikgscKDIwI+vLStETuJY2+iqpxOJFoIy81chc74w7CmVvLNWd80rMYsBSbTIc/0qfWiRZRusnFzRVWP++PQy5EjUplypaJTUV8sjCi0CKcOcT6zsLSoOfWikN6vwrXgToDYwzROP1lvsnQyn/+l6rEkvmkCCbo5nuGaVMDgnnc/Gt7F95XawQ5qU3XnRa6AoZcyJW4aI+n9JUuBCy8LTYfBErluPeuLUCu7ZWwJ5rw7XQTbQe74Z/bDI5Pz6TbezjRazByRuMHcGrxBa6QmaxcOXbE15an1RiGRFgIWSJpa9yqiuRtc6JzPVO5FRXYvbSFVy9ch0dT/0AroJIOjx0woeuvhEAQMvOLWjZueXBIJcUwD82qSGWyyGivroMnpKC6Dl6BgPoHQqiZzCgOc5VkA9vuQsuhwh3iROtx7vhcojY/udlcx6UhNbf/wZBaSpmalFHLNFmw4kXn2eO6RwYgiTLEG021JeVwpVvhzQjo3Pgj5BkGS7RDle+CG9xIfwTIXSNjEZfcxeshcfpgCTfwf4Pz0XJa/SeWfoqecTyLV5f6Y9XCJhTXYlHf32YIWw5ALX16C13YcPOgwiGJHhKCrRa5rYcJR2PeOpzAEDn2QE0vXsyemzj1grNcR1vNEBc9eA/3AvAVbgGW479+4PB1Aly/0QINcVFKBLt8DgdaKx4kokSkixj/4cfo7lqE1pqN2veb67+HnNOhSD9+/ZojlW0nFIcqN9r+PmvTddXSSOW3PeHeSNQLH2Vtd6JjLxVXALyzmMY0gvyEQxJ2H/kNPxjk1GCSbflaLRqe2UbmhuqYp6ncWsF2k/64B+bjEYzNdSk4lWAvIHyOB34ZPcPDa8pyTJqj72PltrNaK7axP42ji2hpNbBiRvclNpcvYkhHC/NmlGFJkW8cyvCqvj1FY88yjmz1jk5eu4KgiHJ8Pt0vLkDLTu3oL66DPXVZfC6iyMh313MkGr/kdOofOUw6yVVR9KcewMb/XqHgszx6jS4UCHcGxhH5U+Ooki0M6Rq7b7ApC59atVXkXZbDkSbjTnX/tPseRYz8ZzUiGW0GofnohttX6QnoVpfZT+hPc/MmfO48Oo78LX+iEln/rEJTUqLDtycZmpu+DPd8ZNoP+kzjoAOkYlOTe+eRFffCLrf3a25zrWbU3GlFiVNSbIM/2REIylVoF5z9QbGo75X2zN1htaFfn7R43Qw0ardd5FbbS62GkwasWQDMc4zRmeH+WsNVz79fcMIyIr6Ufhy1zADHgxJkG7LqJmLTpr/7KEgxFW2aBSKCuWzA1ECMSX/2CTcJexvGDQgb0/wWkx9VXn4aOw0Pqe91HhvYMjweOV6RvaEOlrpjVktCQtM4YHpqfAO17/i6yKei577wrMMCZVJ5+yNpVzt9WluPjy6QVeiUhGHJL2DAeZ4ABi8GtFdXg4ZB8cmuEVAMCRxiahEEN4Kl97g+Lz3sb6s1NB24FVt6og1Jd/hprhoOv3kgmHXhNekiGU6sbhTOfZV3GNX7f0bphK0//N+hjjKOXnpdPbSFQyvXM1EDEWcG5FBf7xiLwDA9urHmOgXDElM9OsdChgSUdE7NfPYDEYQV9oYzaaQgTf46igV6/xBaSpmt4RZE96mpkKjief7U7cNU57ztydxx9eP7I2lXGde+qdDhhbEvesTGJfv4puPFRtHn3I+GbiDucoW9bM0gvl4NzfdGZFXPcg8x30wDiddX5lJM3I08jRWlBuSbj7sPvHfSSeV6cQyMjtnh0cxO3yFS5zM9U48sv5Z7uduvvaOJgLqRf0dXz98ufkMeZTo43KI7KDPkYHnuvcfeZVJa/6xSXSeHeBqNaUa1F9/cK4q41VYkixrKkYj+CdDmnTocTrQvfsluJ1rGb+LR1T/RIi5dm9gPGY0M5NYpqbCWDvKfPnaO4ZinWdDhOpe1jT0Za13Mtrr7vUJXLatRo2bH0n0kUdNhq6+EYZcPFLVvnmMG62UqlNcZWPIqxCHl7IGJ27EdQ86+4eYKOQtLuROtfAmqXk6q+nEf8W8ptvpsGbEirWjzOzwKEJ1O7HyaS9yqioZ2+D+VKTZb+bMea5OE/JWM77XzJnz8OV+A8+pCKPWSq4CkfGYFAsCAGrfPIbmhirUuIujxAmGJAyOTeBU32fRKlFPyohWm4F0W4anpODB63MdDYrIFm02poMhVmWnJ2ftsffRtq0uSlBJlhG8ORWNRL2Bcbida5lr8CyHdt/FeSOlWVYDYOLmtvenb+F/v/sUUonpzCw8UVYLSyBHADw5lvgqLtGumbqRZBkbfnw4pg7zOB0Y2LfXeqmQlnlZZ0WOfl6x3XdxXnHvcZrbTGja3YhXP5kJ2lGGL8DVVWNQmjI0Q7X6rciaxOJNPCcbtEcDi4PbtHIkHlKZXRGaKt6X044yHW80aLoYegYDUS9LgdI4qODQpd9jcCIEb3ERPE6HYYeA0kqjpJ+2bXWa6q6973eoLyvVGKSRaSHW3d9/+pzGM2up3axJaf6JEDrjKBYS3VEm6cRaTjvKNG6tYPqt3tP5WD2DAWyvfkxjQQTvTeMkp1FPDX2LitdVqLEk3M613BYZw/TlKowSy8XphHj99MdxnScZizVMIdZSbKyWjBU54iobt+Gv440Glc0gY8PLBxmPTO+G86A3J/Wfma8dWOkkVUcoV744dy5to2DnwFDcS8a8SVi3mMYRy9w0+OWJH3Eb9pio0zfCkKprZJQ7/3bixb/SDLY6YvFc+dpj7wOITECro49y/pYtmzURTrTZINpyGILG6l5Ihb5Ka2KZaTV4SgoYUvGceeV1fXPgqbk9FvQdCWpS+SdCGoNSf2zXyGg0wjRWPKlNxXPRx27Lgd2WoyFkT2Bco78kWUZr94W4po2SZTWYQqyl2FHm8xUrTd1Rxl3ijLrnwcmb6Dzn1yyg0EMfsZqrNs07OPpWme06YvknQ2iu2oSa4iJmKuiaNIXu3S8BiEzVqJ32XZx02ratTlMkpDpamUKspXgwgNnV4ODYBLzlER3lLXcx4l1TiR05zUS3eP7j9dWZPmIZbRbSNTLKiPz5sJB1iJYl1lI8ysTsijAWkdQIhiS4CrRlP283GJdox9UD+x58TtI+lo3XxGeEUyOjTFSaD/E0Ej4Q7oUWJdYy8a96h4Jwb9BqrWBIwjXVIo1TvxlB8w6tvmp7po7pP58vWunToJqcVw/s03hKvYFrzOf7X92jiZKVh48mvFo6Gfpq0cS6P30rpc9zBiITz2bvKLP/yOnIoB5/XUOsHW//nFnU2vbKtgWd2z8RQnvfxZjlvRJh9P3xCln06UpNBsWCUI6RZDlukiXyKJOUEGs5TDyrW2b0/VjKcjG1h6UhRGBcs4hBM2gFDkhyZMWyfjDV5AlKU3AXRDZkK9K5350DQ2h7pi5m6hRtNs36xM6BITTF6BJNhb5KS2KZ7V+17NzCbeJT3lPbDOIqbaQ89D+/w9TsHc3AtnZfQHvfRXz5D6/PWQflyPjHfzXUVy7Rjo4dz/GLiskb86ZZniaLX19ZlFjykjwjJ8+0c4mrbIakYlLa2CTjynf5/4SajdrPN1aUo/6xUsMKTf1ezEJhTvArpikAHNvxnCbatfsuMtNEC9mgLVn6atHEml2CqRyzhXvtmx2w59pw8u2/ZV7XeF26FdBdv/2M+ygTl2gHdIOvfk+vj9b8y8EoIdWRS9nYViFKc9UmZqK4uWoTPAWOuD0rzfdMwsSzKcRaDhPP0m0ZPYMBxm7o6hthDNLGOo825Vz6k2EFGJSmIM3I6A2Oa1fs6EW7yujUV4rqyONxOgxTYqJ2QbL3NU2cWMvoUSb6dYSn+j5jjtG77b2BcUDgEeuPhulIT56gNBUdYD1BlMUQos2GYw1aDaafjHaJ9gVN4QCAO8nbTyZMrOXU2KdfvuUpKYA0t1eWMtWjd9sb/8IN5AiocRXpNNaTKBLtcOXb0dk/FB1wvfekpDKjNpmD257C66c/ZqaLlDZjtVN/4sXn0e67GFfvleUj1uwyecZzjbuYIU1zQ1V0ornh7f9glncBQMvc/hL6SNFYUR7tNlD8q0R2cOFtc+SfCGH/h+eYboaIHxX/Qg6zdpQxnVjL6VEmwcmbkG7L3JYZZYM2HrHUmoo3z9cbGI8uYBBtOWjtNm5j0X++c2CIIY+6QuwNXENQmtI69AuYxqlJ0jTOooklL6MVOcGQhMpXDsPrLmYMUmXPrdbj3egdCqLIIUaOycuI9ri3fnIBXSOjjIMdvClptFS8/VHSjIzByRuaSKhfwRyUplD5k6NMG3L80bAg6eOV0LrCL5rewozBpv/JwoF1T+BX4rdgCZSuAPLT9wFM3XteSrrGSujuLAf/alHIezifQZhUYhntKJNMWP1RJkQqE4i1FMao1R9lkk5IdjWYMLGWIg1a+VEm6QavVSOWTHs0pLm+KrQese5P30p5xJrOzLLOHg057KNM0glmPMokKcRaCrfdzDYZU4Q7VYPmE2s5TTw/jMLda1ViEdIXos224NU+RCzCvGip3ZzS6y2IWPonRqQCfzl9wzqj81U4LUlVU1yE16q/Z11iZW8sRRbn0SXJxOPyLaybnbHGCN28B9xJL3J5nA6c/OHzKb/uglPhNzv+DRl5qS3/f3bNj7x7d60xUldn04ZU28tK0b3npZRZDGok1N0wOzyKL5reSumc4WXbauwt8lhjzjA/EyjJtuycoSvfjpba76dUrJtCLCBils6cPo+ZM70pa/qbzszG2dVr8VHeo5jOzF7a0cucI9iajMgzoC2S9rzFRUxvfVoRi0Agu4FAxCIQsQgEIhYh9cQK0m0gmIxgBoAeug8Ek9GTAaCL7gPBZHQJABAOhwMAXHQ/CGakQUEQihXx3kT3g2ASmqJVoSAIPQAO0T0hLBKH5rik3eEpHA53ANhF94eQAN4TBCGa+TQ+1twbFLkIiUQqjZziTsuHw+EaAB0k6AnzCXUATUr6m5dYKoJtB1APoIZIRlCRqQdAlyAIp+h2EAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCId3w/6mF1Hy9U2fpAAAAAElFTkSuQmCC"},8154:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["coupon-height",{"cursor-pointer":!t.edit||t.edit&&t.couponState}]},[1===t.type||2===t.type?i("div",[i("div",{class:["flex coupon-shadow z-3",2===t.type?"package-height":"coupon-height"],on:{click:t.chooseVoucher}},[i("div",{staticClass:"row inline no-wrap coupon coupon-avatar"},[i("div",{staticClass:"flex items-center"},[t.show.loading?i("q-skeleton",{staticClass:"ticket-brand-icon",attrs:{type:"circle"}}):i("div",{staticClass:"ticket-brand-icon"},[i("q-img",{attrs:{src:t.voucherImg,ratio:1,"img-class":"circle"}})],1)],1),i("div",{staticClass:"q-my-sm q-mr-sm ellipsis flex column justify-center no-wrap"},[i("div",{staticClass:"font-size-subtitle-2 q-mb-xs text-weight-medium ellipsis",domProps:{textContent:t._s(t.voucherInfo.name||t.voucherInfo.voucher_product_name)}}),i("div",{staticClass:"font-size-subtitle-2 ellipsis text-grey-7"},[i("q-badge",{staticClass:"text-gray-2 whitespace-nowrap card-badge q-mr-xs q-ma-none",attrs:{outline:""}},[t._v("\n              "+t._s(t.channelText(t.voucherInfo.usage_channel,"short"))+"\n            ")]),t._v("\n            "+t._s(t.brandName)+" "+t._s(t.storeName)+"\n          ")],1),i("div",{staticClass:"font-size-caption ellipsis text-grey-7"},[i("span",{staticClass:"text-secondary q-mr-xs"},[t._v(t._s(t.timeLeft))]),i("span",[t._v(t._s(t.expDate))])]),t.voucherStatusAmount.length?i("div",{staticClass:"flex"},t._l(t.voucherStatusAmount,(function(e,s){return i("div",{key:"status-"+s,staticClass:"flex nd-pr-3"},[i("q-badge",{class:["card-badge inline q-ma-none q-mr-xs",e.color]},[t._v("\n                "+t._s(e.label)+"\n              ")]),i("div",{staticClass:"font-size-caption"},[t._v(t._s(e.amount)+" 張")])],1)})),0):t._e(),t.edit&&t.voucherInfo.voucher_item_list?i("div",{staticClass:"flex items-center nd-font-size-caption"},[i("div",[t._v("共 "+t._s(t.voucherInfo.voucher_item_list.length)+" 張，已選")]),i("div",{staticClass:"nd-pl-2",on:{click:function(t){t.stopPropagation()}}},[i("q-numeric",{staticClass:"voucher-input-number m-x-0",attrs:{min:1,max:t.voucherInfo.voucher_item_list.length,disable:!t.check},model:{value:t.chooseAmount,callback:function(e){t.chooseAmount=e},expression:"chooseAmount"}})],1)]):t._e()])]),i("div",{staticClass:"text-center flex justify-center column coupon coupon-info"},[i("div",{staticClass:"flex justify-center items-end q-my-sm font-size-caption",class:{"text-secondary":t.edit&&[1,101].includes(t.voucherInfo.discount_type)&&t.voucherInfo.discount_value>t.voucherInfo.unit_discount}},[i("span",{staticClass:"font-size-h6 text-weight-medium"},[t._v("\n            "+t._s(t.couponValueText.big)+"\n          ")]),t._v("\n          "+t._s(t.couponValueText.small)+"\n        ")]),t.edit&&t.couponState?i("div",{staticClass:"checkbox"},[i("div",{staticClass:"q-gutter-sm"},[i("q-checkbox",{staticClass:"checkbox-circle",on:{input:function(e){return t.chooseVoucher("checkbox")}},model:{value:t.check,callback:function(e){t.check=e},expression:"check"}})],1)]):t._e()])]),2===t.type?i("div",t._l(2,(function(t){return i("div",{key:"voucher-layer-"+t,staticClass:"flex coupon-shadow voucher-layer"},[i("div",{staticClass:"coupon coupon-avatar coupon-helf-avatar"}),i("div",{staticClass:"coupon coupon-info coupon-helf-info"})])})),0):t._e()]):i("div",[i("div",{staticClass:"border-around bg-grey-5 nd-p-2 coupon-height coupon-shadow package-folder",on:{click:t.chooseVoucher}},[i("div",{staticClass:"row inline no-wrap bg-white border-around full-width full-height package-tag"},[i("div",{staticClass:"flex items-center"},[t.show.loading?i("q-skeleton",{staticClass:"ticket-brand-icon",attrs:{type:"circle"}}):i("div",{staticClass:"ticket-brand-icon"},[i("q-img",{attrs:{src:t.voucherImg,ratio:1,"img-class":"circle"}})],1)],1),i("div",{staticClass:"ellipsis z-3 flex items-center"},[i("div",{staticClass:"nd-py-2 nd-pr-2 nd-pl-8"},[i("div",{staticClass:"font-size-subtitle-2 q-mb-xs text-weight-medium ellipsis",domProps:{textContent:t._s(t.voucherInfo.name||t.voucherInfo.voucher_product_name)}}),i("div",{staticClass:"font-size-subtitle-2 ellipsis text-grey-7"},[t._v("\n              "+t._s(t.brandName)+" "+t._s(t.storeName)+"\n            ")]),t.voucherStatusAmount.length?i("div",{staticClass:"flex nd-mt-2"},t._l(t.voucherStatusAmount,(function(e,s){return i("div",{key:"status-"+s,staticClass:"flex nd-pr-3"},[i("q-badge",{class:["card-badge inline q-ma-none q-mr-xs",e.color]},[t._v("\n                  "+t._s(e.label)+"\n                ")]),i("div",{staticClass:"font-size-caption"},[t._v(t._s(e.amount)+" 張")])],1)})),0):t._e()])])])])]),!t.couponState&&t.edit?i("div",{staticClass:"absolute full-width full-height flex flex-center bg-m-gray mask-opacity"}):t._e()])},o=[],r=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("6762"),i("2fdb"),i("7f7f"),i("c47a")),n=i.n(r),a=(i("7514"),i("0c66")),c=i("791e"),u=i("e5d2"),d=i("5bf6"),l=i("c1df"),M=i.n(l),h=i("179c");function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g={name:"NdVoucherCard",mixins:[c["a"],h["a"]],components:{"nd-qr-bar-code":u["a"],"nd-more":d["a"],"q-numeric":a["a"]},props:{voucherInfo:{type:Object,default:function(){return{}}},clickVoucher:{type:Function},chooseCodes:{type:Array,default:function(){return[]}},orderInfo:{type:Object,default:function(){return{}}},brandName:{type:String,default:""},storeName:{type:String,default:""},edit:{type:Boolean,default:!1},status:{type:String,default:""}},data:function(){return{check:!1,show:{loading:!0,modal_code_info:!1,numberBig:!1,modal_coupon_offline_reimburse:!1},loadingTimeout:null,refreshLoading:!1,numberBigType:0,chooseAmount:1}},computed:{selectCodes:function(){if(this.edit&&this.voucherInfo.voucher_item_list&&this.check){var t=this.voucherInfo.voucher_item_list.map((function(t){return t.code}));return t.slice(0,this.chooseAmount)}return[]},voucherStatusAmount:function(){var t=this,e=this.statusMeta.find((function(e){return e.status===t.status}))||{};return e.includeStatus?e.includeStatus.filter((function(e){return t.voucherInfo[e.value]>0})).map((function(e){return m({},e,{amount:t.voucherInfo[e.value]||0})})):[]},type:function(){return 2===this.voucherInfo.voucher_product_type&&"CouponDetail"!==this.$route.name?3:this.voucherInfo.amount&&this.voucherInfo.amount>1?2:1},isOfflineReimburse:function(){return this.voucherInfo.usage_channel>1&&(!this.voucherInfo.usage_channel_display_type.length||this.voucherInfo.usage_channel_display_type.includes(1))},isBarQrCode:function(){return this.voucherInfo.usage_channel_display_type.includes(2)||this.voucherInfo.usage_channel_display_type.includes(4)},couponValueText:function(){var t={big:"",small:""};return[1,101].includes(this.voucherInfo.discount_type)?(t.big=this.voucherInfo.discount_value||0,t.small="元"):[2,102].includes(this.voucherInfo.discount_type)?this.voucherInfo.unit_discount?(t.big=this.voucherInfo.unit_discount,t.small="元"):(t.big=this.getCouponNickname(this.voucherInfo.discount_value),t.small="折"):103===this.voucherInfo.discount_type&&(this.voucherInfo.unit_discount?(t.big=this.voucherInfo.unit_discount||0,t.small="元"):(t.big="",t.small="商品金額")),t},timeLeft:function(){var t="";if("avail"===this.status){var e=M()(),i=M()().isBefore(this.voucherInfo.avail_start_time),s=i?M()(this.voucherInfo.avail_start_time):M()(this.voucherInfo.avail_end_time),o=s.diff(e,"seconds"),r=Math.floor(o/86400),n=Math.floor(o%86400/3600),a=0,c="";r>0?(a=r,c="天"):n>0?(a=n,c="小時"):(a=1,c="小時內"),i?("小時內"!==c&&(a+=1),t=a+c+(r||n?"後可用":"可用")):t="剩下"+a+c}return t},expDate:function(){return M()(this.voucherInfo.avail_end_time).format("YYYY/MM/DD HH:mm")+"截止"},isTransShopper:function(){return!!this.voucherInfo.get_shopper_name},randomMsg:function(){var t=["優惠券帶給你好心情 ♥","本宮賞你一張優惠券 ♥","別餓著了快訂吧 ♥","天上掉下來的禮物呢 ♥","好東西要跟好朋友分享 ♥"],e=Math.floor(5*Math.random());return t[e]},excludeStoreIds:function(){return this.getAllStr(this.voucherInfo.exclude_store_ids)},includeStoreIds:function(){return this.getAllStr(this.voucherInfo.include_store_ids)},offlineExcludeStoreIds:function(){return this.getAllStr(this.voucherInfo.offline_exclude_store_ids)},offlineIncludeStoreIds:function(){return this.getAllStr(this.voucherInfo.offline_include_store_ids)},useBrand:function(){return this.getAllStr(this.voucherInfo.include_brand_ids)},couponState:function(){var t=this.voucherInfo,e=0,i=0,s=0,o=0;if("Coupons"!==this.$route.name&&"ubcoupons"!==this.$route.name&&"uscoupons"!==this.$route.name&&"OnSiteCoupon"!==this.$route.name)return!0;if(t.status&&(e=t.status),t.is_void&&(i=t.is_void),t.is_used&&(s=t.is_used),t.is_expired&&(o=t.is_expired),"Coupons"===this.$route.name||"OnSiteCoupon"===this.$route.name||"ubcoupons"===this.$route.name||"uscoupons"===this.$route.name){if(10!==e)return!1;if(s)return!1;if(i)return!1;if(o)return!1}return!0},includeStoreListText:function(){var t="";return(this.includeStoreIds||this.offlineIncludeStoreIds)&&(t=this.$t("coupon.available"),3===this.voucherInfo.usage_channel&&this.includeStoreIds&&this.offlineIncludeStoreIds?t+="【線上門市】".concat(this.includeStoreIds,"。【實體門市】").concat(this.offlineIncludeStoreIds,"。"):t+=this.includeStoreIds),t},excludeStoreListText:function(){var t="";return(this.excludeStoreIds||this.offlineExcludeStoreIds)&&(t=this.$t("coupon.unavailable"),3===this.voucherInfo.usage_channel&&this.excludeStoreIds&&this.offlineExcludeStoreIds?t+="【線上門市】".concat(this.excludeStoreIds,"。【實體門市】").concat(this.offlineExcludeStoreIds,"。"):t+=this.excludeStoreIds),t},voucherImg:function(){return this.voucherInfo&&this.voucherInfo.brand_icon?this.voucherInfo.brand_icon:"https://ap-south-1.linodeobjects.com/nidin-beta-v3/brand/icons/default_icon_2020.png"},orderTime:function(){var t="";return this.orderInfo&&this.orderInfo.delivery_reserv_date&&(t=this.orderInfo.delivery_reserv_date),{date:t}},useCodeButtonText:function(){if(this.voucherInfo.is_void)return this.$t("status.already_invalid");if(this.voucherInfo.is_used)switch(this.voucherInfo.status){case 9:return"已刪除";case 10:return"點我出示核銷碼";case 20:return"核銷碼使用中";case 30:return"已使用";default:return""}else{if(this.voucherInfo.is_expired)return"已過期";if(this.voucherInfo.is_transfer&&this.isTransShopper)return"已轉贈";if(10===this.voucherInfo.status)return M()().isBefore(this.voucherInfo.avail_start_time)?"尚未生效":"點我出示核銷碼"}return""}},methods:{goOrder:function(){var t="",e=this.voucherInfo.include_store_ids;if(e)for(var i in e)if(!t){t=i;break}var s=this.voucherInfo.usage_store_type,o=this.voucherInfo.usage_store_code;1===s?this.$router.push("Home"):2===s&&o?this.$router.push("/brand/"+o):3===s&&t&&this.$router.push("/menu/"+t)},verification:function(){this.modal_coupon_offline_reimburse=!1},getAllStr:function(t){var e="";if(t){for(var i in t)e=e+t[i]+"、";return e.slice(0,-1)}return e},chooseVoucher:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.clickVoucher&&this.edit&&this.couponState)"checkbox"!==t&&(this.check=!this.check),this.updateVoucherCodes();else if("OnSiteCoupon"===this.$route.name||"Coupons"===this.$route.name||"ubcoupons"===this.$route.name||"uscoupons"===this.$route.name||"VoucherPackageList"===this.$route.name&&"undefined"!==typeof this.edit){var e={};this.status&&(e.s=this.status),2===this.voucherInfo.voucher_product_type?this.$router.push({path:"/coupons/voucher/package/".concat(this.voucherInfo.voucher_group_id),query:e}):this.$router.push({path:"/coupons/voucher/detail/".concat(this.voucherInfo.voucher_group_id,"/").concat(this.voucherInfo.voucher_set_code),query:e})}},updateVoucherCodes:function(){this.clickVoucher&&this.edit&&this.couponState&&this.chooseAmount&&this.clickVoucher(this.selectCodes,this.voucherInfo)},checkChoose:function(){var t=this.voucherInfo.voucher_item_list.map((function(t){return t.code})),e=this.chooseCodes.filter((function(e){return t.includes(e)}));e.length>0&&(this.check=!0,this.chooseAmount=e.length)},getCouponNickname:function(t){if(t){if(t%10===0)return t=(100-t)/10,t;if(t%10!==0)return t=100-t,t}},openNumberBig:function(t){this.show.numberBig=!0,this.numberBigType=t}},created:function(){this.edit&&this.checkChoose()},watch:{voucherInfo:{handler:function(t){Object.keys(t).length&&(this.show.loading=!1)},immediate:!0},chooseCodes:function(){this.edit&&this.checkChoose()},edit:function(t){t||(this.check=!1)},chooseAmount:function(){this.updateVoucherCodes()}},beforeDestroy:function(){clearTimeout(this.loadingTimeout)}},_=g,f=(i("75fd"),i("2877")),y=Object(f["a"])(_,s,o,!1,null,"2e22e99c",null);e["a"]=y.exports},"817a":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCA2MCA2MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7Y2xpcC1ydWxlOmV2ZW5vZGQ7fS5jbHMtMntjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgpO30uY2xzLTN7ZmlsbDojM2U4MmYxO30uY2xzLTR7Y2xpcC1wYXRoOnVybCgjY2xpcC1wYXRoLTIpO30uY2xzLTV7ZmlsbDojMzJhNzUzO30uY2xzLTZ7Y2xpcC1wYXRoOnVybCgjY2xpcC1wYXRoLTMpO30uY2xzLTd7ZmlsbDojZjliYjAwO30uY2xzLTh7Y2xpcC1wYXRoOnVybCgjY2xpcC1wYXRoLTQpO30uY2xzLTl7ZmlsbDojZTc0MTMzO308L3N0eWxlPjxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik02MCwzMC43YTM1LjE3LDM1LjE3LDAsMCwwLS41Ni02LjI2SDMwLjYxVjM2LjI4SDQ3LjA5QTE0LjA4LDE0LjA4LDAsMCwxLDQxLDQ1LjUxVjUzLjJoOS44OUM1Ni42Niw0Ny44Nyw2MCw0MCw2MCwzMC43Wm0wLDAiLz48L2NsaXBQYXRoPjxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoLTIiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTMwLjYxLDYwLjYxYzguMjcsMCwxNS4xOS0yLjc0LDIwLjI2LTcuNDJMNDEsNDUuNTFhMTguNDcsMTguNDcsMCwwLDEtMjcuNS05LjdIMy4yNnY3LjkzQTMwLjYsMzAuNiwwLDAsMCwzMC42MSw2MC42MVptMCwwIi8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aC0zIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMy40OCwzNS44MmExOC4xLDE4LjEsMCwwLDEsMC0xMS42M1YxNi4yNUgzLjI2YTMwLjY1LDMwLjY1LDAsMCwwLDAsMjcuNWwxMC4yMy03LjkzWm0wLDAiLz48L2NsaXBQYXRoPjxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoLTQiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTMwLjYxLDExLjU2YTE2LjU0LDE2LjU0LDAsMCwxLDExLjcsNC41OGw4Ljc4LTguNzhhMjkuNDIsMjkuNDIsMCwwLDAtMjAuNDgtOEEzMC42LDMwLjYsMCwwLDAsMy4yNiwxNi4yNWwxMC4yMyw3LjkzQTE4LjI0LDE4LjI0LDAsMCwxLDMwLjYxLDExLjU2Wm0wLDAiLz48L2NsaXBQYXRoPjwvZGVmcz48dGl0bGU+bG9naW48L3RpdGxlPjxnIGNsYXNzPSJjbHMtMiI+PHJlY3QgaWQ9Il/ot6/lvoRfIiBkYXRhLW5hbWU9IiZsdDvot6/lvoQmZ3Q7IiBjbGFzcz0iY2xzLTMiIHg9IjEzLjYxIiB5PSI3LjQzIiB3aWR0aD0iNjMuNCIgaGVpZ2h0PSI2Mi43OCIvPjwvZz48ZyBjbGFzcz0iY2xzLTQiPjxyZWN0IGlkPSJf6Lev5b6EXzIiIGRhdGEtbmFtZT0iJmx0O+i3r+W+hCZndDsiIGNsYXNzPSJjbHMtNSIgeD0iLTEzLjc1IiB5PSIxOC44MSIgd2lkdGg9IjgxLjYzIiBoZWlnaHQ9IjU4LjgxIi8+PC9nPjxnIGNsYXNzPSJjbHMtNiI+PHJlY3QgaWQ9Il/ot6/lvoRfMyIgZGF0YS1uYW1lPSImbHQ76Lev5b6EJmd0OyIgY2xhc3M9ImNscy03IiB4PSItMTcuMDEiIHk9Ii0wLjc1IiB3aWR0aD0iNDcuNSIgaGVpZ2h0PSI2MS41MSIvPjwvZz48ZyBjbGFzcz0iY2xzLTgiPjxyZWN0IGlkPSJf6Lev5b6EXzQiIGRhdGEtbmFtZT0iJmx0O+i3r+W+hCZndDsiIGNsYXNzPSJjbHMtOSIgeD0iLTEzLjc1IiB5PSItMTcuNjIiIHdpZHRoPSI4MS44NSIgaGVpZ2h0PSI1OC44MSIvPjwvZz48L3N2Zz4="},"82b6":function(t,e,i){"use strict";var s=i("895c"),o=i.n(s);o.a},"83cd":function(t,e,i){"use strict";i("28a5"),i("ac6a"),i("cadf"),i("06db"),i("456d");e["a"]={data:function(){return{routerDataTemp:{name:null,path:null,query:{},params:{},open:""}}},methods:{pageOpen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t&&Object.keys(t).length){var i=this.$router.resolve(t);if(e){var s="javascript:void(0)",o=e.currentTarget.innerHTML.split(s).join(i.href);e.currentTarget.innerHTML=o}else"model"===t.open?this.$emit("update:main-menu-event",t):"_blank"===t.open?window.open(i.href,t.open):this.$router.push(t)}}}}},8651:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjMiIGhlaWdodD0iNjMiIHZpZXdCb3g9IjAgMCA2MyA2MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUzIDBIMTBDNC40NzcxNSAwIDAgNC40NzcxNSAwIDEwVjUzQzAgNTguNTIyOCA0LjQ3NzE1IDYzIDEwIDYzSDUzQzU4LjUyMjggNjMgNjMgNTguNTIyOCA2MyA1M1YxMEM2MyA0LjQ3NzE1IDU4LjUyMjggMCA1MyAwWiIgZmlsbD0iIzYxNjE2MSIvPgo8cGF0aCBkPSJNMzAuNTU4IDQyLjc4OEMzMC40MTggNDMuOTA4IDMwLjExIDQ1LjU2IDI5LjgzIDQ2LjU0TDMwLjUxNiA0Ni43MjJDMzAuODEgNDUuNzQyIDMxLjExOCA0NC4xODggMzEuMzcgNDIuOTU2TDMwLjU1OCA0Mi43ODhaTTI3Ljk4MiA0Ni41OTZDMjcuODQyIDQ1LjY4NiAyNy40NzggNDQuMDYyIDI3LjE1NiA0Mi44MTZMMjYuNDcgNDIuOTdDMjYuNzkyIDQ0LjIxNiAyNy4xMjggNDUuODgyIDI3LjI1NCA0Ni44MzRMMjcuOTgyIDQ2LjU5NlpNMjIuNDggNDcuMTI4TDIyLjMyNiA0Ni4xOUwyMS4xMzYgNDYuNTgyVjQ0LjA2MkgyMi4yNTZWNDMuMDk2SDIxLjEzNlY0MC4yOTZIMjAuMjI2VjQzLjA5NkgxOC42NDRWNDQuMDYySDIwLjIyNlY0Ni44OUMxOS41NjggNDcuMDg2IDE4Ljk1MiA0Ny4yODIgMTguNDYyIDQ3LjQzNkwxOC43MjggNDguNDQ0TDIwLjIyNiA0Ny45MjZWNTEuOTE2QzIwLjIyNiA1Mi4wOTggMjAuMTU2IDUyLjE1NCAxOS45ODggNTIuMTU0QzE5LjgzNCA1Mi4xNjggMTkuMzMgNTIuMTY4IDE4Ljc3IDUyLjE1NEMxOC44OTYgNTIuNDIgMTkuMDIyIDUyLjgyNiAxOS4wNjQgNTMuMDc4QzE5Ljg3NiA1My4wNzggMjAuMzggNTMuMDUgMjAuNjg4IDUyLjg5NkMyMS4wMSA1Mi43MjggMjEuMTM2IDUyLjQ2MiAyMS4xMzYgNTEuOTE2VjQ3LjYxOEwyMi40OCA0Ny4xMjhaTTI2LjU4MiA0Ny44MjhDMjYuMzg2IDQ3LjUyIDI1LjUwNCA0Ni4yNDYgMjUuMTU0IDQ1Ljc4NFY0NS4zMzZIMjYuNTEyVjQ0LjM1NkgyNS4xNTRWNDEuNzI0QzI1Ljc0MiA0MS41ODQgMjYuMzAyIDQxLjQxNiAyNi43NzggNDEuMjQ4TDI2LjA3OCA0MC40NzhDMjUuMjM4IDQwLjg0MiAyMy43NjggNDEuMTkyIDIyLjQ5NCA0MS4zODhDMjIuNjA2IDQxLjYxMiAyMi43MzIgNDEuOTQ4IDIyLjc3NCA0Mi4xNThDMjMuMjUgNDIuMDg4IDIzLjc1NCA0Mi4wMDQgMjQuMjQ0IDQxLjkyVjQ0LjM1NkgyMi41MzZWNDUuMzM2SDIzLjk3OEMyMy41NzIgNDcuMDU4IDIyLjc3NCA0OS4wMTggMjIuMDA0IDUwLjA4MkMyMi4xNTggNTAuMzIgMjIuNDEgNTAuNjg0IDIyLjUyMiA1MC45NzhDMjMuMTggNTAuMDY4IDIzLjc5NiA0OC41NTYgMjQuMjQ0IDQ3LjA0NFY1My4wNjRIMjUuMTU0VjQ2Ljk3NEMyNS40OSA0Ny41NzYgMjUuODk2IDQ4LjMwNCAyNi4wNzggNDguNjk2TDI2LjU4MiA0Ny44MjhaTTI5LjI0MiA0MC4zOTRIMjguMzQ2VjQzLjc4MkMyOC4zNDYgNDYuNDg0IDI4LjE1IDQ5Ljc3NCAyNi4xMDYgNTIuMzkyQzI2LjMwMiA1Mi41MzIgMjYuNjI0IDUyLjg4MiAyNi43NSA1My4xMDZDMjcuODk4IDUxLjY3OCAyOC41MjggNTAuMDU0IDI4Ljg1IDQ4LjQzQzI5LjIyOCA1MC40MTggMjkuODAyIDUyLjAyOCAzMC44MSA1Mi45OEMzMC45NSA1Mi43MjggMzEuMjU4IDUyLjM2NCAzMS40NjggNTIuMTgyQzMwLjA4MiA1MS4wMiAyOS40OCA0OC4yNjIgMjkuMjE0IDQ1LjI1MkMyOS4yNDIgNDQuNzQ4IDI5LjI0MiA0NC4yNTggMjkuMjQyIDQzLjc4MlY0MC4zOTRaTTQxLjYxOCA0NC4zOThWNDVIMzkuMzkyVjQ0LjM5OEg0MS42MThaTTQxLjYxOCA0Ni4xMzRIMzkuMzkyVjQ1LjUxOEg0MS42MThWNDYuMTM0Wk0zOS4zOTIgNDcuMzUyVjQ2LjY2Nkg0MS4zMzhMNDAuNzkyIDQ3LjA0NEM0MC45MDQgNDcuMTI4IDQxLjAxNiA0Ny4yMTIgNDEuMTE0IDQ3LjMxTDM5LjM5MiA0Ny4zNTJaTTM2LjM2OCA0Ni4xMzRWNDUuNTE4SDM4LjUxVjQ2LjEzNEgzNi4zNjhaTTM2LjM2OCA0NC4zOThIMzguNTFWNDVIMzYuMzY4VjQ0LjM5OFpNMzguNTEgNDMuODUySDM1LjU0MlY0Ni42NjZIMzguNTFWNDcuMzY2QzM3LjE4IDQ3LjM4IDM1Ljk2MiA0Ny4zOTQgMzUuMDI0IDQ3LjM5NEwzNS4wNjYgNDguMDM4QzM2LjgwMiA0OC4wMSAzOS4zMDggNDcuOTQgNDEuNzMgNDcuODU2QzQxLjk1NCA0OC4wOCA0Mi4xNSA0OC4yOSA0Mi4yOSA0OC40NzJMNDIuODc4IDQ4LjAzOEM0Mi41NyA0Ny42MzIgNDEuOTI2IDQ3LjA1OCA0MS4zNjYgNDYuNjY2SDQyLjQ4NlY0My44NTJIMzkuMzkyVjQzLjI5Mkg0Mi45NzZWNDIuNjM0SDM5LjM5MlY0MS45NzZIMzguNTFWNDIuNjM0SDM0Ljk5NlY0My4yOTJIMzguNTFWNDMuODUyWk0zNi4zMTIgNDkuNjM0QzM2Ljc3NCA1MC4wMjYgMzcuMjkyIDUwLjU3MiAzNy41MTYgNTAuOTY0TDM4LjIzIDUwLjU0NEMzNy45OTIgNTAuMTggMzcuNDYgNDkuNjM0IDM2Ljk4NCA0OS4yODRMMzYuMzEyIDQ5LjYzNFpNNDMuMTcyIDQ4LjU3SDQxLjE3VjQ4LjA1Mkg0MC4yODhWNDguNTdIMzQuODI4VjQ5LjIxNEg0MC4yODhWNTAuNDg4QzQwLjI4OCA1MC42MjggNDAuMjQ2IDUwLjY3IDQwLjA3OCA1MC42N0MzOS45MzggNTAuNjg0IDM5LjQyIDUwLjY4NCAzOC44NiA1MC42N0MzOC45NDQgNTAuODM4IDM5LjA1NiA1MS4wNjIgMzkuMDk4IDUxLjI1OEMzOS45MzggNTEuMjU4IDQwLjQ1NiA1MS4yNTggNDAuNzY0IDUxLjE2QzQxLjA4NiA1MS4wNjIgNDEuMTcgNTAuOTIyIDQxLjE3IDUwLjUxNlY0OS4yMTRINDMuMTcyVjQ4LjU3Wk0zNC4zNTIgNTEuNTFWNDEuNzUySDQzLjYzNFY1MS41MUgzNC4zNTJaTTMzLjM4NiA0MC45MjZWNTMuMDc4SDM0LjM1MlY1Mi4zNUg0My42MzRWNTMuMDA4SDQ0LjYyOFY0MC45MjZIMzMuMzg2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYwLjUgM0wzIDYwIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTQxLjUyNSAyMC41SDM5LjYyNVYxOC41QzM5LjYyNSAxOC4yMjUgMzkuNDExMiAxOCAzOS4xNSAxOEgzOC4yQzM3LjkzODcgMTggMzcuNzI1IDE4LjIyNSAzNy43MjUgMTguNVYyMC41SDM1LjgyNUMzNS41NjM3IDIwLjUgMzUuMzUgMjAuNzI1IDM1LjM1IDIxVjIyQzM1LjM1IDIyLjI3NSAzNS41NjM3IDIyLjUgMzUuODI1IDIyLjVIMzcuNzI1VjI0LjVDMzcuNzI1IDI0Ljc3NSAzNy45Mzg3IDI1IDM4LjIgMjVIMzkuMTVDMzkuNDExMiAyNSAzOS42MjUgMjQuNzc1IDM5LjYyNSAyNC41VjIyLjVINDEuNTI1QzQxLjc4NjIgMjIuNSA0MiAyMi4yNzUgNDIgMjJWMjFDNDIgMjAuNzI1IDQxLjc4NjIgMjAuNSA0MS41MjUgMjAuNVpNMjkuNjUgMjJDMzEuNzQ4OSAyMiAzMy40NSAyMC4yMDk0IDMzLjQ1IDE4QzMzLjQ1IDE1Ljc5MDYgMzEuNzQ4OSAxNCAyOS42NSAxNEMyNy41NTExIDE0IDI1Ljg1IDE1Ljc5MDYgMjUuODUgMThDMjUuODUgMjAuMjA5NCAyNy41NTExIDIyIDI5LjY1IDIyWk0zMi4zMSAyM0gzMS44MTQyQzMxLjE1NTIgMjMuMzE4NyAzMC40MjE5IDIzLjUgMjkuNjUgMjMuNUMyOC44NzgxIDIzLjUgMjguMTQ3OCAyMy4zMTg3IDI3LjQ4NTggMjNIMjYuOTlDMjQuNzg3MiAyMyAyMyAyNC44ODEyIDIzIDI3LjJWMjguNUMyMyAyOS4zMjgxIDIzLjYzODMgMzAgMjQuNDI1IDMwSDM0Ljg3NUMzNS42NjE3IDMwIDM2LjMgMjkuMzI4MSAzNi4zIDI4LjVWMjcuMkMzNi4zIDI0Ljg4MTIgMzQuNTEyOCAyMyAzMi4zMSAyM1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},"865e":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[t.$router.currentRoute.query.msg?i("message-block",{staticClass:"q-mt-xs q-mb-xs q-mx-lg",attrs:{content:[t.$router.currentRoute.query.msg],icon:"fas fa-exclamation-circle"}}):t._e(),t.isOnSite?i("div",{staticClass:"q-my-md q-py-xs text-center font-size-subtitle-2"},[t._v("請於 "),i("span",{staticClass:"text-secondary text-bold"},[t._v(t._s(t.getTradeTime))]),t._v(" 內完成付款")]):i("div",{staticClass:"q-mb-sm text-center text-bold font-size-subtitle-2"},[t._v(t._s(t.getTradeTime))]),909===t.orderInfo.trade_type?i("input-label",{staticClass:"q-mt-sm q-mx-lg bg-white",attrs:{opt:{notInput:!0,image:{url:t.imageUrl.fetPay,style:{height:"25px"}}},showDes:!1,value:t.orderAttach.pay_phone?"付款門號："+t.orderAttach.pay_phone:"未綁定門號"}}):t._e(),706===t.orderInfo.trade_type?i("div",{staticClass:"q-mb-md"},[i("div",[t.creditList_cathay.length>1?i("span",{staticClass:"text-pink creditcard_rule_text",staticStyle:{"line-height":"initial"}},[t._v("為提升支付體驗，你訂系統已進行升級作業。以前儲存的信\n        用卡，已經無法使用。"),i("br"),t._v('\n        請於此處點選"使用其他信用卡"。'),i("br"),t._v("\n        造成不便，還請大家多包涵！\n        ")]):t._e()]),i("credit-cards-detail",{attrs:{creditList:t.creditList_tappay,orderAttach:t.orderAttach}})],1):t._e(),t.isOnSite?i("check-order-on-site",{attrs:{orderInfo:t.orderInfo,orderAttach:t.orderAttach,npobanList:t.npobanList,storeInfo:t.storeInfo}}):i("check-order",{attrs:{orderInfo:t.orderInfo,orderAttach:t.orderAttach,npobanList:t.npobanList,storeInfo:t.storeInfo}})],1)])},o=[],r=(i("6b54"),i("06db"),i("791e")),n=i("b41b"),a=i("888f"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["shoping-list-card q-mt-sm",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[i("div",{staticClass:"q-mb-sm font-size-subtitle-1 text-bold"},[t._v("\n    "+t._s(t.$t("order.order_detail_confirm"))+"\n  ")]),i("div",{staticClass:"full-width"},[i("table",{staticClass:"order-table order full-width"},[i("tbody",[t.orderInfo.table_no?i("tr",[i("td",[t._v("桌號")]),i("td",[t._v(t._s(t.orderInfo.table_no))])]):t._e(),i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.pickup_option"))+"\n          ")]),i("td",[t._v(t._s(t.deliveryContentOnSite))])]),i("tr",[i("td",[t._v("餐點製作時間")]),i("td",[t._v("約 "+t._s(t.deliveryTimeOnSite)+" 分鐘")])]),i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.payment_method"))+"\n          ")]),i("td",[t._v(t._s(t.tradeTypeName(t.orderInfo.trade_type,t.orderInfo.store_id)))])]),i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.invoice_type"))+"\n          ")]),i("td",[t._v("\n            "+t._s(t.invoiceText)+"\n          ")])]),i("tr",[i("td",{staticClass:"none-border"},[t._v("\n            "+t._s(t.$t("order.amounts_payable"))+"\n          ")]),i("td",{staticClass:"text-bold none-border"},[t._v("$"+t._s(t.orderAttach.total_money))])])])])])])},u=[],d=(i("7514"),i("c1df")),l=i.n(d),M={mixins:[r["a"]],props:{orderInfo:Object,orderAttach:Object,npobanList:Array,storeInfo:Object},data:function(){return{deliveryContentOnSite:""}},methods:{invoiceType:function(t){switch(t){case 30:return this.$t("order.invoice_donation");case 20:return this.$t("order.invoice_phone");case 10:if(3===this.storeInfo.store_mode)return this.$t("order.invoice_email");default:return this.$t("order.invoice_paper")}}},created:function(){var t=this.storeInfo.delivery_info.filter((function(t){return 21===t.delivery_type}));t&&(this.deliveryContentOnSite=2===t[0].custom_config.sub_delivery_type?"店家送餐":"叫號取餐")},computed:{npobanName:function(){var t=this;if(this.npobanList){var e=this.npobanList.find((function(e){return e.value===t.orderInfo.invoice_npoban})).label;if(e)return e}return""},isToday:function(){var t=l()().format("YYYY-MM-DD"),e=this.orderInfo,i="";return e.delivery_reserv_date&&(i=e.delivery_reserv_date),i===t},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=l()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=l()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}},deliveryTimeOnSite:function(){var t=this.storeInfo.delivery_time_info.filter((function(t){return 21===t.delivery_type}));return t.length?t[0].available_time:null},invoiceText:function(){var t=this.storeInfo,e=t.has_invoice_carrier,i=t.has_invoice_paper,s=t.has_invoice_npoban,o=t.is_invoice_exception,r=t.store_mode,n=this.orderInfo,a=n.invoice_type,c=n.email,u=n.invoice_carrier_id;return 1===o?"本店免用統一發票":10===a&&1===i?3===r?"".concat(this.invoiceType(a)," - ").concat(c):this.invoiceType(a):20===a&&1===e?"".concat(this.invoiceType(a)," - ").concat(u):30===a&&1===s?"".concat(this.invoiceType(a)," - ").concat(this.npobanName):""}}},h=M,p=(i("26b4"),i("2877")),m=Object(p["a"])(h,c,u,!1,null,"678e8782",null),g=m.exports,_=i("7b29"),f=i("221c"),y=i.n(f),I=i("45889"),N=i("9f59"),D={mixins:[r["a"],N["a"]],components:{"check-order":a["a"],"credit-cards-detail":n["a"],"check-order-on-site":g,"input-label":_["default"],"message-block":I["a"]},props:{orderInfo:Object,storeInfo:Object,orderOthers:Object,npobanList:Array,cancelTrade:Function,orderAttach:Object,creditList:Array},data:function(){return{imageUrl:{fetPay:y.a},payment:{},exp_secs:0}},methods:{padLeft:function(t,e){return t=""+t,t.length>=e?t:this.padLeft("0"+t,e)},timer:function(){var t=this;setInterval((function(){t.exp_secs=t.orderInfo.online_pay_exp_secs--}),1e3)}},created:function(){this.orderOthers.order_info.payment.length&&(this.payment=this.orderOthers.order_info.payment[0],this.$set(this.orderAttach,"total_money",this.payment.money),this.orderInfo.online_pay_exp_secs<=0&&this.cancelTrade())},mounted:function(){this.getFetSubscription(this.orderInfo,this.orderAttach),this.timer()},computed:{creditList_cathay:function(){var t=this,e=[];return this.creditList.forEach((function(i,s){710===i.data.trade_type?e.push(i):t.creditList.length===s+1&&e.push(i)})),e},creditList_tappay:function(){var t=this,e=[];return this.creditList.forEach((function(i,s){706===i.data.trade_type?e.push(i):t.creditList.length===s+1&&e.push(i)})),e},getTradeTime:function(){if(this.exp_secs>0){var t=this.exp_secs,e=Math.floor(t/60).toString(),i=(t%60).toString();return this.padLeft(e,2)+":"+this.padLeft(i,2)}return"00:00"}},watch:{exp_secs:function(){var t=this;0===this.exp_secs&&(clearInterval(this.exp_secs),this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"付款頁停留時間過久，請重新完成訂單流程",ok:{label:this.$t("dialog.confirm"),color:"primary",textColor:"white"},persistent:!0}).onOk((function(){t.cancelTrade()})))}}},j=D,v=Object(p["a"])(j,s,o,!1,null,null,null);e["a"]=v.exports},8668:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"font-size-body-1 text-grey-8 nd-mt-2"},[t._m(0),t.info.publisher_info&&t.info.publisher_info.content?i("div",{staticClass:"nd-pl-5"},[i("div",[t._v("\n        公司名稱："+t._s(t.info.publisher_info.content.name)+"\n      ")]),i("div",[t._v("\n        統一編號："+t._s(t.info.publisher_info.content.ein)+"\n      ")]),i("div",[t._v("\n        營登地址："+t._s(t.info.publisher_info.content.address)+"\n      ")]),i("div",[t._v("\n        負責人："+t._s(t.info.publisher_info.content.manager)+"\n      ")]),i("div",[t._v("\n        實收資本額："+t._s(t.info.publisher_info.content.actual_capital.toLocaleString())+" \n      ")])]):t._e(),t.info.performance_bond&&t.info.performance_bond.content?i("div",[t._m(1),i("div",{staticClass:"nd-pl-5"},[t._v("\n        "+t._s(t.info.performance_bond.content)+"\n      ")])]):t._e()])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"disc-list"},[i("li",[t._v("發行商資訊")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"disc-list nd-mt-2"},[i("li",[t._v("履約保證")])])}],r={name:"VoucherPublisherInfo",props:{info:{type:Object,default:function(){return{}},required:!0}}},n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},"871b":function(t,e,i){"use strict";var s=i("0fae"),o=i.n(s);o.a},"87bf":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0zMS43NjI0IDE5LjU1NEgzMi4zODU4QzMyLjg4NDQgMTkuNTU0IDMzLjI4NjIgMTkuMTU3MSAzMy4yODYyIDE4LjY2NDRWMTYuMTg3M0MzMy4yODYyIDE0LjU1ODYgMzIuMTA4NyAxMy4yMDM3IDMwLjU0MzQgMTIuODg4OUwyOC40NjU1IDYuODM5NjNDMjguMjg1NCA2LjMwNTg3IDI3Ljg2OTkgNS44Njc5MiAyNy4zNDM1IDUuNjA3ODhDMjYuODE3MSA1LjM2MTUzIDI2LjIwNzYgNS4zMzQxNiAyNS42ODEyIDUuNTI1NzdMNS44ODYwNyAxMi44MzQyQzQuMTEyOTYgMTIuOTU3MyAyLjcwMDAxIDE0LjM5NDQgMi43MDAwMSAxNi4xODczVjE4LjY2NDRDMi43MDAwMSAxOS4xNTcxIDMuMTAxNzMgMTkuNTU0IDMuNjAwNDIgMTkuNTU0SDQuMjIzNzhDNS40NTY2NCAxOS41NTQgNi40NTQwMiAyMC41Mzk0IDYuNDU0MDIgMjEuNzU3NUM2LjQ1NDAyIDIyLjk3NTYgNS40NTY2NCAyMy45NjEgNC4yMjM3OCAyMy45NjFIMy42MDA0MkMzLjEwMTczIDIzLjk0NzMgMi43MDAwMSAyNC4zNDQyIDIuNzAwMDEgMjQuODM2OVYyNy4zMTQxQzIuNzAwMDEgMjkuMTc1NCA0LjIyMzc4IDMwLjY4MDkgNi4xMDc3MSAzMC42ODA5SDI5Ljg5MjNDMzAuODA2NiAzMC42ODA5IDMxLjY1MTYgMzAuMzI1IDMyLjMwMjYgMjkuNjk1NUMzMi45Mzk4IDI5LjA2NTkgMzMuMyAyOC4yMTc0IDMzLjMgMjcuMzE0MVYyNC44MzY5QzMzLjMgMjQuMzQ0MiAzMi44OTgzIDIzLjk0NzMgMzIuMzk5NiAyMy45NDczSDMxLjc3NjJDMzEuMTgwNiAyMy45NDczIDMwLjYyNjUgMjMuNzE0NiAzMC4xOTcxIDIzLjMwNEMyOS43ODE1IDIyLjg5MzUgMjkuNTQ2IDIyLjMzMjMgMjkuNTQ2IDIxLjc0MzhDMjkuNTQ2IDIwLjUzOTQgMzAuNTQzNCAxOS41NTQgMzEuNzYyNCAxOS41NTRaTTI3LjczMTMgMjEuNzQzOEMyNy43MzEzIDIyLjgxMTMgMjguMTQ2OSAyMy44MTA0IDI4LjkwODggMjQuNTYzMkMyOS42MDE0IDI1LjI0NzUgMzAuNTE1NyAyNS42NTggMzEuNDg1MyAyNS43MjY1VjI3LjMxNDFDMzEuNDg1MyAyOC4xOSAzMC43NjUgMjguOTAxNyAyOS44Nzg1IDI4LjkwMTdIMTQuNTE2MVYyOC41NTk1QzE0LjUxNjEgMjguMDY2OCAxNC4xMTQ0IDI3LjY2OTkgMTMuNjE1NyAyNy42Njk5QzEzLjExNyAyNy42Njk5IDEyLjcxNTMgMjguMDY2OCAxMi43MTUzIDI4LjU1OTVWMjguOTAxN0g2LjEwNzcxQzUuMjIxMTUgMjguOTAxNyA0LjUwMDgzIDI4LjE5IDQuNTAwODMgMjcuMzE0MVYyNS43MjY1QzYuNTkyNTQgMjUuNTg5NiA4LjI1NDgzIDIzLjg1MTUgOC4yNTQ4MyAyMS43NTc1QzguMjU0ODMgMTkuNjYzNSA2LjU5MjU0IDE3LjkyNTQgNC41MDA4MyAxNy43ODg1VjE2LjE4NzNDNC41MDA4MyAxNS4zMTEzIDUuMjIxMTUgMTQuNTk5NyA2LjEwNzcxIDE0LjU5OTdIMTIuNzE1M1YxNC45NDE4QzEyLjcxNTMgMTUuNDM0NSAxMy4xMTcgMTUuODMxNCAxMy42MTU3IDE1LjgzMTRDMTQuMTE0NCAxNS44MzE0IDE0LjUxNjEgMTUuNDM0NSAxNC41MTYxIDE0Ljk0MThWMTQuNTk5N0gyOS44OTIzQzMwLjc3ODkgMTQuNTk5NyAzMS40OTkyIDE1LjMxMTMgMzEuNDk5MiAxNi4xODczVjE3Ljc3NDhDMjkuMzkzNiAxNy45MTE3IDI3LjczMTMgMTkuNjM2MiAyNy43MzEzIDIxLjc0MzhaTTExLjEwODQgMTIuODIwNUwyNi4zMzIyIDcuMjA5MTZDMjYuNDE1NCA3LjE4MTc5IDI2LjUxMjMgNy4xODE3OSAyNi42MDkzIDcuMjIyODRDMjYuNjkyNCA3LjI2MzkgMjYuNzYxNyA3LjMzMjMzIDI2Ljc4OTQgNy40MTQ0NUwyOC42NDU2IDEyLjgyMDVIMTEuMTA4NFoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xMy42MTU3IDIyLjQyODVDMTMuMTE3MSAyMi40Mjg1IDEyLjcxNTMgMjIuODI1NCAxMi43MTUzIDIzLjMxODFWMjUuNDEyQzEyLjcxNTMgMjUuOTA0NyAxMy4xMTcxIDI2LjMwMTYgMTMuNjE1NyAyNi4zMDE2QzE0LjExNDQgMjYuMzAxNiAxNC41MTYxIDI1LjkwNDcgMTQuNTE2MSAyNS40MTJWMjMuMzE4MUMxNC41MTYxIDIyLjgyNTQgMTQuMTE0NCAyMi40Mjg1IDEzLjYxNTcgMjIuNDI4NVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xMy42MTU3IDE3LjE4NjZDMTMuMTE3MSAxNy4xODY2IDEyLjcxNTMgMTcuNTgzNSAxMi43MTUzIDE4LjA3NjJWMjAuMTcwMkMxMi43MTUzIDIwLjY2MjkgMTMuMTE3MSAyMS4wNTk4IDEzLjYxNTcgMjEuMDU5OEMxNC4xMTQ0IDIxLjA1OTggMTQuNTE2MSAyMC42NjI5IDE0LjUxNjEgMjAuMTcwMlYxOC4wODk5QzE0LjUxNjEgMTcuNTk3MiAxNC4xMTQ0IDE3LjE4NjYgMTMuNjE1NyAxNy4xODY2WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},"87d7":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiI+CiAgPGRlZnM+CiAgICA8Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aCI+CiAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMTM1MSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMTM1MSIgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNSA1ODgpIiBmaWxsPSIjZmZmIiBzdHJva2U9IiM3MDcwNzAiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPC9jbGlwUGF0aD4KICA8L2RlZnM+CiAgPGcgaWQ9Imljb25fdmlzYSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI1IC01ODgpIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSI+CiAgICA8ZyBpZD0iR3JvdXBfNDMxMiIgZGF0YS1uYW1lPSJHcm91cCA0MzEyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNiA0MjUuNjYyKSI+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MjAiIGRhdGEtbmFtZT0iUGF0aCAzNTIwIiBkPSJNMTg0LjgsMTkwLjJsMS43NDMtOS44aDIuNzI0bC0xLjY4OSw5LjhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjIxNyAtNC40NzMpIiBmaWxsPSIjM2M1OGJmIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MjEiIGRhdGEtbmFtZT0iUGF0aCAzNTIxIiBkPSJNMTg0LjgsMTkwLjJsMi4yMzMtOS44aDIuMjMzbC0xLjY4OSw5LjhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjIxNyAtNC40NzMpIiBmaWxsPSIjMjkzNjg4Ii8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MjIiIGRhdGEtbmFtZT0iUGF0aCAzNTIyIiBkPSJNMjU2LjMzNCwxNzYuMDM2YTYuOTA5LDYuOTA5LDAsMCwwLTIuNTA2LS40MzZjLTIuNzI0LDAtNC42ODUsMS4zNjItNC42ODUsMy4zMjMsMCwxLjQ3MSwxLjM2MiwyLjIzMywyLjQ1MSwyLjcyNHMxLjQxNi44MTcsMS40MTYsMS4yNTNjMCwuNjU0LS44NzIuOTgtMS42MzQuOThhNS45Miw1LjkyLDAsMCwxLTIuNjE1LS41NDVsLS4zODEtLjE2M0wyNDgsMTg1LjRhOC44MzMsOC44MzMsMCwwLDAsMy4xLjU0NWMyLjg4NywwLDQuNzk0LTEuMzYyLDQuNzk0LTMuNDMyLDAtMS4xNDQtLjcwOC0yLjAxNS0yLjM0Mi0yLjcyNC0uOTgtLjQ5LTEuNTgtLjc2My0xLjU4LTEuMjUzLDAtLjQzNi40OS0uODcyLDEuNTgtLjg3MmE1LDUsMCwwLDEsMi4wNy4zODFsLjI3Mi4xMDkuNDM2LTIuMTI0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIzMS4xMTQpIiBmaWxsPSIjM2M1OGJmIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MjMiIGRhdGEtbmFtZT0iUGF0aCAzNTIzIiBkPSJNMjU2LjMzNCwxNzYuMDM2YTYuOTA5LDYuOTA5LDAsMCwwLTIuNTA2LS40MzZjLTIuNzI0LDAtNC4xOTQsMS4zNjItNC4xOTQsMy4zMjNhMi44NDcsMi44NDcsMCwwLDAsMS45NjEsMi43MjRjMS4wODkuNDksMS40MTYuODE3LDEuNDE2LDEuMjUzLDAsLjY1NC0uODcyLjk4LTEuNjM0Ljk4YTUuOTIsNS45MiwwLDAsMS0yLjYxNS0uNTQ1bC0uMzgxLS4xNjNMMjQ4LDE4NS40YTguODMzLDguODMzLDAsMCwwLDMuMS41NDVjMi44ODcsMCw0Ljc5NC0xLjM2Miw0Ljc5NC0zLjQzMiwwLTEuMTQ0LS43MDgtMi4wMTUtMi4zNDItMi43MjQtLjk4LS40OS0xLjU4LS43NjMtMS41OC0xLjI1MywwLS40MzYuNDktLjg3MiwxLjU4LS44NzJhNSw1LDAsMCwxLDIuMDcuMzgxbC4yNzIuMTA5LjQzNi0yLjEyNFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzEuMTE0KSIgZmlsbD0iIzI5MzY4OCIvPgogICAgICA8cGF0aCBpZD0iUGF0aF8zNTI0IiBkYXRhLW5hbWU9IlBhdGggMzUyNCIgZD0iTTM2My45LDE4MC40Yy0uNjU0LDAtMS4xNDQuMDU0LTEuNDE2LjcwOGwtNC4wODUsOS4xaDIuOTQxbC41NDUtMS42MzRoMy40ODZsLjMyNywxLjYzNGgyLjYxNWwtMi4yODgtOS44Wm0tMS4yNTMsNi41MzdjLjE2My0uNDksMS4wODktMi44ODcsMS4wODktMi44ODdzLjIxOC0uNi4zODEtLjk4bC4xNjMuOTI2cy41NDUsMi40NTEuNjU0LDNoLTIuMjg4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMzMy45OTcgLTQuNDczKSIgZmlsbD0iIzNjNThiZiIvPgogICAgICA8cGF0aCBpZD0iUGF0aF8zNTI1IiBkYXRhLW5hbWU9IlBhdGggMzUyNSIgZD0iTTM2NC41NTUsMTgwLjRjLS42NTQsMC0xLjE0NC4wNTQtMS40MTYuNzA4bC00LjczOSw5LjFoMi45NDFsLjU0NS0xLjYzNGgzLjQ4NmwuMzI3LDEuNjM0aDIuNjE1bC0yLjI4OC05LjhabS0xLjkwNyw2LjUzN2MuMjE4LS41NDUsMS4wODktMi44ODcsMS4wODktMi44ODdzLjIxOC0uNi4zODEtLjk4bC4xNjMuOTI2cy41NDUsMi40NTEuNjU0LDNoLTIuMjg4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMzMy45OTcgLTQuNDczKSIgZmlsbD0iIzI5MzY4OCIvPgogICAgICA8cGF0aCBpZD0iUGF0aF8zNTI2IiBkYXRhLW5hbWU9IlBhdGggMzUyNiIgZD0iTTU1LjI4NSwxODguMDA5bC0uMjcyLTEuNDE2YTcuOSw3LjksMCwwLDAtMy44MTMtNC4zTDUzLjY1MSwxOTFoMi45NDFMNjEsMTgxLjJINTguMDYzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ3LjcxNCAtNS4yMTkpIiBmaWxsPSIjM2M1OGJmIi8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MjciIGRhdGEtbmFtZT0iUGF0aCAzNTI3IiBkPSJNNTUuMjg1LDE4OC4wMDlsLS4yNzItMS40MTZhNy45LDcuOSwwLDAsMC0zLjgxMy00LjNMNTMuNjUxLDE5MWgyLjk0MUw2MSwxODEuMmgtMi40WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ3LjcxNCAtNS4yMTkpIiBmaWxsPSIjMjkzNjg4Ii8+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MjgiIGRhdGEtbmFtZT0iUGF0aCAzNTI4IiBkPSJNMCwxODAuNGwuNDkuMTA5YzMuNDg2LjgxNyw1Ljg4MywyLjg4Nyw2LjgwOSw1LjMzOGwtLjk4LTQuNjNjLS4xNjMtLjY1NC0uNjU0LS44MTctMS4yNTMtLjgxN1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTQuNDczKSIgZmlsbD0iI2ZmYmMwMCIvPgogICAgICA8cGF0aCBpZD0iUGF0aF8zNTI5IiBkYXRhLW5hbWU9IlBhdGggMzUyOSIgZD0iTTAsMTgwLjRIMGMzLjQ4Ni44MTcsNi4zNzMsMi45NDEsNy4zLDUuMzkzbC0uOTI2LTMuODY4YTEuMzMsMS4zMywwLDAsMC0xLjMwNy0xLjAzNVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTQuNDczKSIgZmlsbD0iI2Y3OTgxZCIvPgogICAgICA8cGF0aCBpZD0iUGF0aF8zNTMwIiBkYXRhLW5hbWU9IlBhdGggMzUzMCIgZD0iTTAsMTgwLjRIMGMzLjQ4Ni44MTcsNi4zNzMsMi45NDEsNy4zLDUuMzkzbC0uNjU0LTIuMTI0YTEuOTIxLDEuOTIxLDAsMCwwLTEuMTQ0LTEuNThaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC00LjQ3MykiIGZpbGw9IiNlZDdjMDAiLz4KICAgICAgPGcgaWQ9Ikdyb3VwXzQzMTEiIGRhdGEtbmFtZT0iR3JvdXAgNDMxMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMy41NDEgMTc3LjAxNikiPgogICAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MzEiIGRhdGEtbmFtZT0iUGF0aCAzNTMxIiBkPSJNNTguNzU1LDIwMS44NDcsNTYuOSwyMDBsLS44NzIsMi4wNy0uMjE4LTEuMzYyQTcuOSw3LjksMCwwLDAsNTIsMTk2LjRsMi40NTEsOC43MTZoMi45NDFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTIgLTE5Ni40KSIgZmlsbD0iIzA1MTI0NCIvPgogICAgICAgIDxwYXRoIGlkPSJQYXRoXzM1MzIiIGRhdGEtbmFtZT0iUGF0aCAzNTMyIiBkPSJNMTg3LjU3OCwyOTEuNmwtMi4zNDItMi40LS40MzYsMi40WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3NS43NTggLTI4Mi44ODEpIiBmaWxsPSIjMDUxMjQ0Ii8+CiAgICAgICAgPHBhdGggaWQ9IlBhdGhfMzUzMyIgZGF0YS1uYW1lPSJQYXRoIDM1MzMiIGQ9Ik0yNTIuNzM5LDI3NC44aDBjLjIxOC4yMTguMzI3LjM4MS4yNzIuNiwwLC42NTQtLjg3Mi45OC0xLjYzNC45OGE1LjkyMSw1LjkyMSwwLDAsMS0yLjYxNS0uNTQ1bC0uMzgxLS4xNjNMMjQ4LDI3Ny45YTguODMzLDguODMzLDAsMCwwLDMuMS41NDUsNS4zOTMsNS4zOTMsMCwwLDAsMy45NzYtMS4zNjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjM0LjY1NCAtMjY5LjQ2MikiIGZpbGw9IiMwNTEyNDQiLz4KICAgICAgICA8cGF0aCBpZD0iUGF0aF8zNTM0IiBkYXRhLW5hbWU9IlBhdGggMzUzNCIgZD0iTTM2NCwyMjYuNzM2aDIuNTZsLjU0NS0xLjYzNGgzLjQ4NmwuMzI3LDEuNjM0aDIuNjE1bC0uOTI2LTMuOTc2LTMuMjY4LTMuMTU5LjE2My44NzJzLjU0NSwyLjQ1MS42NTQsM2gtMi4yODhjLjIxOC0uNTQ1LDEuMDg5LTIuODg3LDEuMDg5LTIuODg3cy4yMTgtLjYuMzgxLS45OCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0Mi43NTYgLTIxOC4wMikiIGZpbGw9IiMwNTEyNDQiLz4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},"888f":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["shoping-list-card q-mt-sm",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[2!==t.orderInfo.status&&1!==t.orderInfo.status?i("div",{staticClass:"q-mb-sm font-size-subtitle-1 nd-font-weight-medium"},[t._v("\n    確認訂單明細\n  ")]):t._e(),i("div",{staticClass:"full-width"},[i("div",{staticClass:"nd-my-4"},[t.orderAttach.cup_applicable_discount&&Object.keys(t.orderAttach.cup_applicable_discount).length&&t.orderAttach.cup_applicable_discount.total_amount>0?i("i-li",{staticClass:"flex nd-bg-violet-red-1 nd-rounded-md q-pl-sm nd-py-2",attrs:{icon:"information",name:"提醒您記得攜帶飲料杯至門市，以免錯過相關優惠！",iconColor:"bg-secondary"}}):t._e()],1),i("table",{staticClass:"order-table full-width"},[i("tbody",[i("tr",[i("td",{staticStyle:{"min-width":"110px"}},[t._v("\n            "+t._s(t.$t("order.order_store"))+"\n          ")]),i("td",[t._v(t._s(t.orderInfo.brand_name_s)+" "+t._s(t.orderInfo.store_name_s))])]),i("tr",[i("td",[t._v(t._s(3===t.storeInfo.store_mode?"購買人":t.$t("order.pickup_person")))]),i("td",[t._v(t._s(t.orderInfo.name))])]),i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.order_view"))+"\n          ")]),i("td",[t._v(t._s(t.isVoucher?t.$t("order.voucher"):t.$t("order.product")))])]),i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.phone"))+"\n          ")]),i("td",[t._v(t._s(t.orderInfo.phone.replace("#"," #")))])]),t.orderInfo.email?i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.email"))+"\n          ")]),i("td",{staticClass:"break-word"},[t._v(t._s(t.orderInfo.email))])]):t._e(),t.isVoucher?t._e():i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.pickup_option"))+"\n          ")]),i("td",[t._v(t._s(3===t.storeInfo.store_mode?"線上發送":t.deliveryName(t.orderInfo.delivery_type)))])]),t.isVoucher||3!==t.orderInfo.delivery_type?t._e():i("tr",[i("td",[t._v(t._s(t.$t("order.pickup_address")))]),i("td",[t._v("\n            "+t._s(t.orderInfo.delivery_address)+"\n            "),t.orderInfo.delivery_location?i("span",[t._v(" ("+t._s(t.orderInfo.delivery_location)+")")]):t._e()])]),t.isVoucher||3===t.storeInfo.store_mode?t._e():i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.pickup_time"))+"\n          ")]),i("td",[t.isToday?t._e():i("span",[i("q-badge",{staticStyle:{padding:"4px","padding-bottom":"5px",margin:"0px","margin-right":"5px"},attrs:{outline:"",color:"secondary",label:"預約"}}),t._v("\n              "+t._s(t.orderTime.date)+"\n            ")],1),i("span",[t._v(t._s(t.orderTime.start))]),3===t.orderInfo.delivery_type?i("span",[t._v("~"+t._s(t.orderTime.end))]):t._e()])]),t.orderAttach.need_special_item&&Array.isArray(t.orderAttach.need_special_item)&&t.orderAttach.need_special_item.length?i("tr",[i("td",[t._v(t._s(t.$t("order.special_item_setting")))]),i("td",[t._v(t._s(t.$t("order."+this.specialItemText)))])]):t._e(),t.orderInfo.shopper_remark?i("tr",[i("td",[t._v("留言")]),i("td",[t._v(t._s(t.orderInfo.shopper_remark))])]):t._e(),i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.payment_method"))+"\n          ")]),t.isVoucher?i("td",[t._v("信用卡")]):i("td",[t._v(t._s(t.tradeTypeName(t.orderInfo.trade_type,t.orderInfo.store_id)))])]),i("tr",[i("td",[t._v("\n            "+t._s(t.$t("order.invoice_type"))+"\n          ")]),i("td",[t.isVoucher&&40===t.orderInfo.invoice_type?i("span",[t._v("\n              "+t._s(t.$t("order.invoice_email"))+"\n            ")]):t.isVoucher&&10===t.orderInfo.invoice_type?i("span",[i("div",[t._v("公司行號-")]),i("div",[t._v(t._s(t.orderInfo.ein_title))]),i("div",[t._v(t._s(t.orderInfo.ein))]),i("div",[t._v(t._s(t.orderInfo.ein_address))])]):t.storeInfo.is_invoice_exception&&!t.isVoucher||![10,20,30,40].includes(t.orderInfo.invoice_type)?i("span",[t._v("\n              "+t._s(0===t.storeInfo.is_invoice_exception?t.$t("order.invoice_paper"):"本店免用統一發票")+"\n            ")]):i("span",[t._v("\n              "+t._s(t.invoiceType(t.orderInfo.invoice_type))+"\n              "),20===t.orderInfo.invoice_type?i("span",[t._v(" - "+t._s(t.orderInfo.invoice_carrier_id))]):t._e(),30===t.orderInfo.invoice_type?i("span",[t._v(" - "+t._s(t.npobanName))]):t._e(),40===t.orderInfo.invoice_type?i("span",[t._v(" - "+t._s(t.orderInfo.email))]):t._e()])])]),t.orderInfo.ein&&!t.isVoucher?i("tr",[i("td",[t._v("統一編號")]),i("td",[t._v(t._s(t.orderInfo.ein))])]):t._e(),i("tr",[i("td",{staticClass:"none-border"},[t._v("\n            "+t._s(t.$t("order.amounts_payable"))+"\n          ")]),i("td",{staticClass:"text-bold none-border"},[t._v("$"+t._s(t.orderAttach.total_money))])])])])])])},o=[],r=(i("7514"),i("967e")),n=i.n(r),a=(i("96cf"),i("fa84")),c=i.n(a),u=i("c1df"),d=i.n(u),l=i("791e"),M=i("45889"),h=i("9f59"),p=i("0c6b"),m={mixins:[l["a"],h["a"]],components:{"message-block":M["a"],"i-li":p["a"]},props:{orderInfo:Object,orderAttach:Object,npobanList:Array,storeInfo:Object},data:function(){return{specialItemText:"",showSpecialItem:!1}},methods:{invoiceType:function(t){switch(t){case 40:return this.$t("order.invoice_email");case 30:return this.$t("order.invoice_donation");case 20:return this.$t("order.invoice_phone");case 10:if(3===this.storeInfo.store_mode)return this.$t("order.invoice_email");default:return this.$t("order.invoice_paper")}},setSpecialItem:function(){var t=this.orderAttach;if(t.need_special_item&&t.need_special_item.length>0){this.showSpecialItem=!0;var e=t.need_special_item[0].value;this.specialItemText=e?"special_item_need_switchOn":"special_item_need_switchOff"}}},created:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.setSpecialItem();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.setSpecialItem();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{npobanName:function(){var t=this;if(this.npobanList){var e=this.npobanList.find((function(e){return e.value===t.orderInfo.invoice_npoban})).label;if(e)return e}return""},isToday:function(){var t=d()().format("YYYY-MM-DD"),e=this.orderInfo,i="";return e.delivery_reserv_date&&(i=e.delivery_reserv_date),i===t},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=d()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=d()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}}}},g=m,_=(i("6869"),i("2877")),f=Object(_["a"])(g,s,o,!1,null,"35318883",null);e["a"]=f.exports},"891b":function(t,e,i){"use strict";var s=i("1816"),o=i.n(s);o.a},"895c":function(t,e,i){},"899b":function(t,e,i){t.exports=i.p+"img/i_pi_pay.7bb79de8.svg"},"89b2":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIyLjY0NzEgOS44MjcwOEMyMi42NDcxIDkuNzU5MDQgMjIuNjM3NCA5LjY5MSAyMi42MTc5IDkuNjIyOTdMMjAuNTU3NSAzLjYwNjkyQzIwLjQ4OTUgMy4wMDQzNCAyMC4wMTMzIDIuNTM3ODQgMTkuNDMwMSAyLjUzNzg0SDQuNjA4NjdDNC4wMjU1MyAyLjUzNzg0IDMuNTQ5MyAzLjAwNDM0IDMuNDgxMjcgMy42MDY5MkwxLjM3MjI1IDkuNjIyOTdDMS4zNTI4MSA5LjY5MSAxLjMzMzM3IDkuNzU5MDQgMS4zMzMzNyA5LjgyNzA4QzEuMzMzMzcgMTAuMzAzMyAxLjU5NTc5IDEwLjgyODEgMi4wMjM0MiAxMS4yNjU1QzIuMDIzNDIgMTEuMjc1MiAyLjAxMzcgMTEuMjg0OSAyLjAxMzcgMTEuMjk0NlYyMS4xODg2QzIuMDEzNyAyMS41Mzg0IDIuMjk1NTUgMjEuODIwMyAyLjYzNTcyIDIxLjgyMDNIMjEuMzczOUMyMS43MjM4IDIxLjgyMDMgMjEuOTk1OSAyMS41Mzg0IDIxLjk5NTkgMjEuMTg4NlYxMS4yOTQ2QzIxLjk5NTkgMTEuMjc1MiAyMS45ODYyIDExLjI0NiAyMS45ODYyIDExLjIyNjZDMjIuMzk0NCAxMC43ODkyIDIyLjY0NzEgMTAuMjkzNiAyMi42NDcxIDkuODI3MDhaTTIwLjc1MTkgMjAuNTU2OEgzLjI2NzQ1VjEyLjA5MTZDMy42MzY3NyAxMi4yMjc3IDQuMDM1MjUgMTIuMzE1MSA0LjQ1MzE3IDEyLjMxNTFDNS40ODMzOCAxMi4zMTUxIDYuMzk2OTYgMTEuODI5MiA2Ljk2MDY2IDExLjE5NzRDNy41MzQwOCAxMS44MjkyIDguNDM3OTUgMTIuMzE1MSA5LjQ2ODE2IDEyLjMxNTFDMTAuNDk4NCAxMi4zMTUxIDExLjQxMiAxMS44MjkyIDExLjk3NTcgMTEuMTk3NEMxMi41NDkxIDExLjgyOTIgMTMuNDUyOSAxMi4zMTUxIDE0LjQ4MzIgMTIuMzE1MUMxNS41MTM0IDEyLjMxNTEgMTYuNDI2OSAxMS44MjkyIDE2Ljk5MDcgMTEuMTk3NEMxNy41NjQxIDExLjgyOTIgMTguNDY3OSAxMi4zMTUxIDE5LjQ5ODEgMTIuMzE1MUMxOS45MzU1IDEyLjMxNTEgMjAuMzUzNCAxMi4yMjc3IDIwLjczMjUgMTIuMDcyMlYyMC41NTY4SDIwLjc1MTlaTTE5LjUxNzYgMTEuMDYxNEMxOC40NDg1IDExLjA2MTQgMTcuNjQxOCAxMC4yMzUzIDE3LjY0MTggOS44MjcwOFY4LjM0OTc5QzE3LjY0MTggNy45OTk5IDE3LjM2IDcuNzE4MDUgMTcuMDE5OCA3LjcxODA1QzE3LjAxOTggNy43MTgwNSAxNy4wMTk4IDcuNzE4MDUgMTcuMDEwMSA3LjcxODA1QzE3LjAxMDEgNy43MTgwNSAxNy4wMTAxIDcuNzE4MDUgMTcuMDAwNCA3LjcxODA1QzE2LjY1MDUgNy43MTgwNSAxNi4zNzg0IDcuOTk5OSAxNi4zNzg0IDguMzQ5NzlWOS44MjcwOEMxNi4zNzg0IDEwLjIzNTMgMTUuNTcxNyAxMS4wNjE0IDE0LjUwMjYgMTEuMDYxNEMxMy40MzM1IDExLjA2MTQgMTIuNjI2OCAxMC4yMzUzIDEyLjYyNjggOS44MjcwOFY4LjM0OTc5QzEyLjYyNjggNy45OTk5IDEyLjM0NSA3LjcxODA1IDEyLjAwNDggNy43MTgwNUMxMi4wMDQ4IDcuNzE4MDUgMTIuMDA0OCA3LjcxODA1IDExLjk5NTEgNy43MTgwNUMxMS45OTUxIDcuNzE4MDUgMTEuOTk1MSA3LjcxODA1IDExLjk4NTQgNy43MTgwNUMxMS42MzU1IDcuNzE4MDUgMTEuMzYzNCA3Ljk5OTkgMTEuMzYzNCA4LjM0OTc5VjkuODI3MDhDMTEuMzYzNCAxMC4yMzUzIDEwLjU1NjcgMTEuMDYxNCA5LjQ4NzYgMTEuMDYxNEM4LjQxODUxIDExLjA2MTQgNy42MTE4MyAxMC4yMzUzIDcuNjExODMgOS44MjcwOEM3LjYxMTgzIDkuNzk3OTIgNy42MDIxMiA5Ljc3ODQ3IDcuNjAyMTIgOS43NTkwNFY4LjM0OTc5QzcuNjAyMTIgNy45OTk5IDcuMzIwMjcgNy43MTgwNSA2Ljk4MDEgNy43MTgwNUM2LjYzMDIyIDcuNzE4MDUgNi4zNTgwOSA3Ljk5OTkgNi4zNTgwOSA4LjM0OTc5VjkuODI3MDhDNi4zNTgwOSAxMC4yMzUzIDUuNTUxNDEgMTEuMDYxNCA0LjQ4MjMyIDExLjA2MTRDMy40ODEyNyAxMS4wNjE0IDIuNzAzNzUgMTAuMzQyMiAyLjYxNjI4IDkuOTA0ODJMNC43MDU4NiAzLjk1NjhDNC43MTU1OCAzLjkyNzY1IDQuNzE1NTggMy44OTg0OSA0LjcxNTU4IDMuODY5MzRDNC43MjUzIDMuODQwMTggNC43MzUwMiAzLjgxMTAzIDQuNzM1MDIgMy43ODE4N0gxOS4zMjMyQzE5LjMyMzIgMy44MTEwMyAxOS4zNDI2IDMuODQwMTggMTkuMzQyNiAzLjg2OTM0QzE5LjM1MjQgMy44OTg0OSAxOS4zNDI2IDMuOTI3NjUgMTkuMzUyNCAzLjk0NzA5TDIxLjM5MzMgOS45MDQ4MkMyMS4yOTYyIDEwLjMzMjUgMjAuNTE4NiAxMS4wNjE0IDE5LjUxNzYgMTEuMDYxNFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="},"8a92":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nd-google-addres-dialog",{attrs:{show:t.showAddressDialog},on:{"update:show":function(e){t.showAddressDialog=e},"update:location":function(e){t.srcType=1,t.setGoogleLocation(e,!0),t.updateByRange()},showMap:function(e){t.srcType=2,t.toggleMap(!0)},cancel:function(e){t.alreadyConfirm=!1}}}),s("nd-map-selector",{attrs:{show:t.showMap,addressList:t.googleAddressList},on:{confirm:function(e){t.setMapSrcType(),t.updateByRange()},cancel:function(e){t.alreadyConfirm=!1},close:function(e){return t.toggleMap(!1)}}}),s("q-dialog",{attrs:{maximized:t.$q.screen.lt.md,"transition-show":t.transitionShow,"transition-hide":t.transitionHide,"no-route-dismiss":"","no-esc-dismiss":""},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[s("q-card",{staticClass:"q-card bg-white nidin-modal",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("q-card-section",{staticClass:"q-pa-none"},[s("div",{staticClass:"row items-center justify-between"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.dialogLayout,expression:"dialogLayout === 0"}],staticClass:"col-auto row items-center"},[s("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm"},on:{click:function(e){return t.closeDialog()}}},[s("q-img",{staticClass:"q-ma-sm",attrs:{width:"1rem",height:"1rem",src:i("5e75")}})],1)],1),s("div",{staticClass:"col-auto"},[s("div",{staticClass:"nd-font-size-body q-mr-auto"},[11===t.dialogStatus||14===t.dialogStatus?s("div",[t._v("\n                嗨！歡迎來到你訂\n                "),s("br"),t._v("\n                您想要訂餐的區域是哪裡呢？\n              ")]):0===t.dialogLayout?s("div",[t._v("\n                修改地址\n              ")]):1===t.dialogLayout?s("div",[t._v("\n                "+t._s(2===t.dialogRange?"地址":"新增地址")+"\n              ")]):2===t.dialogLayout?s("div",[t._v("\n                "+t._s(2===t.dialogRange?"地址":"編輯地址")+"\n              ")]):3===t.dialogLayout?s("div",[t._v("\n                地址\n              ")]):4===t.dialogLayout?s("div",[t._v("\n                新增地址\n              ")]):t._e()])]),s("div",{staticClass:"col-auto"},[s("q-btn",{directives:[{name:"show",rawName:"v-show",value:0===t.dialogLayout,expression:"dialogLayout === 0"}],staticClass:"nd-font-size-caption",attrs:{dense:"",flat:""},on:{click:t.addAddressLayout}},[t._v("\n              新增地址\n            ")]),s("q-btn",{directives:[{name:"show",rawName:"v-show",value:[1,2,3,4].includes(t.dialogLayout),expression:"[1, 2, 3, 4].includes(dialogLayout)"}],attrs:{dense:"",flat:"",rounded:"",size:"sm"},on:{click:function(e){return t.closeDialog()}}},[s("q-img",{staticClass:"q-ma-sm",attrs:{width:"1rem",height:"1rem",src:i("49c2")}})],1)],1)])]),[1,2].includes(t.dialogLayout)&&2==t.dialogRange?s("q-card-section",{staticClass:"q-pa-none q-mt-md"},[s("q-separator"),s("div",{staticClass:"font-size-subtitle-2 q-mt-md"},[t._v("\n          "+t._s(t.$t("common.common_address"))+"\n        ")]),s("nd-input-label",{staticClass:"q-mt-md",attrs:{value:t.checkLocation.isFavorite?t.favoriteData.address:"","sub-value":t.checkLocation.isFavorite?t.favoriteData.loc_name:"",opt:t.favoriteSelectorOption},on:{updateClick:function(e){t.dialogLayout=3}}})],1):t._e(),s("q-card-section",{staticClass:"q-pa-none q-my-sm overflow-hidden"},[s("q-separator"),s("div",{staticClass:"col scroll",class:{"address-content":t.dialogVisible}},[s("div",{staticClass:"q-my-lg"},[0===t.dialogLayout?s("nd-user-location",{staticClass:"q-mb-lg"}):t._e(),0===t.dialogLayout&&t.showAddressLogs?s("nd-address-logs",{staticClass:"q-mb-lg"}):t._e(),[0,3].includes(t.dialogLayout)?s("nd-favorite-address"):t._e(),[1,2,4].includes(t.dialogLayout)?s("nd-address-select",{attrs:{"is-favorate":t.checkLocation.isFavorate}}):t._e()],1)]),s("q-separator")],1),s("q-card-section",{staticClass:"q-pa-none flex row"},[0!=t.dialogRange&&2==t.dialogLayout&&1!=t.srcType&&1==t.location.mapStatus?s("q-btn",{staticClass:"btn-primary btn-l-gray text-grey-7 q-mr-sm col full-width",attrs:{disabled:!t.checkLocation.isSameShort},on:{click:function(e){t.alreadyConfirm=!0,t.toggleMap(!0)}}},[t._v("\n          "+t._s(t.$t("dialog.edit_map"))+"\n        ")]):t._e(),s("q-btn",{staticClass:"btn-primary full-width col",attrs:{disabled:t.showBtnSpinner},on:{click:t.confirm}},[s("q-spinner-dots",{directives:[{name:"show",rawName:"v-show",value:t.showBtnSpinner,expression:"showBtnSpinner"}],attrs:{color:"white",size:"1.5rem"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.showBtnSpinner,expression:"!showBtnSpinner"}]},[t._v("\n            "+t._s(t.$t("dialog.confirm"))+"\n          ")])],1)],1)],1)],1)],1)},o=[],r=(i("8e6e"),i("8a81"),i("456d"),i("7f7f"),i("967e")),n=i.n(r),a=(i("7514"),i("96cf"),i("fa84")),c=i.n(a),u=(i("a481"),i("ac6a"),i("cadf"),i("06db"),i("8615"),i("6762"),i("2fdb"),i("20d6"),i("c47a")),d=i.n(u),l=i("3f8d"),M=i("791e"),h=i("2ef0"),p=i.n(h),m=i("02c5");function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={name:"NdLocationDialog",mixins:[M["a"]],components:{"nd-address-logs":function(){return i.e(91).then(i.bind(null,"b89c"))},"nd-address-select":function(){return i.e(77).then(i.bind(null,"4e5b"))},"nd-favorite-address":function(){return i.e(0).then(i.bind(null,"1bad"))},"nd-google-addres-dialog":function(){return Promise.all([i.e(0),i.e(78)]).then(i.bind(null,"bd77"))},"nd-input-label":function(){return i.e(0).then(i.bind(null,"7b29"))},"nd-map-selector":function(){return Promise.all([i.e(1),i.e(0),i.e(51)]).then(i.bind(null,"786b"))},"nd-user-location":function(){return i.e(92).then(i.bind(null,"42e6"))}},data:function(){return{debug:localStorage.locationDebug||!1,approvedFavoriteAddress:!0,showBtnSpinner:!1,showGoBack:!1,showAddressDialog:!1,showMap:!1,originData:{},alreadyConfirm:!1,favoriteSelectorOption:{errorText:"",icon:"arrow",name:"",notInput:!0,placeholder:"請選擇常用地址",required:!1},isLoging:!!this.$store.getters["user/uid"],isSetting:!1,googleAddressList:[],debugLogs:[]}},computed:{location:{get:function(){return this.$store.state.location},set:function(t){this.$store.commit("location/SET_LOCATION_DATA",t)}},srcType:{get:function(){return this.location.tempSrcType},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$store.commit("location/SET_TEMP_SRC_TYPE",t)}},tempAddressText:function(){var t=this.$store.getters["location/tempAddressText"];t.remark=t.remark||"";var e="".concat(t.city).concat(t.area).concat(t.short),i="".concat(t.city).concat(t.area).concat(t.short).concat(t.remark);return _({shortAddress:e,fullAddress:i},t)},tempData:function(){return _({cityCode:this.location.tempCityCode,areaCode:this.location.tempAreaCode,latitude:this.location.tempLatitude,longitude:this.location.tempLongitude,isDefault:this.location.tempIsDefault,isCheckSave:this.location.tempSaveFavoriteCheckBox},this.tempAddressText)},dialogRange:{get:function(){return this.location.dialogRange},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$store.commit("location/SET_DIALOG_RANGE",t)}},dialogVisible:{get:function(){return this.location.dialogVisible},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$store.commit("location/SET_DIALOG_VISIBLE",t),null!==this.location.callback&&this.$store.commit("location/SET_CALLBACK")},immediate:!1},dialogLayout:{get:function(){var t=this.location.dialogLayout;return 0==t&&(this.dialogRange=0),this.location.dialogLayout},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t&&(this.dialogRange=0),this.$store.commit("location/SET_DIALOG_LAYOUT",t)}},dialogStatus:function(){return this.$store.getters["location/dialogStatus"]},showAddressLogs:function(){return this.location.tempAddressLogs.length>0},transitionHide:function(){return this.$q.screen.lt.md?"slide-right":"scale"},transitionShow:function(){return this.$q.screen.lt.md?"slide-left":"scale"},geoData:function(){var t=this.location.geoAddressList;if(!t||!t.length)return{index:-1};var e=t.length?0:-1,i=t[e]||{};return _({index:e},i)},historyLogData:function(){var t=this.location,e=t.tempCityCode,i=t.tempAreaCode,s=t.tempAddressShortText,o=t.tempAddressRemarkText,r=t.tempAddressLogs,n=r.findIndex((function(t){return t&&t.cityCode==e&&t.areaCode==i&&t.addressShort+t.remarkText==s+o})),a=r[n]||{};return _({index:n},a)},favoriteData:function(){var t=this.location.favoriteAddressList,e=this.location.tempFavoriteCurrentId,i=this.tempAddressText,s=i.shortAddress,o=i.remark,r=e?t.findIndex((function(t){return t&&t.id==e})):t.findIndex((function(t){return t&&t.address==s&&t.loc_name==o})),n=r;[1,2].includes(this.dialogLayout)&&(n=t.findIndex((function(t){return t&&t.address==s&&t.loc_name==o})),n>-1&&(r=n));var a=t[r]||{};return _({index:n,viewIndex:r},a)},cartData:function(){var t=this.tempAddressText,e=t.short,i=t.shortAddress,s=t.remark,o={address:i,address_short:e,address_remark:s||"",area_code:this.location.tempAreaCode,city_code:this.location.tempCityCode,latitude:this.location.tempLatitude,location:s||"",longitude:this.location.tempLongitude};return this.srcType&&(o.src_type=this.srcType),o},checkLocation:function(){return{mapUsabled:!!this.location.mapStatus,isEmpty:!this.tempAddressText.shortAddress,isSameShort:this.originData.shortAddress==this.tempData.shortAddress,isSameFull:this.originData.fullAddress==this.tempData.fullAddress,isSamePoint:this.originData.latitude==this.location.tempLatitude&&this.originData.longitude==this.location.tempLongitude,isFavorite:this.favoriteData.index>-1,isHistoryLog:this.historyLogData.index>-1,isGeoLog:this.geoData.index>-1,isNeedSave:this.tempData.isCheckSave||1==this.dialogRange,defaultChanged:this.originData.isDefault!=this.location.tempIsDefault}}},watch:{isSetting:function(t){var e=this;t||this.$nextTick((function(){return e.closeAll()}))},tempData:{handler:function(t,e){var i=e&&Object.values(e).every((function(t){return!t}));i&&(this.originData=p.a.cloneDeep(this.tempData))},immediate:!0,deep:!0},showAddressDialog:function(t){t?this.$store.commit("location/SET_DIALOG_VISIBLE",!1):this.alreadyConfirm?this.$store.commit("location/SET_DIALOG_VISIBLE",!1):this.$store.commit("location/SET_DIALOG_VISIBLE",!0)},dialogVisible:{handler:function(t){var e=this;t&&!this.isSetting&&(this.isSetting=!0,this.$store.dispatch("location/getMapStatus").then((function(){e.logDebug("getMapStatus",{mapStatus:e.$store.state.location.mapStatus})})),this.$store.commit("location/SET_TEMP_SAVE_FAVORITE_CHECK_BOX",!1),1==this.dialogLayout&&2!=this.dialogRange&&(this.$store.commit("location/SET_TEMP_FAVORITE_CURRENT_ID",""),this.$store.commit("location/RESET_TEMP_LOCATION")),0==this.dialogLayout&&this.$store.commit("location/SET_TEMP_LOCATION_FROM_CURRENT")),t&&this.$nextTick((function(){var t=document.querySelector(".q-dialog__backdrop");t&&t.addEventListener("click",(function(){e.closeDialog()}),{once:!0})}))},immediate:!0,deep:!0},$route:{handler:function(t,e){this.debug,t&&(t.query.map?this.showMap=!0:this.showMap=!1)},immediate:!0},"$store.state.location.tempSrcType":function(t){this.srcType=t}},created:function(){this.$route.query.map&&(this.$router.replace({query:{}}),this.showMap=!1,this.isSetting=!1),this.location.cityAreaList.length||this.$store.dispatch("location/getCityAreaList"),this.isLoging&&!this.location.favoriteAddressList.length&&this.$store.dispatch("location/getFavoriteAddressList")},destroyed:function(){this.closeAll()},methods:{logDebug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.debug;var i={time:this.moment().format("HH:mm:ss"),message:t,data:e?p.a.cloneDeep(e):null};this.debugLogs.push(i)},setMapSrcType:function(){this.logDebug("setMapSrcType"),0==this.dialogRange?this.srcType=this.checkLocation.isNeedSave?2:3:this.srcType=2},toggleMap:function(t){var e=this;this.logDebug("toggleMap",{toggleMap:t});var i=this.alreadyConfirm;this.showMap=t,t?this.$router.push({query:{map:this.tempAddressText.shortAddress}}):this.$router.go(-1),t||setTimeout((function(){e.dialogVisible=!i}),100)},confirm:function(){var t=c()(n.a.mark((function t(){var e,i,s,o,r,a,c,u,d,l,M,h,p,m,g,_,f,y,I,N,D=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.logDebug("confirm"),this.alreadyConfirm=!0,this.googleAddressList=[],e=0==this.dialogLayout&&this.location.tempLocationUserCode,!e){t.next=10;break}return this.logDebug("selectCurrentLocation"),t.next=8,this.setCurrentLocation();case 8:return this.isSetting=!1,t.abrupt("return");case 10:if(i=this.checkLocation,s=i.isEmpty,o=i.isSameShort,r=i.isSameFull,a=i.isSamePoint,c=i.defaultChanged,u=i.isNeedSave,d=i.isFavorite,l=i.isHistoryLog,M=i.mapUsabled,0==this.dialogLayout||this.tempData.cityCode||d||l){t.next=14;break}return this.$q.notify({message:"請選擇縣市",color:"negative",position:"bottom",timeout:2e3}),t.abrupt("return");case 14:if(0==this.dialogLayout||this.tempData.areaCode||d||l){t.next=17;break}return this.$q.notify({message:"請選擇區域",color:"negative",position:"bottom",timeout:2e3}),t.abrupt("return");case 17:if(h=0==this.dialogRange&&[1,4].includes(this.dialogLayout)&&!this.tempData.short&&!this.tempData.remark&&!u,!h){t.next=27;break}return this.logDebug("selectAreaScope"),p=this.location.cityAreaList.find((function(t){return t.city_code==D.tempData.cityCode})),m=p.area_list.find((function(t){return t.area_code==D.tempData.areaCode})),this.$store.commit("location/SET_TEMP_LATITUDE_LONGITUDE",{latitude:m.latitude,longitude:m.longitude}),t.next=25,this.setCurrentLocation();case 25:return this.isSetting=!1,t.abrupt("return");case 27:if(g=0==this.dialogRange&&0==this.dialogLayout&&l,!g){t.next=35;break}return this.logDebug("selectAreaHistory"),this.setTempFromHistoryLog(),t.next=33,this.setCurrentLocation();case 33:return this.isSetting=!1,t.abrupt("return");case 35:if((!s||d||l)&&(0==this.dialogLayout||this.tempData.short||this.tempData.remark||d||l)){t.next=39;break}return this.logDebug("isEmpty"),this.$q.notify({message:"請輸入地址",color:"negative",position:"bottom",timeout:2e3}),t.abrupt("return");case 39:if(!(o&&r&&a)||c||u||2!=this.dialogLayout){t.next=46;break}if(this.logDebug("isSameShort && isSameFull && isSamePoint && !defaultChanged && !isNeedSave"),0!=this.dialogRange){t.next=44;break}return t.next=44,this.setCurrentLocation();case 44:return this.isSetting=!1,t.abrupt("return");case 46:return _=this.tempData.remark,l&&this.setTempFromHistoryLog(),d&&this.setTempFromFavorite({from:"confirm",msg:"取得 google 地址記錄"}),_&&this.$store.commit("location/SET_TEMP_ADDRESS_REMARK_TEXT",_),f=this.tempData.shortAddress,t.next=53,this.$store.dispatch("location/getGeoAddressList",{address:f});case 53:if(y=this.checkLocation.isGeoLog,this.srcType=null,d&&(this.srcType=this.favoriteData.src_type),!(3==this.dialogLayout&&d&&this.srcType>2)){t.next=68;break}if(this.logDebug("this.dialogLayout == 3 && isFavorite && this.favoriteData.src_type > 2"),!y||1!=this.geoData.src_type){t.next=66;break}return this.srcType=this.geoData.src_type,t.next=62,this.$store.dispatch("location/updateFavoriteAddress");case 62:return this.confirm(),t.abrupt("return");case 66:return this.checkGoogleAddress(),t.abrupt("return");case 68:if([0,3].includes(this.dialogLayout)||!o||!a){t.next=75;break}return this.logDebug("![0,3].includes(this.dialogLayout) && isSameShort && isSamePoint"),d&&this.$store.commit("location/SET_LOCATION_DATA",{tempLatitude:null,tempLongitude:null,srcType:null}),t.next=73,this.updateByRange();case 73:return this.isSetting=!1,t.abrupt("return");case 75:if(I=0==this.dialogRange&&1==this.dialogLayout&&!u,!y){t.next=151;break}if(this.logDebug("isGeoLog"),N=this.favoriteData.is_expired||this.geoData.is_expired,!N){t.next=83;break}return this.logDebug("isTimeout"),this.checkGoogleAddress(),t.abrupt("return");case 83:if(this.srcType||(this.srcType=this.geoData.src_type),0===this.geoData.src_type&&(this.srcType=this.geoData.src_type),!I){t.next=94;break}if(this.logDebug("isNewHistoryLog"),!d){t.next=90;break}return this.updateByRange(),t.abrupt("return");case 90:return this.srcType=3,this.setTempFromGeoLog(),M?this.toggleMap(!0):this.updateByRange(),t.abrupt("return");case 94:t.t0=this.srcType,t.next=0===t.t0?97:1===t.t0?103:2===t.t0?109:3===t.t0?124:148;break;case 97:return this.logDebug("srcType == 0"),this.setTempFromGeoLog(),t.next=101,this.updateByRange();case 101:return this.isSetting=!1,t.abrupt("return");case 103:return this.logDebug("srcType == 1"),d?this.setTempFromFavorite({from:"confirm",msg:"等級 1"}):this.setTempFromGeoLog(),t.next=107,this.updateByRange();case 107:return this.isSetting=!1,t.abrupt("return");case 109:if(this.logDebug("srcType == 2"),!d){t.next=116;break}return t.next=113,this.updateByRange();case 113:this.isSetting=!1,t.next=123;break;case 116:if(this.setTempFromGeoLog(),!M){t.next=121;break}this.toggleMap(!0),t.next=123;break;case 121:return t.next=123,this.updateByRange();case 123:return t.abrupt("return");case 124:if(this.logDebug("srcType == 3"),!(d||l&&0==this.dialogRange)){t.next=137;break}if(!u){t.next=130;break}this.checkGoogleAddress(),t.next=136;break;case 130:if(!M){t.next=134;break}this.toggleMap(!0),t.next=136;break;case 134:return t.next=136,this.updateByRange();case 136:return t.abrupt("return");case 137:if(!u&&!this.dialogRange){t.next=140;break}return this.checkGoogleAddress(),t.abrupt("return");case 140:if(0!=this.dialogRange){t.next=147;break}if(!M){t.next=145;break}this.toggleMap(!0),t.next=147;break;case 145:return t.next=147,this.updateByRange();case 147:return t.abrupt("return");case 148:return t.abrupt("return");case 149:t.next=187;break;case 151:if(this.logDebug("!isGeoLog"),1!=this.srcType){t.next=156;break}return this.logDebug("srcType == 1"),this.checkGoogleAddress(),t.abrupt("return");case 156:if(!I){t.next=171;break}if(this.logDebug("isNewHistoryLog"),this.srcType=3,!l&&!d){t.next=164;break}return t.next=162,this.setCurrentLocation();case 162:t.next=170;break;case 164:if(!M){t.next=168;break}this.toggleMap(!0),t.next=170;break;case 168:return t.next=170,this.updateByRange();case 170:return t.abrupt("return");case 171:if(0===this.dialogRange&&!u&&!d){t.next=175;break}return this.logDebug("this.dialogRange !== 0 || isNeedSave || isFavorite"),this.checkGoogleAddress(),t.abrupt("return");case 175:if(this.srcType=3,!l){t.next=181;break}return t.next=179,this.setCurrentLocation();case 179:return this.isSetting=!1,t.abrupt("return");case 181:if(!M){t.next=185;break}this.toggleMap(!0),t.next=187;break;case 185:return t.next=187,this.updateByRange();case 187:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkGoogleAddress:function(){var t=c()(n.a.mark((function t(){var e,i,s,o,r,a,c,u,d,M,h,p,m;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.logDebug("checkGoogleAddress"),this.$store.commit("location/SET_TEMP_LATITUDE_LONGITUDE",{latitude:0,longitude:0}),e=this.tempData.shortAddress,t.next=5,Object(l["c"])({address:e});case 5:if(i=t.sent,s=i.results,this.$store.commit("location/SET_TEMP_ADDRESS_LIST",s),s&&s.length){t.next=13;break}return this.logDebug("!results || !results.length"),this.srcType=2,this.showAddressDialog=!0,t.abrupt("return");case 13:if(this.googleAddressList=s,o=s.filter((function(t){var e=["premise","street_address","point_of_interest","subpremise"];return e.some((function(e){return t.types.includes(e)}))&&!t.partial_match})),o.length){t.next=20;break}return this.logDebug("!addressList.length"),this.srcType=2,this.showAddressDialog=!0,t.abrupt("return");case 20:if(1!=o.length){t.next=44;break}if(this.logDebug("addressList.length == 1"),r=o[0],a=r.address_components,c=void 0===a?[]:a,u=c.find((function(t){return t.types.includes("administrative_area_level_1")}))||{},d=c.find((function(t){return t.types.includes("administrative_area_level_2")}))||{},M=this.tempData&&this.tempData.city==u.long_name,h=this.tempData&&this.tempData.area==d.long_name,p=this.tempData&&r.formatted_address.includes(this.tempData.shortAddress),m=!M||!h||!p,!(m&&this.location&&this.location.mapUsabled)){t.next=33;break}return this.showAddressDialog=!0,t.abrupt("return");case 33:return this.srcType=1,this.setGoogleLocation(o[0]),t.prev=35,t.next=38,this.updateByRange();case 38:t.next=43;break;case 40:t.prev=40,t.t0=t["catch"](35);case 43:return t.abrupt("return");case 44:if(!(o.length>1)){t.next=50;break}return this.logDebug("addressList.length > 1"),this.srcType=2,this.showAddressDialog=!0,this.dialogVisible=!1,t.abrupt("return");case 50:case"end":return t.stop()}}),t,this,[[35,40]])})));function e(){return t.apply(this,arguments)}return e}(),setTempFromFavorite:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"",msg:""},e=t.from,i=void 0===e?"":e,s=t.msg,o=void 0===s?"":s;this.logDebug("setTempFromFavorite",{from:i,msg:o});var r=p.a.cloneDeep(this.favoriteData);if(2!=this.dialogLayout){var n=r.city_code,a=r.area_code,c=r.address_short,u=r.loc_name,d=r.latitude,l=r.longitude,M=r.id,h={tempCityCode:n,tempAreaCode:a,tempAddressShortText:c,tempAddressRemarkText:u||"",tempLatitude:d,tempLongitude:l,tempFavoriteCurrentId:M};this.$store.commit("location/SET_TEMP_FROM_FAVORITE",h)}},setTempFromHistoryLog:function(){this.logDebug("setTempFromHistoryLog",{historyLogData:p.a.cloneDeep(this.historyLogData)});var t=this.historyLogData,e=t.cityCode,i=t.areaCode,s=t.addressShort,o=t.remarkText,r=t.latitude,n=t.longitude,a=t.id;this.$store.commit("location/SET_LOCATION_DATA",{tempCityCode:e,tempAreaCode:i,tempAddressShortText:s,tempAddressRemarkText:o||this.tempData.remark||"",tempLatitude:r,tempLongitude:n,tempAddressLogsCurrentId:a})},setTempFromGeoLog:function(){var t=this.geoData,e=t.latitude,i=t.longitude;this.$store.commit("location/SET_LOCATION_DATA",{tempLatitude:e,tempLongitude:i})},addAddressLayout:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("location/RESET_TEMP_LOCATION"),this.dialogLayout=1;case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setGoogleLocation:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.logDebug("setGoogleLocation",{locationData:t}),t&&t.address_components&&t.address_components.length){var i=t.geometry.location,s=i.lat,o=i.lng;if(this.$store.commit("location/SET_TEMP_LATITUDE_LONGITUDE",{latitude:s(),longitude:o()}),e){var r="",n="";t.address_components.forEach((function(t){t.types.includes("administrative_area_level_1")&&(r=t.long_name),t.types.includes("administrative_area_level_2")&&(n=t.long_name),t.types.includes("subpremise")&&t.long_name}));var a=this.location.cityAreaList.find((function(t){return t.name==r})),c=a?a.city_code:"",u=a?a.area_list.find((function(t){return t.name==n})):{},d=u?u.area_code:"";this.$store.commit("location/SET_TEMP_CITY_CODE",c),this.$store.commit("location/SET_TEMP_AREA_CODE",d)}}},setCartLocation:function(){var t=c()(n.a.mark((function t(){var e,i,s,o=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.tempData.remark,i=this.checkLocation.isFavorite?this.favoriteData:this.cartData,e&&(i.loc_name=e),i.latitude=this.location.tempLatitude,i.longitude=this.location.tempLongitude,this.logDebug("setCartLocation",{setCartLocation:i,isFavorite:this.checkLocation.isFavorite}),s=this.checkLocation.isFavorite&&(!this.favoriteData.latitude||!this.favoriteData.longitude),!this.checkLocation.isNeedSave&&!s){t.next=10;break}return t.next=10,this.setFavoriteLocation();case 10:this.$emit("updateDelivery",i),this.debugLogs.length&&(m["p"]((function(t){t.setLevel("info"),t.setTag("action","setCartLocation"),t.setExtra("debugLogs",o.debugLogs),t.setExtra("locationData",i),m["d"]("Location Debug: setCartLocation")})),this.debugLogs=[]);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setFavoriteLocation:function(){var t=c()(n.a.mark((function t(){var e,i=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.logDebug("setFavoriteLocation"),e=this.checkLocation.isFavorite,2==this.dialogLayout&&1==this.dialogRange&&(e=!0),this.$store.commit("location/SET_SRC_TYPE",this.srcType),t.prev=4,!e){t.next=10;break}return t.next=8,this.$store.dispatch("location/updateFavoriteAddress");case 8:t.next=12;break;case 10:return t.next=12,this.$store.dispatch("location/addFavoriteAddress");case 12:return this.$emit("favoriteComplete"),this.debugLogs.length&&(m["p"]((function(t){t.setLevel("info"),t.setTag("action","setFavoriteLocation"),t.setExtra("debugLogs",i.debugLogs),t.setExtra("locationData",i.tempData),m["d"]("Location Debug: setFavoriteLocation")})),this.debugLogs=[]),t.abrupt("return");case 17:throw t.prev=17,t.t0=t["catch"](4),this.$emit("favoriteError"),t.t0;case 22:case"end":return t.stop()}}),t,this,[[4,17]])})));function e(){return t.apply(this,arguments)}return e}(),setCurrentLocation:function(){var t=c()(n.a.mark((function t(){var e,i,s,o,r,a,c,u,d,l,M,h=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.logDebug("setCurrentLocation"),e=this.tempData,i=e.shortAddress,s=e.remark,o=this.checkLocation.isFavorite&&(!this.favoriteData.latitude||!this.favoriteData.longitude),!this.checkLocation.isNeedSave&&!o){t.next=23;break}return t.prev=4,t.next=8,this.setFavoriteLocation();case 8:return t.next=12,this.$store.dispatch("location/getFavoriteAddressList");case 12:r=t.sent,a=r.find((function(t){return t.address==i&&t.loc_name==s})),a||(a=r[0]),this.$store.commit("location/SET_TEMP_FAVORITE_CURRENT_ID",a.id),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](4),this.$store.commit("location/SET_TEMP_FAVORITE_CURRENT_ID",null),t.t0&&t.t0.data&&this.$q.notify({message:t.t0.data.message,color:"negative",position:"bottom",timeout:2e3});case 23:c=this.dialogLayout,u=this.checkLocation,d=u.isFavorite,l=u.isHistoryLog,M=[1,4].includes(c),this.$store.commit("location/SET_SRC_TYPE",this.srcType),t.t1=!0,t.next=t.t1===d?30:t.t1===l?32:t.t1===M?34:36;break;case 30:return this.$store.commit("location/INIT_LOCATION_USER_CODE",{code:0,tempCurrentType:1}),t.abrupt("break",39);case 32:return this.$store.commit("location/INIT_LOCATION_USER_CODE",{code:0,tempCurrentType:3}),t.abrupt("break",39);case 34:return this.$store.commit("location/INIT_LOCATION_USER_CODE",{code:0,tempCurrentType:2}),t.abrupt("break",39);case 36:return this.$store.commit("location/SET_CURRENT_TYPE",0),this.$store.commit("location/INIT_LOCATION_USER_CODE",{code:1}),t.abrupt("break",39);case 39:return t.next=41,this.$store.dispatch("location/setCurrentLocation").then((function(){"function"===typeof h.location.callback&&(h.location.callback(),h.$store.commit("location/SET_CALLBACK"))})).catch((function(t){}));case 41:this.isSetting=!1,this.debugLogs.length&&(m["p"]((function(t){t.setLevel("info"),t.setTag("action","setCurrentLocation"),t.setExtra("debugLogs",h.debugLogs),t.setExtra("locationData",h.tempData),m["d"]("Location Debug: setCurrentLocation")})),this.debugLogs=[]);case 43:case"end":return t.stop()}}),t,this,[[4,19]])})));function e(){return t.apply(this,arguments)}return e}(),updateByRange:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.logDebug("updateByRange"),this.alreadyConfirm){t.next=3;break}return t.abrupt("return");case 3:this.$store.commit("location/SET_SRC_TYPE",this.srcType),t.t0=this.dialogRange,t.next=0===t.t0?7:1===t.t0?10:2===t.t0?13:16;break;case 7:return t.next=9,this.setCurrentLocation();case 9:return t.abrupt("break",16);case 10:return t.next=12,this.setFavoriteLocation();case 12:return t.abrupt("break",16);case 13:return t.next=15,this.setCartLocation();case 15:return t.abrupt("break",16);case 16:this.isSetting=!1;case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),closeAll:function(){this.logDebug("closeAll"),this.alreadyConfirm=!1,this.dialogVisible=!1,this.originData={},this.$store.commit("location/RESET_TEMP_LOCATION"),this.$store.commit("location/SET_TEMP_SAVE_FAVORITE_CHECK_BOX",!1)},closeDialog:function(){switch(this.dialogRange){case 0:1!=this.dialogLayout||[11,14].includes(this.dialogStatus)?this.isSetting=!1:this.dialogLayout=0;break;case 1:this.isSetting=!1;break;case 2:3==this.dialogLayout?this.dialogLayout=[1,null,void 0].includes(this.cartData.src_type)?1:2:this.isSetting=!1;break}}}},y=f,I=(i("d6f9"),i("2877")),N=Object(I["a"])(y,s,o,!1,null,null,null);e["default"]=N.exports},"8ae2":function(t,e,i){"use strict";var s=i("8e48"),o=i.n(s);o.a},"8bba":function(t,e,i){},"8c1d":function(t,e,i){"use strict";var s=i("9405"),o=i.n(s);o.a},"8ca3":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{class:["shoping-list-card flex justify-between",t.$q.screen.lt.sm?"":"shoping-list-card-radius"]},[s("div",{staticClass:"col full-width"},[s("div",{staticClass:"row justify-between align-center title-spacing"},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold"},[t._v("\n          "+t._s(t.$t("order.payment_method"))+"\n        ")]),t.tLength?s("div",{staticClass:"b-color cursor-pointer",on:{click:function(e){t.show.trade_limit=!t.show.trade_limit}}},[s("span",[t._v("\n            查看限制\n            "),s("q-icon",{class:["q-mr-none q-ml-xs",{"rotate-180":t.show.trade_limit}],staticStyle:{transition:"all 200ms ease-out",top:"-2px"},attrs:{name:"fas fa-chevron-down"}})],1)]):t._e()]),t.show.trade_limit?s("trade-limit",{staticClass:"title-spacing",attrs:{storeInfo:t.storeInfo,deliveryType:t.orderInfo.delivery_type,tLength:t.tLength,showCupDiscountTradelimit:t.validCupDiscount},on:{"update:tLength":function(e){t.tLength=e},"update:t-length":function(e){t.tLength=e}}}):t._e(),t._l(t.storeTradeInfo,(function(e){return s("div",{key:"t-chose-"+e.type,staticClass:"q-mb-md"},[t.checkTrade(e.type)?t._e():s("div",{staticClass:"flex no-wrap",class:{disabled:t.disableCupDiscountDelivery(e.type)}},[s("q-radio",{staticClass:"q-mr-sm",class:{"self-start q-mt-xs":716===e.type},attrs:{dense:"",val:e.type,disabled:t.disableCupDiscountDelivery(e.type)},model:{value:t.trade.trade_type,callback:function(e){t.$set(t.trade,"trade_type",e)},expression:"trade.trade_type"}}),[1,706].includes(e.type)?s("div",[t._v("\n            "+t._s(t.tradeTypeName(e.type,t.storeInfo.id))+"\n          ")]):t.sortLikeThis.includes(e.type)?s("div",{staticClass:"flex column items-start"},[s("img",{staticClass:"h-28",attrs:{src:t.tradeTypeImg(e.type)}}),716===e.type&&t.moment().isBefore("2023-10-05")?s("div",{staticClass:"q-mt-xs"},[t._v("\n              9/1~10/5 新註冊全盈+PAY並消費任一金額，回饋50元\n            ")]):t._e()]):s("div",[t._v("\n            "+t._s(t.$t("order.payment_method_empty"))+"\n          ")])],1),!t.checkTrade(e.type)&&t.wayMemo(e.type)&&t.trade.trade_type===e.type?s("nd-message-block",{staticClass:"q-mt-sm",attrs:{content:[t.wayMemo(e.type)],icon:"fas fa-exclamation-circle"}}):t._e(),706===t.trade.trade_type&&706===e.type&&"guest"!==t.isOnSiteIdentity?s("input-label",{staticClass:"mb-n2 q-mt-sm",attrs:{opt:t.dialog_opt},on:{updateClick:t.openModal},model:{value:t.creditCardName,callback:function(e){t.creditCardName=e},expression:"creditCardName"}}):t._e(),909===t.trade.trade_type&&909===e.type&&t.orderAttach.pay_phone?s("input-label",{staticClass:"mb-n2 q-mt-sm",attrs:{opt:t.fet_opt,value:"已綁定門號："+t.orderAttach.pay_phone},on:{updateClick:function(e){return t.unbind(t.orderAttach.fetdpay_id)}}}):t._e()],1)}))],2)]),s("div",{class:["shoping-list-card flex justify-between q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"full-width title-spacing"},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold title-spacing"},[t._v("\n        "+t._s(t.$t("order.invoice"))+"\n      ")]),t.invoiceTips&&t.invoiceTips.length?s("div",{staticClass:"title-spacing"},[s("nd-message-block",{attrs:{content:t.invoiceTips,icon:"fas fa-exclamation-circle"}})],1):t._e(),t.invoiceRemarkHandler.length?s("div",{staticClass:"title-spacing"},[s("nd-message-block",{attrs:{content:t.invoiceRemarkHandler,blockColor:"background-color: #F9A82814",iconColor:"warning",icon:"fas fa-exclamation-circle"}})],1):t._e(),t._l(t.invoiceTypes,(function(e){return s("div",{key:"t-chose-"+e.type,staticClass:"q-mb-sm"},[s("div",{staticClass:"flex items-center"},[s("q-radio",{attrs:{val:e.type,dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("div",[t._v("\n                "+t._s(t.invoiceType(e.type))+"\n              ")])]},proxy:!0}],null,!0),model:{value:t.trade.invoice_type,callback:function(e){t.$set(t.trade,"invoice_type",e)},expression:"trade.invoice_type"}}),20===t.trade.invoice_type&&20===e.type?s("q-checkbox",{staticClass:"q-ml-auto",attrs:{label:t.$t("order.save_defalut")},model:{value:t.setDefaultHandler,callback:function(e){t.setDefaultHandler=e},expression:"setDefaultHandler"}}):t._e()],1),20===t.trade.invoice_type&&20===e.type?s("input-label",{attrs:{opt:t.invoice_carrier_id_opt},on:{updateErrorMessage:t.saveCarrierIdError},model:{value:t.invoiceCarrierIdHandler,callback:function(e){t.invoiceCarrierIdHandler=e},expression:"invoiceCarrierIdHandler"}}):t._e(),30===t.trade.invoice_type&&30===e.type?s("input-label",{attrs:{opt:t.invoice_carrier_opt},on:{updateClick:t.showModel},model:{value:t.invoice_carrier_opt.label,callback:function(e){t.$set(t.invoice_carrier_opt,"label",e)},expression:"invoice_carrier_opt.label"}}):t._e(),3===t.storeInfo.store_mode&&10===t.trade.invoice_type&&10===e.type?s("input-label",{attrs:{opt:t.email_carrier_id_opt},on:{updateErrorMessage:t.saveEmailError},model:{value:t.trade.email,callback:function(e){t.$set(t.trade,"email",e)},expression:"trade.email"}}):t._e()],1)}))],2),30!==t.trade.invoice_type?s("div",{staticClass:"full-width"},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold title-spacing"},[t._v("\n        "+t._s(t.$t("order.vat_number"))+"\n      ")]),20===this.trade.invoice_type?s("div",{staticClass:"font-size-caption text-gray-2 q-mb-sm"},[t._v("\n        統編發票將存入您指定的載具內，詳細說明請參考「常見問題 > 訂購資訊 > 發票開立」\n      ")]):t._e(),t.taxFreeProductList&&Array.isArray(t.taxFreeProductList)&&t.taxFreeProductList.length?s("nd-message-block",{staticClass:"q-mb-sm",attrs:{"block-style":"nd-bg-yellow-1",content:["因應財政部規定，發票如需開立統一編號，應稅及免稅商品須分開結帳。"],icon:"fas fa-info-circle","icon-color":"warning"},scopedSlots:t._u([{key:"content-end",fn:function(){return[s("q-btn",{attrs:{color:"primary",outline:""},on:{click:t.openTaxFreeProductDialog}},[t._v("\n            查看商品\n          ")])]},proxy:!0}],null,!1,4025184460)}):t._e(),s("input-label",{ref:"tradeEin",attrs:{opt:t.einOpt},on:{updateErrorMessage:t.saveEinError},model:{value:t.trade.ein,callback:function(e){t.$set(t.trade,"ein",e)},expression:"trade.ein"}})],1):t._e()]),s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.show.modal_order_info_detail,callback:function(e){t.$set(t.show,"modal_order_info_detail",e)},expression:"show.modal_order_info_detail"}},[s("q-card",{staticClass:"q-card bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_order_info_detail=!1}}}),s("q-card-section",{staticClass:"col scroll q-pa-none",style:t.$q.screen.lt.sm?"min-height: calc("+t.dialogH+"px - 122px); max-height: calc("+t.dialogH+"px - 122px);":"max-height: calc("+t.dialogH+"px - 268px)"},[s("div",{staticClass:"q-mb-md"},[s("div",{staticClass:"font-size-subtitle-1 title-spacing"},[t._v("\n            捐贈團體\n          ")]),t.npobanList.length?s("b-radio-list",{attrs:{list:t.npobanList,opt:t.invoice_carrier_opt,noIcon:!0,value:t.npobanValue,initValue:!0},on:{updateChange:t.updateNpobanValue}}):s("div",[t._v("\n            無可以捐贈的團體\n          ")])],1)]),s("q-card-actions",{staticClass:"row q-pt-md q-px-none border-top"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",on:{click:t.npobanRadioChange}},[s("span",[t._v(t._s(t.$t("common.save")))])])],1)])],1)],1),s("q-dialog",{staticClass:"flex flex-center column",attrs:{persistent:"",maximized:t.$q.screen.lt.sm},model:{value:t.show.modal_trade_info_detail,callback:function(e){t.$set(t.show,"modal_trade_info_detail",e)},expression:"show.modal_trade_info_detail"}},[s("q-card",{class:["q-card bg-white nidin-modal",{"overflow-hidden":t.$q.screen.lt.sm}]},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_trade_info_detail=!1}}}),s("q-card-section",{staticClass:"col scroll q-pa-none",style:["padding-bottom: 50px",t.$q.screen.lt.sm?"height: calc("+t.dialogH+"px - 122px)":"min-height: calc("+t.dialogH+"px - 350px); max-height: calc("+t.dialogH+"px - 268px)"]},[s("div",{staticClass:"q-mb-md"},[s("div",{staticClass:"q-mb-lg"},[s("p",{staticClass:"title-spacing"},[s("span",{staticClass:"text-bold text-secondary q-mr-xs"},[t._v("＊")]),t._v("\n              信用卡與金融卡\n            ")]),s("div",{staticClass:"overflow-hidden"},[s("div",[t.creditList_cathay.length>1?s("span",{staticClass:"text-pink",staticStyle:{"line-height":"initial"}},[t._v("\n                  為提升支付體驗，你訂系統已進行升級作業。以前儲存的信\n                  用卡，已經無法使用。"),s("br"),t._v('\n                  請於此處點選"使用其他信用卡"。'),s("br"),t._v("\n                  造成不便，還請大家多包涵！\n                ")]):t._e()]),s("credit-cards",{attrs:{creditList:t.creditList_tappay,orderAttach:t.orderAttach}})],1)])])]),s("q-card-actions",{staticClass:"row q-pt-md q-px-none border-top"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",on:{click:function(e){return t.saveOrderInfo(!1)}}},[s("span",[t._v(t._s(t.$t("common.save")))])])],1)])],1)],1)],1)},o=[],r=i("4db1"),n=i.n(r),a=(i("6762"),i("2fdb"),i("7514"),i("ac6a"),i("cadf"),i("06db"),i("8615"),i("7f7f"),i("967e")),c=i.n(a),u=(i("96cf"),i("fa84")),d=i.n(u),l=i("c469"),M=i("b41b"),h=i("7b29"),p=i("45889"),m=i("67e2"),g=i("791e"),_=i("9f59"),f=i("64e2"),y=i.n(f),I=i("648f"),N=i.n(I),D=i("f4fc8"),j=i.n(D),v=i("455a"),L=i.n(v),x=i("899b"),T=i.n(x),w=i("2b4e"),A=i.n(w),z=i("68bd"),C=i.n(z),b=i("221c"),O=i.n(b),E=i("aca1"),S=i.n(E),k={name:"NdTradeInfoDetail",props:{creditList:Array,npobanList:Array,orderAttach:Object,orderInfo:Object,orderOthers:Object,storeInfo:Object,updateOrder:Function,invoiceCarrierIdSetDefault:{type:Object,default:function(){return{favoriteCarrier:[],invoiceCarrierId:"",setDefault:!1}}}},components:{"b-radio-list":l["a"],"credit-cards":M["a"],"input-label":h["default"],"nd-message-block":p["a"],"trade-limit":m["a"]},mixins:[g["a"],_["a"]],data:function(){return{imageUrl:{ecPay:y.a,icashPay:N.a,linePay:j.a,jkosPay:L.a,piPay:T.a,plusPay:A.a,twPay:C.a,fetPay:O.a,ezWPay:S.a},dialog_opt:{notInput:!0,icon:"arrow"},fet_opt:{notInput:!0,icon:"trash-can"},show:{modal_order_info_detail:!1,modal_trade_info_detail:!1,trade_limit:!0},trade:{ein:"",email:"",invoice_carrier_id:"",invoice_npoban:{},invoice_type:10,trade_type:1},tLength:0,invoice_carrier_id_opt:{errorText:"",required:!0,placeholder:"首位為 / ，英文字母為大寫",rules:"carrier_id",maxlength:8},email_carrier_id_opt:{required:!0,placeholder:"",rules:"email",maxlength:80},npobanValue:"",invoice_carrier_opt:{notInput:!0,icon:"arrow",name:"",label:"",max:99},favoriteCarrier:{},getFavoriteCarrierReady:!1,sortLikeThis:[1,706,707,716,720,909,717,908,718,713,719]}},methods:{unbind:function(){var t=d()(c.a.mark((function t(e){var i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.openUnbindDialog(e);case 2:if(i=t.sent,"unbind"==i){t.next=5;break}return t.abrupt("return");case 5:this.getFetSubscription(this.orderInfo,this.orderAttach);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),updateNpobanValue:function(t){this.npobanValue=t},npobanRadioChange:function(){var t=this;this.invoice_carrier_opt.name=this.npobanValue,this.npobanList.forEach((function(e){e.value===t.npobanValue&&(t.invoice_carrier_opt.label=e.label,t.trade.invoice_npoban=e)})),this.saveOrderInfo(!0)},showModel:function(){this.show.modal_order_info_detail=!0},openModal:function(){this.show.modal_trade_info_detail=!0},openTaxFreeProductDialog:function(){var t=Object.values(this.taxFreeProductList.reduce((function(t,e){var i=e.main_product_name?"".concat(e.main_product_name," - ").concat(e.product_name):e.product_name||"";return t[i]||(t[i]={product_name:i}),t}),{})),e='\n        <div class="q-mb-md text-left">因應財政部規定，發票如需開立統一編號，應稅及免稅商品須分開結帳，以下商品屬免稅商品建議獨立一筆訂單結帳：</div>\n        '.concat(t.map((function(t){return'<div class="text-left">•'.concat(t.product_name,"</div>")})).join(""),"\n      ");this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:e,ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"},html:!0})},checkTrade:function(t){var e=this.orderAttach.total_money;for(var i in this.storeInfo.delivery_exception_trade){var s=this.storeInfo.delivery_exception_trade[i];if(parseInt(i,10)===this.orderInfo.delivery_type||!parseInt(i,10))for(var o=0;o<s.length;o++){var r=s[o];if(r.trade_type===t){if(null===r.start_money&&null===r.end_money)return!0;if(null!==r.start_money&&e>r.start_money){if(null===r.end_money)return!0;if(null!==r.end_money&&e<r.end_money)return!0}else if(null!==r.end_money&&e<r.end_money){if(null===r.start_money)return!0;if(null!==r.start_money&&e>r.start_money)return!0}}}}return!1},wayMemo:function(t){var e=this.storeInfo.trade_types,i=e.find((function(e){return e.type===t}));return i.remark},calculate:function(t){var e=t%10,i=(t-e)/10;return e+i},checkEin:function(t){var e=[],i=[1,2,1,2,1,2,4,1];if(t){if(8===t.length){for(var s=0;s<t.length;s++)e.push(parseInt(t[s],10));for(var o=0,r=0;r<i.length;r++)o+=this.calculate(e[r]*i[r]);return o%10===0||o%5===0||7===e[6]&&((o+1)%10===0||(o+1)%5===0)}return!1}return!1},saveOrderInfo:function(t){if(this.show.modal_order_info_detail&&(this.show.modal_order_info_detail=!1),this.show.modal_trade_info_detail&&(this.show.modal_trade_info_detail=!1),t){for(var e in this.trade)"invoice_npoban"===e?this.trade[e].value&&this.$set(this.orderInfo,e,this.trade[e].value):"invoice_carrier_id"!==e||this.trade[e]?this.$set(this.orderInfo,e,this.trade[e]):this.$set(this.trade,e,"");this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_trade_info",this.trade);var i={trade_type:this.trade.trade_type};this.updateOrder(i,null,{component:this.$options.name,function:"saveOrderInfo",time:this.moment().format("HH:mm:ss"),payload:{}}),909===this.trade.trade_type&&this.getFetSubscription(this.orderInfo,this.orderAttach)}},setDefault:function(){var t=this,e=this.trade,i=this.orderInfo,s=null;this.setInvoiceDefault();var o=this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_trade_info");if(i?(i.ein&&(e.ein=i.ein),i.email&&(e.email=i.email),i.trade_type&&(e.trade_type=i.trade_type),i.invoice_carrier_id&&(e.invoice_carrier_id=i.invoice_carrier_id),i.invoice_npoban&&(s=this.npobanList.find((function(t){return t.value===i.invoice_npoban}))),i.invoice_type&&this.hasInvoiceValues.includes(i.invoice_type)&&(e.invoice_type=i.invoice_type)):o&&(o.ein&&(this.trade.ein=o.ein),o.email&&(this.trade.email=o.email),o.trade_type&&(this.trade.trade_type=o.trade_type),o.invoice_carrier_id&&(this.trade.invoice_carrier_id=o.invoice_carrier_id),o.invoice_npoban&&(s=this.npobanList.find((function(t){return t.value===o.invoice_npoban.value}))),o.invoice_type&&this.hasInvoiceValues.includes(o.invoice_type)&&(this.trade.invoice_type=o.invoice_type)),s?(this.npobanValue=s.value,this.invoice_carrier_opt.name=s.value,this.invoice_carrier_opt.label=s.label,this.$set(e,"invoice_npoban",s)):this.npobanList.length&&(this.npobanValue=this.npobanList[0].value,this.invoice_carrier_opt.name=this.npobanList[0].value,this.invoice_carrier_opt.label=this.npobanList[0].label,this.$set(e,"invoice_npoban",this.npobanList[0])),i.trade_type&&this.checkTrade(i.trade_type)||!i.trade_type){var r=!1;this.storeTradeInfo.forEach((function(i){t.checkTrade(i.type)||r||(t.$set(e,"trade_type",i.type),r=!0)}))}this.saveOrderInfo(!0)},setInvoiceDefault:function(){var t=this.$store.state.user.favorite_carrier_is_default;this.invoiceInfo.has_invoice_carrier&&t?(this.trade.invoice_type=20,this.trade.invoice_carrier_id=this.$store.state.user.favorite_carrier[0]?this.$store.state.user.favorite_carrier[0].carrier_id:""):this.invoiceInfo.has_invoice_paper?this.trade.invoice_type=10:this.invoiceInfo.has_invoice_carrier?this.trade.invoice_type=20:this.invoiceInfo.has_invoice_npoban&&(this.trade.invoice_type=30)},saveCarrierIdError:function(t){this.$store.commit("cart/setErrorMessage",{carrier_id:t})},saveEmailError:function(t){this.$store.commit("cart/setErrorMessage",{email:t})},saveEinError:function(t){this.$store.commit("cart/setErrorMessage",{ein:t})},checkError:function(){var t=this;20===this.trade.invoice_type?this.saveCarrierIdError(this.carrierIdRule):10===this.trade.invoice_type&&3===this.storeInfo.store_mode&&this.saveEmailError(this.emailRule),10!==this.trade.invoice_type&&20!==this.trade.invoice_type||this.$nextTick((function(){t.$refs.tradeEin.checkRule(),t.saveEinError(t.$refs.tradeEin.errorMessage)}))},invoiceType:function(t){switch(t){case 30:return this.$t("order.invoice_donation");case 20:return this.$t("order.invoice_phone");case 10:if(3===this.storeInfo.store_mode)return this.$t("order.invoice_email");default:return this.$t("order.invoice_paper")}},getFavorite:function(){var t=this,e="user/".concat(this.getUId,"/favorite/carrier");this.getData(e,null).then((function(e){200===e.status&&(e.data.list&&e.data.list.length&&(t.trade.invoice_carrier_id||(t.trade.invoice_carrier_id=e.data.list[0]["carrier_id"]),t.favoriteCarrier=e.data,t.$store.commit("user/setFavoriteCarrier",e.data.list)),t.getFavoriteCarrierReady=!0)}))},addFavorite:function(){var t=d()(c.a.mark((function t(){var e;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/user/".concat(this.getUId,"/favorite/carrier"),t.next=3,this.postDataH(e,{carrier_id:this.trade.invoice_carrier_id}).catch((function(t){}));case 3:this.getFavorite();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateFavorite:function(){var t=d()(c.a.mark((function t(){var e;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/user/".concat(this.getUId,"/favorite/carrier/").concat(this.favoriteCarrier.list[0]["id"]),t.next=3,this.putDataH(e,{carrier_id:this.trade.invoice_carrier_id}).catch((function(t){}));case 3:this.getFavorite();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleFavorite:function(){this.getFavoriteCarrierReady&&(this.favoriteCarrier.list&&this.favoriteCarrier.list.length?this.updateFavorite():this.addFavorite())},tradeTypeImg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e="";switch(t){case 707:e=this.imageUrl.linePay;break;case 713:e=this.imageUrl.twPay;break;case 716:e=this.imageUrl.plusPay;break;case 718:e=this.imageUrl.piPay;break;case 719:e=this.imageUrl.ecPay;break;case 720:e=this.imageUrl.icashPay;break;case 908:e=this.imageUrl.jkosPay;break;case 909:e=this.imageUrl.fetPay;break;case 717:e=this.imageUrl.ezWPay;break;case 702:case 708:case 710:case 711:case 712:case 714:case 715:default:break}return e},tradeTypeImgInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e={width:"64px",height:"32px"};switch(t){case 720:e.width="96px";break;case 707:case 713:case 716:case 718:case 908:case 702:case 708:case 710:case 711:case 712:case 714:case 715:case 717:case 719:case 909:default:break}return e},disableCupDiscountDelivery:function(t){return this.validCupDiscount&&1!==t}},computed:{invoiceTips:function(){var t=[];return 1===this.storeInfo.is_invoice_exception&&t.push("此門市免開發票，僅提供收據留存"),t},invoiceRemarkHandler:function(){var t=this.storeInfo.invoice_remark;return t?[t]:[]},creditList_tappay:function(){var t=this,e=[];return this.creditList.forEach((function(i,s){706===i.data.trade_type?e.push(i):t.creditList.length===s+1&&e.push(i)})),e},creditList_cathay:function(){var t=this,e=[];return this.creditList.forEach((function(i,s){710===i.data.trade_type?e.push(i):t.creditList.length===s+1&&e.push(i)})),e},creditCardName:function(){var t=this.orderAttach.card_id;if(t){var e=this.creditList.find((function(e){return e.value===t}));return"".concat(e.data.card_name,"-").concat(e.data.issuer,"*").concat(e.label)}return"使用新的信用卡"},carrierIdRule:function(){var t=/^[0-9\/\.\+\-A-Z\s]*$/,e=this.trade.invoice_carrier_id;return e?"/"!==e[0]?"載具號碼格式錯誤":t.test(e)?8!==e.length?"載具號碼長度錯誤":"":"請輸入正確的載具號碼 (英文字母為大寫)":"載具號碼為空"},errorMessageCarrierId:function(){return this.$store.state.cart.error_message.carrier_id},emailRule:function(){var t=/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,e=this.trade.email;return e?t.test(e)?"":"請輸入正確的 Email":"Email 為空"},noCreditCards:function(){return"undefined"!==typeof this.creditList?1===this.creditList.length:0},isMilkshop:function(){var t=this.storeInfo.brand_code;return!!t&&t.indexOf("milkshop")>-1},npobanName:function(){var t=this,e=this.npobanList.find((function(e){return e.value===t.orderInfo.invoice_npoban})).label;return e||""},storeTradeInfo:function(){var t=this,e=[],i=[2,21].includes(this.orderInfo.delivery_type)?"offline":"online";this.storeInfo.trade_types.forEach((function(s){if(710!==s.type){if(!t.storeInfo.trade_categories[i].includes(s.type))return;e.push(s)}}));var s=[],o=[],r=[],a=e.filter((function(e){return-1!==t.sortLikeThis.indexOf(e.type)}));return o=e.filter((function(e){return-1===t.sortLikeThis.indexOf(e.type)})),this.sortLikeThis.forEach((function(t){a.forEach((function(e){t===e.type&&s.push(e)}))})),r=[].concat(s,n()(o)),r},invoiceTypes:function(){if(1===this.storeInfo.is_invoice_exception)return[];if(3===this.storeInfo.store_mode)return[{name:"手機載具",type:20},{name:"Email 寄送電子發票",type:10}];var t=[];return 1===this.storeInfo.has_invoice_paper&&t.push({name:"紙本",type:10}),1===this.storeInfo.has_invoice_carrier&&t.push({name:"手機載具",type:20}),1===this.storeInfo.has_invoice_npoban&&t.push({name:"愛心捐贈",type:30}),t},invoiceInfo:function(){return{is_invoice_exception:this.storeInfo.is_invoice_exception,has_invoice_paper:this.storeInfo.has_invoice_paper,has_invoice_carrier:this.storeInfo.has_invoice_carrier,has_invoice_npoban:this.storeInfo.has_invoice_npoban}},hasInvoiceValues:function(){return this.invoiceTypes.map((function(t){return t.type}))},validCupDiscount:function(){var t,e,i=null===(t=this.orderOthers)||void 0===t?void 0:null===(e=t.order_info)||void 0===e?void 0:e.product_simple;return!!(i&&i.length>0)&&i.find((function(t){return t.cup_amount>0&&0===t.cup_is_invalid}))},einOpt:function(){var t=!(this.taxFreeProductList&&Array.isArray(this.taxFreeProductList)&&!this.taxFreeProductList.length);return{desTextAlign:"left",disable:t,placeholder:this.$t("order.vat_number_enter"),rules:"ein",maxlength:8,showDes:!0}},taxFreeProductList:function(){return this.orderOthers.tax_free_product_list||[]},invoiceCarrierIdHandler:{get:function(){return this.trade.invoice_carrier_id},set:function(t){this.trade.invoice_carrier_id=t,this.$emit("update:invoice-carrier-id-set-default",{favoriteCarrier:this.favoriteCarrier.list,invoiceCarrierId:t,setDefault:this.invoiceCarrierIdSetDefault.setDefault})}},setDefaultHandler:{get:function(){return this.invoiceCarrierIdSetDefault.setDefault},set:function(t){this.$emit("update:invoice-carrier-id-set-default",{favoriteCarrier:this.favoriteCarrier.list,invoiceCarrierId:this.trade.invoice_carrier_id,setDefault:t})}}},mounted:function(){var t=this;this.setDefault(),this.checkError(),this.creditList.length>1&&this.$set(this.orderAttach,"card_id",this.creditList[0].value),this.getFavorite();var e=this.storeTradeInfo.some((function(e){return e.type==t.orderInfo.trade_type}));e||(this.trade.trade_type=this.storeTradeInfo.length?this.storeTradeInfo[0].type:null)},watch:{errorMessageCarrierId:function(t){this.invoice_carrier_id_opt.errorText=t?"載具號碼格式錯誤":""},"trade.ein":function(){for(var t in this.trade)"invoice_npoban"===t?this.trade[t].value&&this.$set(this.orderInfo,t,this.trade[t].value):"invoice_carrier_id"!==t||this.trade[t]?this.$set(this.orderInfo,t,this.trade[t]):this.$set(this.trade,t,"");this.trade.ein?this.checkEin(this.trade.ein)&&this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_trade_info",this.trade):this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_trade_info",this.trade)},"trade.email":function(){if(10===this.trade.invoice_type)for(var t in this.trade)"invoice_npoban"===t?this.trade[t].value&&this.$set(this.orderInfo,t,this.trade[t].value):"invoice_carrier_id"!==t||this.trade[t]?this.$set(this.orderInfo,t,this.trade[t]):this.$set(this.trade,t,"");this.emailRule||this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_trade_info",this.trade)},"trade.invoice_carrier_id":function(){if(20===this.trade.invoice_type)for(var t in this.trade)"invoice_npoban"===t?this.trade[t].value&&this.$set(this.orderInfo,t,this.trade[t].value):"invoice_carrier_id"!==t||this.trade[t]?this.$set(this.orderInfo,t,this.trade[t]):this.$set(this.trade,t,"");this.carrierIdRule||this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_trade_info",this.trade)},"trade.invoice_type":function(){for(var t in 30===this.trade.invoice_type&&(this.trade.ein=""),this.trade)"invoice_npoban"===t?this.trade[t].value&&this.$set(this.orderInfo,t,this.trade[t].value):"invoice_carrier_id"!==t||this.trade[t]?this.$set(this.orderInfo,t,this.trade[t]):this.$set(this.trade,t,"");this.$store.commit("cart/clearErrorMessage"),this.checkError(),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_trade_info",this.trade)},"trade.trade_type":function(t){this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_trade_info",this.trade),this.$set(this.orderInfo,"trade_type",t);var e={trade_type:this.trade.trade_type};this.updateOrder(e,null,{component:this.$options.name,function:"trade.trade_type",time:this.moment().format("HH:mm:ss"),payload:{}}),909===this.trade.trade_type&&this.getFetSubscription(this.orderInfo,this.orderAttach)},"orderInfo.delivery_type":function(){this.setDefault()},validCupDiscount:function(t){t&&(this.disableCupDiscountDelivery(1)||this.checkTrade(1)?(this.trade.trade_type=null,this.$emit("update:allRadioDisabled",!0)):this.trade.trade_type=1)}}},Y=k,Q=(i("0e4e"),i("2877")),U=Object(Q["a"])(Y,s,o,!1,null,"57241ba2",null);e["a"]=U.exports},"8dfc":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0zMy4wNDMxIDI5LjYzOTRIMi43MTA1N0MyLjIwODk5IDI5LjYzOTQgMS43OTk4IDI5LjIzMDIgMS43OTk4IDI4LjcyODZWOC4xMTA5N0MxLjc5OTggNy42MDkzOCAyLjIwODk5IDcuMjAwMiAyLjcxMDU3IDcuMjAwMkgzMy4wNDMxQzMzLjU0NDcgNy4yMDAyIDMzLjk1MzkgNy42MDkzOCAzMy45NTM5IDguMTEwOTdWMjguNzI4NkMzMy45NjcxIDI5LjIzMDIgMzMuNTU3OSAyOS42Mzk0IDMzLjA0MzEgMjkuNjM5NFpNMy42MzQ1NCAyNy44MDQ3SDMyLjEzMjNWOS4wMzQ5M0gzLjYzNDU0VjI3LjgwNDdaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTcuOTY5MiAyNi4wMDk0SDEwLjIyMTFDOS42Nzk5MSAyNi4wMDk0IDkuMjQ0MzIgMjUuNTczOSA5LjI0NDMyIDI1LjAzMjdDOS4yNDQzMiAyNC40OTE1IDkuNjc5OTEgMjQuMDU1OSAxMC4yMjExIDI0LjA1NTlIMTcuOTY5MkMxOC41MTA0IDI0LjA1NTkgMTguOTQ2IDI0LjQ5MTUgMTguOTQ2IDI1LjAzMjdDMTguOTQ2IDI1LjU3MzkgMTguNTEwNCAyNi4wMDk0IDE3Ljk2OTIgMjYuMDA5NFoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik03LjA5Mjc4IDI2LjA3NTVINS44OTE2MkM1LjM1MDQ0IDI2LjA3NTUgNC45MTQ4NiAyNS42Mzk5IDQuOTE0ODYgMjUuMDk4N0M0LjkxNDg2IDI0LjU1NzUgNS4zNTA0NCAyNC4xMjE5IDUuODkxNjIgMjQuMTIxOUg3LjA5Mjc4QzcuNjMzOTYgMjQuMTIxOSA4LjA2OTU0IDI0LjU1NzUgOC4wNjk1NCAyNS4wOTg3QzguMDY5NTQgMjUuNjM5OSA3LjYzMzk2IDI2LjA3NTUgNy4wOTI3OCAyNi4wNzU1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTMzLjI4MDcgMTIuMTg5NkgyLjgxNjE2VjE2LjgyMjZIMzMuMjgwN1YxMi4xODk2WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},"8e48":function(t,e,i){},"8fc8":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("q-img",{staticClass:"nd-rounded-[8px]",attrs:{src:t.product.outside_image||i("a43e"),ratio:t.ratio}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.product.remain_amount,expression:"!product.remain_amount"}],staticClass:"absolute-full font-size-subtitle-1 text-weight-medium flex flex-center img-mask",domProps:{textContent:t._s("兌換完畢")}})])],1),s("div",{class:["nd-px-2 nd-py-3",{"font-size-caption":t.$q.screen.lt.sm}]},[s("div",{staticClass:"ellipsis-2-lines dense-line-height"},[t._v(t._s(t.product.name))]),t.product.membership_range&&t.product.membership_range.length&&t.product.membership_range[0]?s("div",{staticClass:"flex nd-pt-1"},t._l(t.product.membership_range[0].membership_id_list,(function(e,i){return t.membershipNameMap&&Object.keys(t.membershipNameMap).length?s("q-badge",{key:i,staticClass:"level whitespace-nowrap card-badge q-ma-none nd-mr-2 nd-mb-1",attrs:{outline:""}},[s("span",{staticClass:"icon i-membership-level b-level nd-mr-1"}),t._v("\n        "+t._s(t.membershipNameMap[e].name)+"\n      ")]):t._e()})),1):t._e(),s("div",{staticClass:"flex items-center text-weight-medium nd-pt-1"},[s("q-icon",{staticClass:"q-ma-none icon q-mr-xs",attrs:{name:"fab fa-product-hunt b-color",size:"16px"}}),t._v("\n      "+t._s(t.product.point||0)+"\n    ")],1)])])},o=[],r=(i("c5f6"),{props:{ratio:{type:Number,default:1.47},product:{type:Object},membershipNameMap:{tyep:Object}}}),n=r,a=(i("14e5"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"4d920ff4",null);e["a"]=c.exports},"914b":function(t,e,i){},"91be":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/menu/"+t.storeInfo.id}},[s("div",{staticClass:"column",on:{click:function(e){return t.goToStore()}}},[s("div",{staticClass:"overflow-hidden border-around full-width"},[s("div",{staticClass:"z-1 absolute flex nd-right-top"},[s("div",{staticClass:"nd-favorite-scoped",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.updateFavoriteStore(e)}}},[t.isLogin?s("q-btn",{staticClass:"nd-favorite-store",attrs:{dense:"",flat:"",round:""}},[s("q-icon",{attrs:{size:"sm"}},[s("q-img",{attrs:{src:t.favoriteIcon.icon}})],1)],1):t._e()],1)]),t.storeImage?s("q-img",{attrs:{src:t.storeImage,ratio:1.74,"img-class":"full-width"}},[s("div",{staticClass:"absolute all-pointer-events nd-img-store"},[s("q-img",{attrs:{src:t.storeInfo.image,ratio:1,"img-class":"circle"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.message,expression:"message"}],staticClass:"absolute-full flex items-center column justify-center img-mask"},[s("div",{staticClass:"nd-font-size-body text-weight-medium"},[t._v("\n              "+t._s(t.message)+"\n            ")]),t.message&&20!==t.storeInfo.order_status?s("div",{staticClass:"nd-font-size-body q-mt-sm",class:t.allowOrder.class},[t._v("\n              "+t._s(t.allowOrder.text)+"\n            ")]):t._e()])]):s("div",{staticClass:"full-width",class:t.randomBg,staticStyle:{padding:"28.75% 0px"}})],1),s("div",[s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"font-size-subtitle-1 nd-font-weight-medium nd-mt-2"},[t._v("\n                    "+t._s(t.storeInfo.brand_name)+" "+t._s(t.storeInfo.name_short)+"\n                ")])]),s("div",{staticClass:"col-auto"},[t._e(),!t.storeInfo.has_shipping_fee&&t.hasDelivery?s("div",{staticClass:"q-mb-xs q-px-sm q-pt-sm nd-icon"},[s("q-img",{attrs:{"img-class":"full-width",src:i("09d9"),alt:"免運"}})],1):t._e()])]),s("div",{staticClass:"row"},[!t.storeInfo.in_avail_nidin_league||t.isBrandDomain||t.isUBrand||t.isUStore?t._e():s("div",{staticClass:"col-auto flex items-center text-grey-8"},[s("q-img",{attrs:{width:"16px",height:"16px",src:i("10f1")}}),s("span",[t._v("・")])],1),t.storeInfo.rating_average_star?s("div",{staticClass:"col-auto flex items-center text-grey-8"},[s("q-icon",{staticClass:"q-ma-none",attrs:{size:"16px",name:"star",color:"yellow-9"}}),s("div",{staticClass:"q-ml-xs"},[t._v("\n                  "+t._s(t.ratingStar(t.storeInfo.rating_average_star))+"\n                ")])],1):t._e(),t.storeInfo.order_start_time&&t.storeInfo.order_end_time?s("div",{staticClass:"col-auto text-grey-8"},[t._v("\n                ・"+t._s(t.timeToTime(t.storeInfo.order_start_time))+"~"+t._s(t.timeToTime(t.storeInfo.order_end_time))+"\n              ")]):t._e(),t.storeInfo.distance?s("div",{staticClass:"col-auto text-grey-8 ellipsis",staticStyle:{"max-width":"200px"}},[t._v("\n                ・"+t._s(t.distanceName(t.storeInfo.distance))+"\n              ")]):t._e()]),t._e()])])])])])],1)},o=[],r=(i("a481"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7514"),i("791e")),n=i("9a59"),a=i.n(n),c=i("6399"),u=i.n(c),d={name:"NdHomeV2Store",mixins:[r["a"]],props:{brandPhoto:String,isPin:Boolean,storeInfo:Object},data:function(){return{isFavorite:!1}},computed:{favoriteIcon:function(){var t={icon:"favorite"};return this.isFavorite?t.icon=u.a:t.icon=a.a,t},hasDelivery:function(){return this.storeInfo.delivery_info.find((function(t){return 3===t.delivery_type}))},allowOrder:function(){var t={allow:!1,class:"",text:"不可預訂"},e=this.storeInfo||{},i=e.store_allow_order,s=void 0===i?0:i;return t=this.setAllowOrderTemp(s),t},randomBg:function(){var t=["bg-s-pink","bg-s-blue","bg-s-dark-blue","bg-s-yellow"];return t[this.getRandom(0,3)]},storeImage:function(){var t="",e=this.storeInfo;return e.photo?t=e.photo:e.brand_photo?t=e.brand_photo:this.brandPhoto?t=this.brandPhoto:e.meal_tag_info.length&&(t=e.meal_tag_info[0].image),t},message:function(){var t="";return 20===this.storeInfo.order_status?t="暫停接單":this.storeInfo.is_off_day?t="今日公休":this.storeInfo.is_preparing?t="於 ".concat(this.getTime(2,this.storeInfo.start_time,"HH:mm")," 開始營業"):this.storeInfo.is_close&&(t="今日已結束營業"),t}},watch:{"storeInfo.is_favorite":{immediate:!0,handler:function(t){this.isFavorite=!!t}}},methods:{createFavoriteStore:function(){var t=this,e="/user/".concat(this.getUId,"/favorite/store/").concat(this.storeInfo.id);this.putDataH(e,null).then((function(e){200===e.status&&(t.$q.notify({icon:"check_circle",message:"加入最愛店家",color:"positive",timeout:2500,position:"bottom"}),t.isFavorite=!0)})).catch((function(t){}))},updateFavoriteStore:function(){this.isFavorite?this.deleteFavoriteStore():this.createFavoriteStore()},deleteFavoriteStore:function(){var t=this,e="/user/".concat(this.getUId,"/favorite/store/").concat(this.storeInfo.id);this.delDataH(e,null).then((function(e){200===e.status&&(t.$q.notify({icon:"check_circle",message:"移除最愛店家",color:"positive",timeout:2500,position:"bottom"}),t.isFavorite=!1)})).catch((function(t){}))},setAllowOrderTemp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!!t;return{class:e?"bg-primary nd-rounded-sm q-px-sm":"",text:e?"預約訂單":"不可預訂"}},showAddress:function(){var t=this.storeInfo.address;return this.storeInfo.address_remark&&(t=t+" ("+this.storeInfo.address_remark+")"),t},ratingStar:function(t){return t.toFixed(1)},distanceName:function(t){return t>=100?this.$t("store.km_des",{distance:(t/1e3).toFixed(1)}):this.$t("store.m_des",{distance:t})},timeToTime:function(t){return this.moment(t,"HH:mm:ss").format("HH:mm")},goToStore:function(){var t=this.$gaTagList["click_store"]||null;if(t&&Object.keys(t).length){var e={event_category:t.category||"未知事件分類",event_label:t.label.replace("%",this.storeInfo.id)||"未知事件標籤"};t.action&&e.event_category&&e.event_label&&this.$gtag.event(t.action,e)}},getRandom:function(t,e){return Math.round(Math.random()*(e-t)+t)}}},l=d,M=(i("d8f6"),i("2877")),h=Object(M["a"])(l,s,o,!1,null,"c2c33696",null);e["default"]=h.exports},9405:function(t,e,i){},"94c9":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE1ODNfMTIxOTYpIj4KPHBhdGggZD0iTTkuMDAzNSA2LjExNDAxSDUuMjMwNzdDNC44ODY4NSA2LjExNDAxIDQuNTk1MDMgNi4zOTI0MSA0LjU5NTAzIDYuNzQyOThDNC41OTUwMyA3LjA5MzU1IDQuODg2ODUgNy4zNjE2NCA1LjIzMDc3IDcuMzYxNjRIOS4wMDM1QzkuMzQ3NDMgNy4zNjE2NCA5LjYzOTI0IDcuMDgzMjQgOS42MzkyNCA2LjczMjY3QzkuNjM5MjQgNi4zODIxIDkuMzU3ODUgNi4xMTQwMSA5LjAwMzUgNi4xMTQwMVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik05LjAwMzUgOC42MDkyNUg1LjIzMDc3QzQuODg2ODUgOC42MDkyNSA0LjU5NTAzIDguODg3NjUgNC41OTUwMyA5LjIzODIyQzQuNTk1MDMgOS41ODg3OSA0Ljg4Njg1IDkuODU2ODggNS4yMzA3NyA5Ljg1Njg4SDkuMDAzNUM5LjM0NzQzIDkuODU2ODggOS42MzkyNCA5LjU3ODQ4IDkuNjM5MjQgOS4yMjc5MUM5LjYzOTI0IDguODc3MzQgOS4zNTc4NSA4LjYwOTI1IDkuMDAzNSA4LjYwOTI1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTkuMDAzNSAxMS4xMTQ5SDUuMjMwNzdDNC44ODY4NSAxMS4xMTQ5IDQuNTk1MDMgMTEuMzkzMyA0LjU5NTAzIDExLjc0MzhDNC41OTUwMyAxMi4wODQxIDQuODc2NDIgMTIuMzcyOCA1LjIzMDc3IDEyLjM3MjhIOS4wMDM1QzkuMzQ3NDMgMTIuMzcyOCA5LjYzOTI0IDEyLjA5NDQgOS42MzkyNCAxMS43NDM4QzkuNjM5MjQgMTEuMzkzMyA5LjM1Nzg1IDExLjExNDkgOS4wMDM1IDExLjExNDlaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOS4wMDM1IDEzLjYxMDFINS4yMzA3N0M0Ljg4Njg1IDEzLjYxMDEgNC41OTUwMyAxMy44ODg1IDQuNTk1MDMgMTQuMjM5MUM0LjU5NTAzIDE0LjU4OTYgNC44NzY0MiAxNC44NjggNS4yMzA3NyAxNC44NjhIOS4wMDM1QzkuMzQ3NDMgMTQuODY4IDkuNjM5MjQgMTQuNTg5NiA5LjYzOTI0IDE0LjIzOTFDOS42MzkyNCAxMy44ODg1IDkuMzU3ODUgMTMuNjEwMSA5LjAwMzUgMTMuNjEwMVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik05LjAwMzUgMTYuMTU2OUg1LjIzMDc3QzQuODg2ODUgMTYuMTU2OSA0LjU5NTAzIDE2LjQzNTMgNC41OTUwMyAxNi43ODU4QzQuNTk1MDMgMTcuMTI2MSA0Ljg3NjQyIDE3LjQxNDggNS4yMzA3NyAxNy40MTQ4SDkuMDAzNUM5LjM0NzQzIDE3LjQxNDggOS42MzkyNCAxNy4xMzY0IDkuNjM5MjQgMTYuNzg1OEM5LjYzOTI0IDE2LjQzNTMgOS4zNTc4NSAxNi4xNTY5IDkuMDAzNSAxNi4xNTY5WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTExLjEyOTYgNy4zNjE2OUgxNC45MDIzQzE1LjI0NjIgNy4zNjE2OSAxNS41MzggNy4wODMzIDE1LjUzOCA2LjczMjczQzE1LjUzOCA2LjM4MjE2IDE1LjI1NjcgNi4xMDM3NiAxNC45MDIzIDYuMTAzNzZIMTEuMTI5NkMxMC43ODU2IDYuMTAzNzYgMTAuNDkzOCA2LjM4MjE2IDEwLjQ5MzggNi43MzI3M0MxMC40OTM4IDcuMDgzMyAxMC43NzUyIDcuMzYxNjkgMTEuMTI5NiA3LjM2MTY5WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTExLjEyOTYgOS44NTY5M0gxNC45MDIzQzE1LjI0NjIgOS44NTY5MyAxNS41MzggOS41Nzg1NCAxNS41MzggOS4yMjc5N0MxNS41MzggOC44NzczOSAxNS4yNTY3IDguNTk5IDE0LjkwMjMgOC41OTlIMTEuMTI5NkMxMC43ODU2IDguNTk5IDEwLjQ5MzggOC44NzczOSAxMC40OTM4IDkuMjI3OTdDMTAuNDkzOCA5LjU3ODU0IDEwLjc3NTIgOS44NTY5MyAxMS4xMjk2IDkuODU2OTNaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTMuNTc4NyAxMS43MzM2QzEzLjU3ODcgMTEuMzkzMyAxMy4yOTczIDExLjEwNDYgMTIuOTQzIDExLjEwNDZIMTEuMTI5NkMxMC43ODU2IDExLjEwNDYgMTAuNDkzOCAxMS4zODMgMTAuNDkzOCAxMS43MzM2QzEwLjQ5MzggMTIuMDczOCAxMC43NzUyIDEyLjM2MjUgMTEuMTI5NiAxMi4zNjI1SDEyLjk0M0MxMy4yODY5IDEyLjM2MjUgMTMuNTc4NyAxMi4wODQyIDEzLjU3ODcgMTEuNzMzNloiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xOS41NjA5IDE2LjQxNDdDMTkuMjkgMTYuMTk4MSAxOC44OTM5IDE2LjIzOTQgMTguNjc1MSAxNi41MDc1TDE3LjA0OTIgMTguNTE4MUwxNi4wMzgzIDE3Ljc5NjNDMTUuNzU2OSAxNy41OTAxIDE1LjM2MDkgMTcuNjUyIDE1LjE1MjUgMTcuOTQwN0MxNC45NDQgMTguMjE5MSAxNS4wMDY2IDE4LjYxMDkgMTUuMjk4NCAxOC44MTcxTDE2Ljc4ODcgMTkuODg5NUMxNi45MDMzIDE5Ljk3MTkgMTcuMDI4NCAyMC4wMTMyIDE3LjE2MzkgMjAuMDEzMkMxNy4zNTE1IDIwLjAxMzIgMTcuNTI4NyAxOS45MzA3IDE3LjY1MzcgMTkuNzc2TDE5LjY1NDcgMTcuMzAxNEMxOS44NzM2IDE3LjAyMyAxOS44MzE5IDE2LjYzMTIgMTkuNTYwOSAxNi40MTQ3WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIxLjE1NTUgMTQuNDk2OUMyMC4zMzIyIDEzLjY3MiAxOS4yNzk1IDEzLjE0NjEgMTguMTMzMSAxMi45OTE1VjQuNTE1ODdDMTguMTMzMSAzLjEyMzg5IDE2Ljk4NjcgMiAxNS41OTAyIDJINC41NDI5NUMzLjE0NjQxIDIgMiAzLjEzNDIgMiA0LjUxNTg3VjE4Ljk5MjRDMiAyMC4zODQ0IDMuMTQ2NDEgMjEuNTA4MyA0LjU0Mjk1IDIxLjUwODNIMTMuNDIyNEMxNC40MjI5IDIyLjY3MzQgMTUuODYxMiAyMy4zMzMzIDE3LjQxNCAyMy4zMzMzQzIwLjMxMTMgMjMuMzMzMyAyMi42NTYyIDIxLjAwMzEgMjIuNjU2MiAxOC4xMzY2QzIyLjY2NjcgMTYuNzY1MyAyMi4xMjQ3IDE1LjQ3NjQgMjEuMTU1NSAxNC40OTY5Wk0zLjI2MTA1IDE5LjAwMjdWNC41MTU4N0MzLjI2MTA1IDMuODE0NzMgMy44MzQyNiAzLjI0NzYyIDQuNTQyOTUgMy4yNDc2MkgxNS41Nzk4QzE2LjI4ODUgMy4yNDc2MiAxNi44NjE3IDMuODE0NzMgMTYuODYxNyA0LjUxNTg3VjEyLjk3MDhDMTQuMjI0OSAxMy4yMzg5IDEyLjE2MTQgMTUuNDU1OCAxMi4xNjE0IDE4LjEzNjZDMTIuMTYxNCAxOC44NzkgMTIuMzE3NyAxOS42MDA4IDEyLjYxOTkgMjAuMjYwN0g0LjU0Mjk1QzMuODM0MjYgMjAuMjYwNyAzLjI2MTA1IDE5LjY5MzYgMy4yNjEwNSAxOS4wMDI3Wk0xNy40MTQgMjIuMDg1N0MxNi4xNTMgMjIuMDg1NyAxNC45OTYxIDIxLjUwODMgMTQuMjM1MyAyMC41MTg0QzEzLjcxNDIgMTkuODI3NiAxMy40MzI4IDE5LjAxMzEgMTMuNDMyOCAxOC4xNDY5QzEzLjQzMjggMTUuOTcxMyAxNS4yMTUgMTQuMTk3OCAxNy40MTQgMTQuMTk3OEMxNy40MzQ5IDE0LjE5NzggMTcuNDU1NyAxNC4xOTc4IDE3LjQ3NjYgMTQuMTk3OEgxNy40ODdDMTguNTM5NiAxNC4yMTg1IDE5LjUxOTIgMTQuNjMwOSAyMC4yNTkyIDE1LjM3MzNDMjAuOTk5MiAxNi4xMTU3IDIxLjQwNTYgMTcuMDk1MiAyMS40MDU2IDE4LjEzNjZDMjEuMzk1MiAyMC4zMTIyIDE5LjYxMyAyMi4wODU3IDE3LjQxNCAyMi4wODU3WiIgZmlsbD0iYmxhY2siLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xNTgzXzEyMTk2Ij4KPHJlY3Qgd2lkdGg9IjIwLjY2NjciIGhlaWdodD0iMjEuMzMzMyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMikiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"},"950c":function(t,e,i){},"95da":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.orderActivityDiscountList.length||3!==t.orderInfo.order_type&&Object.keys(t.promotionInfo).length?i("div",[i("hr",{staticClass:"nd-mb-4"}),i("div",[i("div",{staticClass:"nd-mb-2 nd-text-neutral-7 font-size-subtitle-2 mobile-small"},[t._v("\n        有 "+t._s(t.orderActivityDiscountList.length)+" 檔活動進行中，趕緊來參加！\n      ")]),i("div",{staticClass:"scroll nd-pb-1"},[i("div",{staticClass:"row items-center"},[i("hooper",{ref:"activity-list",style:"height: 60px",attrs:{settings:t.hooperSettings},on:{slide:function(e){return t.slideHooper(e)}}},t._l(t.orderActivityDiscountList,(function(e,s){return i("slide",{key:"activity-"+e.activity_id,staticClass:"row items-center",attrs:{"render-key":e.activity_id}},[i("div",{staticClass:"col",class:{"nd-pr-2":s!==t.orderActivityDiscountList.length-1}},[i("div",{staticClass:"nd-py-1 nd-px-2 border-light-secondary border-m-around bg-light-secondary font-size-subtitle-2 mobile-small break-all ellipsis-2-lines cursor-pointer",staticStyle:{height:"60px"},on:{click:function(i){return t.showActivityModal(e.activity_id)}}},[i("span",{staticClass:"nd-text-neutral-7"},[t._v(t._s(1===e.is_give_over?"(兌換完畢) ":"")+t._s(e.name))])])])])})),1)],1)])]),t.orderActivityDiscountList.length&&3!==t.orderInfo.order_type&&Object.keys(t.promotionInfo).length?i("hr",{staticClass:"nd-my-4"}):t._e(),3!==t.orderInfo.order_type&&Object.keys(t.promotionInfo).length?i("div",[i("div",{staticClass:"nd-mb-2"},[t._v("銷售折扣組合(紅配綠)-"+t._s(t.promotionInfo.activity_name))]),i("nd-promotion-info",{attrs:{"promotion-info":t.promotionInfo,"order-info":t.orderInfo,"order-others":t.orderOthers,"store-info":t.storeInfo,"disable-list":t.disableList,"follower-list":t.followerList,"show-collapse":!0,"show-money":!0,"show-title":!1}})],1):t._e(),t.orderActivityDiscountList.length>2?[i("div",{directives:[{name:"show",rawName:"v-show",value:t.$q.screen.gt.sm&&0!==t.currentSlide,expression:"$q.screen.gt.sm && currentSlide !== 0"}],staticClass:"page-btn left"},[i("q-btn",{staticClass:"shadow-1",attrs:{round:"",padding:"3px",size:"9px",color:"white","text-color":"grey-8",icon:"fas fa-chevron-left"},on:{click:function(e){return e.preventDefault(),t.prevPage("activity-list")}}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.$q.screen.gt.sm&&t.currentSlide<t.totalPage,expression:"$q.screen.gt.sm && currentSlide < totalPage"}],staticClass:"page-btn right"},[i("q-btn",{staticClass:"shadow-1",attrs:{round:"",padding:"3px",size:"9px",color:"white","text-color":"grey-8",icon:"fas fa-chevron-right"},on:{click:function(e){return e.preventDefault(),t.nextPage("activity-list")}}})],1)]:t._e()],2):t._e(),i("nd-activity",{attrs:{"store-info":t.storeInfo,"order-discount-list":t.orderActivityDiscountList,"only-dialog":!0,open:t.show.modal_activity,ids:t.promotionIds},on:{"update:open":function(e){return t.$set(t.show,"modal_activity",e)}}})],1)},o=[],r=(i("7514"),i("791e")),n=i("a104"),a=i("0802"),c=i("e7c1"),u=i("2e77"),d=(i("955f"),{name:"OrderActivity",props:{disableList:{type:Object,default:function(){return{}}},orderActivityDiscountList:{type:Array,default:function(){return[]}},discountStore:{type:Array,default:function(){return[]}},multiAppliableDiscount:{type:Object,default:function(){return{}}},storeInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}},orderOthers:{type:Object,default:function(){return{}}},followerList:{type:Array,default:function(){return[]}}},components:{"nd-activity":a["default"],"nd-promotion-info":n["a"],hooper:u["a"],slide:u["c"]},mixins:[r["a"],c["a"]],data:function(){return{hooperSettings:{autoPlay:!1,centerMode:!1,itemsToShow:1.2,infiniteScroll:!1,mouseDrag:!1,playSpeed:4e3,wheelControl:!1,breakpoints:{800:{itemsToShow:2.2}}},currentSlide:0,promotionIds:[],show:{modal_activity:!1}}},computed:{promotionInfo:function(){var t=this,e=null,i=null;return this.multiAppliableDiscount&&this.multiAppliableDiscount.list&&this.multiAppliableDiscount.list.length&&(e=this.multiAppliableDiscount.list.find((function(e){return e.activity_rule_code===t.promotionRuleCode.redGreen}))),this.multiAppliableDiscount.matchable_list&&this.multiAppliableDiscount.matchable_list.length&&(i=this.multiAppliableDiscount.matchable_list.find((function(e){return e.activity_rule_code===t.promotionRuleCode.redGreen&&(!e.excluded_by_product_coupon||!e.order_has_product_coupon)&&(!e.excluded_by_product_voucher||!e.order_has_product_voucher)}))),e||i||{}},totalPage:function(){var t=this.orderActivityDiscountList.length||0,e=1.2;return window.innerWidth>800&&(e=2.2),Math.ceil(Math.max(0,t-e))||0}},methods:{showActivityModal:function(t){this.promotionIds=[t],this.show.modal_activity=!0},slideHooper:function(t){this.currentSlide=t.currentSlide},prevPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e?this.$refs[t].slidePrev():(t+=e,this.$refs[t][0].slidePrev())},nextPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e?this.$refs[t].slideNext():(t+=e,this.$refs[t][0].slideNext())}}}),l=d,M=(i("3ef8"),i("2877")),h=Object(M["a"])(l,s,o,!1,null,"60c38d7e",null);e["a"]=h.exports},"97eb":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhYiIgZGF0YS1pY29uPSJwcm9kdWN0LWh1bnQiIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1wcm9kdWN0LWh1bnQgZmEtdy0xNiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0zMjYuMyAyMTguOGMwIDIwLjUtMTYuNyAzNy4yLTM3LjIgMzcuMmgtNzAuM3YtNzQuNGg3MC4zYzIwLjUgMCAzNy4yIDE2LjcgMzcuMiAzNy4yek01MDQgMjU2YzAgMTM3LTExMSAyNDgtMjQ4IDI0OFM4IDM5MyA4IDI1NiAxMTkgOCAyNTYgOHMyNDggMTExIDI0OCAyNDh6bS0xMjguMS0zNy4yYzAtNDcuOS0zOC45LTg2LjgtODYuOC04Ni44SDE2OS4ydjI0OGg0OS42di03NC40aDcwLjNjNDcuOSAwIDg2LjgtMzguOSA4Ni44LTg2Ljh6Ij48L3BhdGg+PC9zdmc+"},"97ef":function(t,e,i){t.exports=i.p+"img/f_name.75ec80db.jpg"},"97f9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showLeftBtn?i("div",{staticClass:"full-width flex flex-center",class:[2===t.type?"col full-height text-accent":"",{"bg-d-gray text-white":2===t.type&&t.showBtn.disable},{"bg-white":2===t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2===t.type&&!t.showBtn.disable&&!t.showRightBtn}]},[i("div",{staticClass:"text-center text-bold flex flex-center",class:[2===t.type?"q-py-md full-width full-height":"btn-primary text-accent border q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"bg-d-gray text-white":2!==t.type&&t.showBtn.disable},{"bg-white":2!==t.type&&!t.showBtn.disable&&t.showRightBtn},{"b-bg-secondary text-white":2!==t.type&&!t.showBtn.disable&&!t.showRightBtn}],style:2===t.type?"":"height: 71.141px",on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"b-bg-secondary",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v("\n      "+t._s(t.showBtn.name)+"\n    ")])],1)]):t._e()},o=[],r=(i("7f7f"),i("c5f6"),{name:"VendorOrderListLeftBtn",props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,show:Object,showRightBtn:Boolean,cantEdit:Boolean},data:function(){return{btns:{1:{name:this.$t("order.add_items_food"),event:"goToMenu"},2:{name:this.$t("order.step_previous"),event:"goStepBack"},3:{name:this.$t("order.cancel_trade"),event:"cancelTrade"},4:{name:this.$t("order.order_again_one"),event:"orderAgain"},5:{name:this.$t("order.order_again"),event:"reorder",disable:!1},6:{name:this.$t("order.order_delete"),event:"removeOrder"},7:{name:this.$t("order.step_prod"),event:"sendOrder"}}}},computed:{showLeftBtn:function(){return!(!this.showRightBtn&&this.showBtn.disable)},disReorder:function(){var t=this.orderInfo.status,e=this.orderInfo.order_type;return 3===e||99!==t&&(120!==t&&(121!==t&&(122!==t&&(140!==t&&130!==t))))},showSpinner:function(){return!!this.show&&this.show.btn_spinner},showBtn:function(){var t=this.orderInfo;return this.step?3===t.order_type&&3===this.step?this.btns[4]:1!==this.step||this.cantEdit?1===this.step&&this.cantEdit?this.btns[6]:1===t.status||2===t.status?this.btns[3]:this.btns[2]:this.btns[1]:(this.btns[5].disable=this.disReorder,this.disReorder?(this.btns[5].event="",this.btns[5].name="無法再次點餐"):(this.btns[5].event="reorder",this.btns[5].name="再次點餐"),this.btns[5])}}}),n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},9801:function(t,e,i){"use strict";var s,o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[t.isOfflineOrder?"":t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm},{"shoping-list-card":"orderListInfo"!==t.$route.name&&!t.isOfflineOrder}]},["orderListInfo"!==t.$route.name?s("div",{staticClass:"font-size-subtitle-1 text-weight-bold q-mb-md",class:{"text-center font-size-subtitle-2 q-mt-md":t.isOfflineOrder}},[t._v("\n    "+t._s(t.$t("order.order_summary"))+"\n  ")]):t._e(),t.isOfflineOrder?t._e():s("hr",{staticClass:"q-mb-lg"}),s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[t._v("\n      "+t._s(t.$t("order.item_prod"))+" x"+t._s(t.showAmount)+"\n    ")]),t.isOfflineOrder?t._e():s("div",{staticClass:"col-auto text-right"},[t._v("\n      $"+t._s(t.showMoney)+"\n    ")])]),t.pointdiscount.total_discount&&!t.isOfflineOrder?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[t._v("\n      點數折扣\n    ")]),s("div",{staticClass:"col-auto text-secondary text-right"},[t._v("\n      -$"+t._s(t.pointdiscount.total_discount)+"\n    ")])]):t._e(),t.memberdiscount.total_discount&&!t.isOfflineOrder?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[t._v("\n      "+t._s(t.discountText(t.memberCardDiscount,!0))+"\n    ")]),s("div",{staticClass:"col-auto text-secondary text-right"},[t._v("\n      -$"+t._s(t.memberdiscount.total_discount)+"\n    ")])]):t._e(),t.appliableDiscount.total_discount&&!t.isOfflineOrder&&t.cupActivityCalcModeActive?s("q-expansion-item",{staticClass:"money-detail-expand",attrs:{dense:"","expand-icon-class":["money-detail-expand-icon"],"header-class":[]},scopedSlots:t._u([{key:"header",fn:function(){return[s("q-item-section",[s("div",{staticClass:"full-width row justify-between items-center q-mr-auto"},[s("div",{staticClass:"col"},[t._v("\n            "+t._s(t.$t("order.discount"))+" x1\n          ")]),s("div",{staticClass:"col-auto text-secondary text-right"},[t._v("\n            -$"+t._s(t.appliableDiscount.total_discount)+"\n          ")])])])]},proxy:!0}],null,!1,2980812389)},[s("div",{staticClass:"q-pa-sm bg-grey-2"},t._l(t.appliableDiscountName,(function(e){return s("div",{key:"activity-"+e.activity_id,staticClass:"des-list text-gray-2 font-size-caption"},[s("span",{class:["ellipsis",{showMore:e.activity_rule_code===t.promotionRuleCode.redGreen&&t.$route.name.includes("orderListInfo")}]},[t._v("\n          ▪"+t._s(e.name||e.activity_name)+" "+t._s(e.exchange_code?"(使用折扣碼 "+e.exchange_code+")":"")+"\n        ")]),e.activity_rule_code===t.promotionRuleCode.redGreen&&t.$route.name.includes("orderListInfo")?s("span",[t._v("\n          ，詳情"),s("span",{staticClass:"text-primary cursor-pointer",domProps:{textContent:t._s("點此查看")},on:{click:function(i){return t.openPromotionInfoModal(e.activity_id)}}})]):t._e()])})),0)]):t._e(),"orderListInfo"===t.$route.name&&(t.useCoupon.coupon_codes.length||t.followerCouponAmount||t.productCouponAmount)&&!t.isOfflineOrder?s("q-expansion-item",{staticClass:"money-detail-expand",attrs:{dense:"","expand-icon-class":["money-detail-expand-icon"],"header-class":[]},scopedSlots:t._u([{key:"header",fn:function(){return[s("q-item-section",[s("div",{staticClass:"full-width row justify-between items-center q-mr-auto"},[s("div",{staticClass:"col"},[t._v("\n            "+t._s(t.$t("order.coupon"))+" x"+t._s(t.useCoupon.coupon_codes.length+t.followerCouponAmount+t.productCouponAmount)+"\n            ")]),s("div",{staticClass:"col-auto flex items-center"},[s("div",{staticClass:"text-secondary text-right"},[t._v("\n              -$"+t._s(t.useCoupon.coupon_money+t.followerCouponMoney+t.productCouponMoney)+"\n            ")])])])])]},proxy:!0}],null,!1,3334997018)},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"bg-grey-2 text-gray-2 font-size-caption q-px-md q-py-sm"},t._l(t.concatCouponList,(function(e,i){return s("div",{key:"coupon-concat-"+i,staticClass:"cursor-pointer",on:{click:t.openCouponInfo}},[e.name||e.amount||e.unit_discount?s("div",{staticClass:"flex justify-between"},[e.name||e.amount?s("div",{staticClass:"flex"},[e.name?s("div",[t._v("\n                ▪"+t._s(e.name)+"\n              ")]):t._e(),e.amount?s("div",{staticClass:"q-ml-xs"},[t._v("\n                x"+t._s(e.amount)+"\n              ")]):t._e()]):t._e(),e.unit_discount?s("div",[t._v("\n              -$"+t._s(e.unit_discount)+"\n            ")]):t._e()]):t._e(),t._l(e.item_list,(function(e){return s("div",{key:"item-"+e.product_id,staticClass:"q-pl-md"},[s("div",{staticClass:"flex text-gray-3"},[e.name?s("div",[t._v("\n                ▪"+t._s(e.name)+"\n              ")]):t._e(),e.amount?s("div",{staticClass:"q-ml-xs"},[t._v("\n                x"+t._s(e.amount)+"\n              ")]):t._e()])])}))],2)})),0)])]):(t.useCoupon.coupon_codes.length||t.followerCouponAmount||t.productCouponAmount)&&!t.isOfflineOrder?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[s("span",{class:{"cursor-pointer":"orderListInfo"===t.$route.name},on:{click:t.openCouponInfo}},[t._v("\n        "+t._s(t.$t("order.coupon"))+"\n        x"+t._s(t.useCoupon.coupon_codes.length+t.followerCouponAmount+t.productCouponAmount)+"\n      ")])]),s("div",{staticClass:"col-auto text-secondary text-right"},[t._v("\n      -$"+t._s(t.useCoupon.coupon_money+t.followerCouponMoney+t.productCouponMoney)+"\n    ")])]):t._e(),t.isOfflineOrder?t._e():s("div",["orderListInfo"===t.$route.name&&t.followerVoucherAmount+t.productVoucherAmount>0&&!t.isOfflineOrder?s("q-expansion-item",{staticClass:"money-detail-expand",attrs:{dense:"","expand-icon-class":["money-detail-expand-icon"],"header-class":[]},scopedSlots:t._u([{key:"header",fn:function(){return[s("q-item-section",[s("div",{staticClass:"full-width row justify-between items-center q-mr-auto"},[s("div",{staticClass:"col"},[t._v("\n              "+t._s(t.$t("order.voucher_use"))+" x"+t._s(t.followerVoucherAmount+t.productVoucherAmount)+"\n              ")]),s("div",{staticClass:"col-auto flex items-center"},[s("div",{staticClass:"text-secondary text-right"},[t._v("\n                -$"+t._s(t.followerVoucherMoney+t.productVoucherMoney)+"\n              ")])])])])]},proxy:!0}],null,!1,4146369832)},[s("div",{staticClass:"bg-grey-2 text-gray-2 font-size-caption q-px-md q-py-sm"},[t._l(t.orderOthers.order_info.voucher,(function(e){return s("div",{key:"voucher-"+e.code},[t._v("\n          ▪"+t._s(e.name)+" x1\n        ")])})),t._l(t.productVouchers,(function(e,i){return s("div",{key:"voucher-prod-"+(i+1)},[t._v("\n          ▪"+t._s(e.name)+" x"+t._s(e.amount)+"\n          "),t.isOfflineOrder?t._e():t._l(e.item_list,(function(e){return s("div",{key:"item-"+e.product_id,staticClass:"q-pl-md text-gray-3"},[t._v("\n              - "+t._s(e.name)+" x"+t._s(e.amount)+"\n            ")])}))],2)}))],2)]):t.followerVoucherAmount+t.productVoucherAmount?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[s("span",{class:{"cursor-pointer":"orderListInfo"===t.$route.name},on:{click:function(e){return t.openCouponInfo("voucher")}}},[t._v("\n          "+t._s(t.$t("order.voucher_use"))+"\n           \n          x"+t._s(t.followerVoucherAmount+t.productVoucherAmount)+"\n        ")])]),s("div",{staticClass:"col-auto text-secondary text-right"},[t._v("\n        -$"+t._s(t.followerVoucherMoney+t.productVoucherMoney)+"\n      ")])]):t._e()],1),t.orderOthers.order_info.allowance&&t.orderOthers.order_info.allowance.total_allowance&&!t.isOfflineOrder?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[s("span",{staticClass:"cursor-pointer",on:{click:function(e){t.show.modal_allowance_info=!0}}},[t._v("\n        商品折扣\n      ")])]),s("div",{staticClass:"col-auto text-secondary text-right"},[t._v("\n      -$"+t._s(t.orderOthers.order_info.allowance.total_allowance)+"\n    ")])]):t._e(),t.hasPlasticInfo&&t.needPlasticBag?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[t._v("\n      "+t._s(t.$t("order.plastic_bag"))+" \n      "),t.orderOthers.order_info.plastic_info.amount?s("span",[t._v("\n        x"+t._s(t.orderOthers.order_info.plastic_info.amount)+"\n      ")]):t._e()]),t.orderOthers.order_info.plastic_info.money?s("div",{staticClass:"col-auto text-right"},[t._v("\n      $"+t._s(t.orderOthers.order_info.plastic_info.money)+"\n    ")]):s("div",{staticClass:"col-auto text-positive text-right"},[t._v("\n      依門市規定\n    ")])]):t._e(),!t.isOfflineOrder&&3===t.orderInfo.delivery_type&&3!==t.orderInfo.order_type&&t.orderInfo.delivery_address?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col"},[t._v("\n      運費\n    ")]),s("div",{staticClass:"col-auto"},[t.hideShippingMoney?s("span",{staticClass:"text-right"},[t._v(" - ")]):t.shippingMoney?s("span",{staticClass:"text-right"},[t._v("\n        $"+t._s(t.shippingMoney)+"\n      ")]):s("span",{staticClass:"text-positive text-right"},[t._v("\n        免運\n      ")])])]):t._e(),t.showDeliveryThreshold?s("div",{staticClass:"flex justify-between items-center q-px-md q-py-sm"},[s("div",{staticClass:"col flex items-center text-secondary"},[s("p",[s("q-icon",{staticClass:"q-ma-none q-pb-xs",attrs:{name:"star"}}),t._v("\n        外送門檻："+t._s(t.showDeliveryThreshold)+"\n      ")],1)])]):t._e(),t.serviceFees.length?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 q-px-md q-py-sm"},[s("div",{staticClass:"row font-size-subtitle-2"},[s("div",{staticClass:"col-auto",domProps:{textContent:t._s("服務費")}}),s("div",{staticClass:"col-auto q-ml-auto",domProps:{textContent:t._s("$"+t.serviceFeeMoney)}})])]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"q-py-sm q-px-md bg-grey-11 text-gray-2 rounded-borders"},[t.serviceFeeIsEditable&&"OnSiteOrderList"===t.$route.name?s("div",{staticClass:"row items-center q-mb-sm text-gray-3",on:{click:t.editServiceFee}},[s("div",{staticClass:"col-auto",domProps:{textContent:t._s("點選右方鉛筆，費用可自行調整唷!")}}),s("div",{staticClass:"col-auto q-ml-auto icon i-edit-pen bg-primary cursor-pointer"})]):t._e(),t._l(t.serviceFees,(function(e,i){return s("div",{key:i,staticClass:"row font-size-caption",class:{"q-mt-sm":i}},[s("div",{staticClass:"col-auto",domProps:{textContent:t._s(t.serviceFeeName(e))}}),e.is_show_default&&e.fee?s("div",{staticClass:"col-auto q-ml-auto",domProps:{textContent:t._s(t.serviceFeeMonery(e))}}):t._e()])}))],2)])]):t._e(),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_service_fee,callback:function(e){t.$set(t.show,"modal_service_fee",e)},expression:"show.modal_service_fee"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_service_fee=!1}}}),s("div",{staticClass:"text-bold full-width text-center header-text font-size-subtitle-1 q-mb-sm",domProps:{textContent:t._s("服務費")}}),s("hr"),s("q-card-section",{staticClass:"col q-pa-none"},[t._l(t.modalServiceFee,(function(e,i){return s("div",{key:i},[s("p",{domProps:{textContent:t._s(e.name)}}),s("q-input",{attrs:{outlined:"",placeholder:"請填寫"+e.name,type:"number"},scopedSlots:t._u([{key:"append",fn:function(){return[s("div",{staticClass:"font-size-subtitle-1",domProps:{textContent:t._s(t.serviceFeeAppend(e.value_type))}})]},proxy:!0}],null,!0),model:{value:e.fee,callback:function(i){t.$set(e,"fee",i)},expression:"serviceFee.fee"}})],1)})),t.modalServiceFee.length?t._e():s("div",{staticClass:"q-py-md text-center",domProps:{textContent:t._s("沒有服務費相關資訊！")}})],2),s("q-card-actions",{staticClass:"row q-px-none"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",on:{click:t.saveServiceFee}},[t.show.btn_spinner?s("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):s("span",{domProps:{textContent:t._s(t.$t("dialog.confirm"))}})],1)],1)])],1)],1),s("cup-discount-money-detail",{attrs:{orderOthers:t.orderOthers,orderAttach:t.orderAttach,orderInfo:t.orderInfo,storeInfo:t.storeInfo,deliveryWaySupportCupDiscount:t.dataDeliveryWaySupportCupDiscount},on:{"update:invalidcup-totaldiscount":t.handleInvalidCupTotaldiscount}}),s("hr",{staticClass:"q-my-md"}),s("div",{staticClass:"flex justify-between items-center text-secondary q-px-md q-py-sm"},[s("div",{staticClass:"col font-size-subtitle-1 text-weight-bold"},[t._v("\n      "+t._s(t.$t("order.amounts_payable"))+"\n    ")]),s("div",{staticClass:"col-auto font-size-subtitle-1 text-weight-bold text-right"},[t._v("\n      $"+t._s(t.totalPaid)+"\n    ")])]),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_allowance_info,callback:function(e){t.$set(t.show,"modal_allowance_info",e)},expression:"show.modal_allowance_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_allowance_info=!1}}}),t.orderOthers.order_info.allowance?s("div",[s("div",{staticClass:"font-size-subtitle-2"},[t._v("商品折扣")]),t._l(t.orderOthers.order_info.allowance.list,(function(e){return s("div",{key:"allowance-detail-"+e.setting_id,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-light-gray q-pa-md"},[s("div",[s("div",[s("q-badge",{staticClass:"bg-secondary q-ma-none",attrs:{label:"符合"+e.match_amount+"組"}}),s("q-badge",{staticClass:"q-ma-none q-ml-sm",attrs:{label:"共折$"+e.total_allowance}})],1),s("div",{staticClass:"q-mt-xs"},[t._v("\n                "+t._s(e.description)+"\n              ")])])])])}))],2):t._e()])],1),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_coupon_info,callback:function(e){t.$set(t.show,"modal_coupon_info",e)},expression:"show.modal_coupon_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_coupon_info=!1}}}),t.orderOthers.order_info.coupon?s("div",[s("div",{staticClass:"font-size-subtitle-2"},[t._v("\n          優惠券折扣\n        ")]),t._l(t.modal_prod_info,(function(e,i){return s("div",{key:"coupon-main-"+i,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("coupon-card-v2",{attrs:{singleCouponInfo:e,storeInfo:t.storeInfo}})],1)])])})),t._l(t.modal_prod_info_group,(function(e,i){return s("div",{key:"coupon-sub-"+i,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("coupon-card-v2",{attrs:{singleCouponInfo:e,storeInfo:t.storeInfo,orderInfo:t.orderInfo}})],1)])])}))],2):t._e()])],1),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_voucher_info,callback:function(e){t.$set(t.show,"modal_voucher_info",e)},expression:"show.modal_voucher_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_voucher_info=!1}}}),t.orderOthers.order_info.voucher?s("div",[s("div",{staticClass:"font-size-subtitle-2"},[t._v("電子票券核銷")]),t._l(t.orderOthers.order_info.voucher,(function(e){return s("div",{key:"coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("nd-voucher-card",{attrs:{voucherInfo:e,brandName:t.storeInfo.brand_name,orderInfo:t.orderInfo}})],1)])])})),t._l(t.orderOthers.group_buy_follower_order_vouchers,(function(e,i){return s("div",{key:i},t._l(e,(function(e){return s("div",{key:"gb-coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("nd-voucher-card",{attrs:{voucherInfo:e,brandName:t.storeInfo.brand_name,orderInfo:t.orderInfo}})],1)])])})),0)})),t._l(t.modal_prod_voucher_info,(function(e){return s("div",{key:"coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("nd-voucher-card",{attrs:{voucherInfo:e,brandName:t.storeInfo.brand_name,orderInfo:t.orderInfo}})],1)])])})),t._l(t.modal_prod_voucher_info_group,(function(e){return s("div",{key:"coupon-detail-"+e.code,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-m-gray q-pa-sm flex flex-center"},[s("div",{staticClass:"q-pa-sm full-width",staticStyle:{"max-width":"330px"}},[s("nd-voucher-card",{attrs:{voucherInfo:e,brandName:t.storeInfo.brand_name,orderInfo:t.orderInfo}})],1)])])}))],2):t._e()])],1),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_discount_info,callback:function(e){t.$set(t.show,"modal_discount_info",e)},expression:"show.modal_discount_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_discount_info=!1}}}),t.orderOthers.order_info.discount?s("div",[s("div",{staticClass:"font-size-subtitle-2"},[t._v("\n          "+t._s(t.$t("order.discount"))+"\n        ")]),t._l(t.appliableDiscount.list,(function(e){return s("div",{key:"discount-detail-"+e.activity_id,staticClass:"q-my-sm"},[s("div",{staticClass:"bg-light-gray q-pa-md"},[s("div",[s("div",[s("q-badge",{staticClass:"bg-secondary q-ma-none",attrs:{label:"符合"+e.match_amount+"組"}})],1),s("div",{staticClass:"q-mt-xs"},[t._v("\n                "+t._s(e.activity_name)+"\n              ")])])])])}))],2):t._e()])],1),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_promotion_info,callback:function(e){t.$set(t.show,"modal_promotion_info",e)},expression:"show.modal_promotion_info"}},[s("q-card",{staticClass:"bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_promotion_info=!1}}}),s("div",{staticClass:"font-size-subtitle-2 q-mb-md q-pb-sm q-pr-lg"},[t._v(t._s(t.promotionInfo.activity_name)+" 折扣明細")]),s("div",{staticClass:"q-mb-sm q-pl-sm"},[t._v("\n        銷售折扣組合(紅配綠)\n      ")]),s("nd-promotion-info",{attrs:{orderInfo:t.orderInfo,promotionInfo:t.promotionInfo,storeInfo:t.storeInfo,orderOthers:t.orderOthers}})],1)],1)],1)},r=[],n=(i("8e6e"),i("8a81"),i("7514"),i("f3e3")),a=i.n(n),c=(i("ffc1"),i("20d6"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7f7f"),i("967e")),u=i.n(c),d=(i("c5f6"),i("96cf"),i("fa84")),l=i.n(d),M=i("4db1"),h=i.n(M),p=i("8993"),m=i.n(p),g=i("c47a"),f=i.n(g),y=i("791e"),I=i("808d"),N=i("8ca0"),D=i("8154"),j=i("a104"),v=i("e7c1"),L=i("e305");function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){f()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w={name:"NdMoneyDetailV2",mixins:[y["a"],v["a"],I["a"]],components:{"coupon-card-v2":N["a"],"nd-voucher-card":D["a"],"nd-promotion-info":j["a"],"cup-discount-money-detail":L["a"]},props:{appliableCoupon:Array,appliableDiscount:Object,isOfflineOrder:Boolean,memberdiscount:Object,needPlasticBag:Boolean,orderAttach:Object,orderInfo:Object,orderOthers:Object,pointdiscount:Object,storeInfo:Object,useCoupon:Object,useVoucher:Object,deliveryWaySupportCupDiscount:Boolean,cupApplicableDiscount:Object},data:function(){return{memberCardDiscount:null,modal_prod_info:[],modal_prod_info_group:[],modal_prod_voucher_info:[],modal_prod_voucher_info_group:[],modalServiceFee:[],show:{btn_spinner:!1,coupon:!1,modal_allowance_info:!1,modal_coupon_info:!1,modal_voucher_info:!1,modal_discount_info:!1,modal_promotion_info:!1,modal_service_fee:!1},dataDeliveryWaySupportCupDiscount:this.deliveryWaySupportCupDiscount,invalidCupTotaldiscount:null}},watch:{orderOthers:{handler:function(t){this.getMemberCardInfo()},deep:!0},deliveryWaySupportCupDiscount:function(t){this.dataDeliveryWaySupportCupDiscount=t}},methods:{couponBinding:function(){var t=this,e=this.orderOthers.order_info||{},i=e.coupon||[];Array.isArray(i)&&i.forEach((function(e){t.modal_prod_info.push(T({},e,{typeText:"全單",typeCode:1,gorupText:"團長",gorupCode:1}))}));var s=e.product_coupon||{},o=s&&s.item_list?s.item_list:{};if("object"===m()(o)){var r=function(e){o[e].list.forEach((function(i){t.modal_prod_info.push(T({},i,{item_set_uid:o[e].item_set_uid,typeText:"單品",typeCode:2,gorupText:"團長",gorupCode:1}))}))};for(var n in o)r(n)}if(this.modal_prod_info.forEach((function(i){var s=e.product_simple.filter((function(t){return i.item_set_uid===t.item_set_uid}));Array.isArray(s)&&s.length&&(i.item_list=[].concat(h()(i.item_list||[]),h()(s))),t.modal_prod_info[i]=i})),e.product_voucher&&e.product_voucher.item_list){var a=function(i){e.product_voucher.item_list[i].list.forEach((function(s){t.modal_prod_voucher_info.push(T({item_set_uid:e.product_voucher.item_list[i].item_set_uid},s,{typeText:"電子票券",typeCode:3,gorupText:"團長",gorupCode:1}))}))};for(var c in e.product_voucher.item_list)a(c)}this.modal_prod_voucher_info.forEach((function(i){var s=e.product_simple.filter((function(t){return i.item_set_uid===t.item_set_uid}));Array.isArray(s)&&s.length&&(i.item_list=[].concat(h()(i.item_list||[]),h()(s))),t.modal_prod_voucher_info[i]=i}))},couponBindingGroup:function(){var t,e=this,i=this.orderOthers.group_buy_follower_order_coupons||{};for(var s in i){var o=i[s];o.forEach((function(t){e.modal_prod_info_group.push(T({},t,{typeText:"全單",typeCode:1,gorupText:"團員",gorupCode:2}))}))}var r=(null===(t=this.orderOthers)||void 0===t?void 0:t.group_buy_follower_order_list)||[];r.forEach((function(t){var i=t.product_coupon;if(i&&i.item_list){var s=function(t){var s=i.item_list[t].list;s.forEach((function(s){e.modal_prod_info_group.push(T({},s,{item_set_uid:i.item_list[t].item_set_uid,typeText:"單品",typeCode:2,gorupText:"團員",gorupCode:2}))}))};for(var o in i.item_list)s(o)}var r=t.product_simple;e.modal_prod_info_group.forEach((function(t){var i=r.filter((function(e){return t.item_set_uid===e.item_set_uid}));Array.isArray(i)&&i.length&&(t.item_list=[].concat(h()(t.item_list||[]),h()(i))),e.modal_prod_info_group[t]=t}))}))},editServiceFee:function(){this.show.modal_service_fee=!0,this.modalServiceFee=[],this.modalServiceFee=this.serviceFees.map((function(t){return T({},t)}))},getMemberCardInfo:function(){var t=l()(u.a.mark((function t(){var e,i,s,o,r,n,a,c,d=this;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=Number(this.storeInfo.plastic_info.price)||0,i="Nidin_".concat(this.$route.params.order_id,"_order_info_plasticbag"),s=this.$q.sessionStorage.has(i)?this.$q.sessionStorage.getItem(i):"",s&&_.isArray(s)&&s.length&&s[0].plastic_amount&&(this.orderOthers.order_info.plastic_info.amount=s[0].plastic_amount,this.orderOthers.order_info.plastic_info.money=e*s[0].plastic_amount),o=this.orderOthers.order_info.membership_discount.list?this.orderOthers.order_info.membership_discount.list[0]:this.orderOthers.order_info.membership_discount,o){t.next=7;break}return t.abrupt("return");case 7:if(r=o.membership_group_id,n=o.membership_id,a=o.membership_name,r){t.next=10;break}return t.abrupt("return",this.memberCardDiscount);case 10:return c="/membership/group/".concat(r),t.next=13,this.getData(c,null).then((function(t){if(t){var e=t.data;if(e&&e.membership_discount){var i=e.membership_discount[n];i&&(d.memberCardDiscount=i[0],d.memberCardDiscount.membership_name=a,d.memberCardDiscount.membership_id=n)}}})).catch((function(t){}));case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goToMenu:function(){var t=this.orderOthers.group_buy_head_order_info;this.$route.meta.group_buying?this.$router.push("/gb/menu/"+this.storeInfo.id+"/"+this.orderInfo.order_id+"/"+t.share_code):3===this.orderInfo.order_type?this.$router.push("/gbmenu/"+this.storeInfo.id+"/"+this.orderInfo.order_id+"/"+t.share_code):this.$router.push("/menu/"+this.storeInfo.id+"/"+this.orderInfo.order_id)},openCouponInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"coupon";"orderListInfo"===this.$route.name&&("voucher"===t?this.show.modal_voucher_info=!0:this.show.modal_coupon_info=!0)},openPromotionInfoModal:function(){this.show.modal_promotion_info=!0},saveServiceFee:function(){var t=this.modalServiceFee.map((function(t){return T({},t,{fee:Number(t.fee)})}));this.$set(this.orderOthers.order_info,"service_fee_list",t),this.show.modal_service_fee=!1},serviceFeeAppend:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e="";switch(t){case 1:e="%";break;case 2:case 3:e="元";break;default:break}return e},serviceFeeMonery:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0;switch(t.type){default:e=t.fee;break}return"$".concat(e)},serviceFeeName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="".concat(t.name," ").concat(t.value);switch(t.value_type){case 2:e+="%";break;default:e+="元";break}return e},toggleEvnet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(t){case"coupon":this.show.coupon=!this.show.coupon;break;default:break}},checkDeliveryWaySupportCupDiscount:function(){var t=l()(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!this.orderOthers.order_info.product&&this.orderOthers.order_info.order_cup_discount&&Object.keys(this.orderOthers.order_info.order_cup_discount).length?this.dataDeliveryWaySupportCupDiscount=!0:this.dataDeliveryWaySupportCupDiscount=!1;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleInvalidCupTotaldiscount:function(t){this.invalidCupTotaldiscount=t}},created:function(){"orderListInfo"===this.$route.name&&this.checkDeliveryWaySupportCupDiscount()},mounted:function(){3!==this.orderInfo.order_type&&this.couponBindingGroup(),this.couponBinding()},computed:(s={hideShippingMoney:function(){var t=this.totalPaid<this.deliveryMinPrice,e=this.showDeliveryThreshold,i=1!==this.storeInfo.delivery_stage_limit_type;return t||e&&i},appliableDiscountName:function(){return this.appliableDiscount.total_discount>0?this.appliableDiscount.list:[]},concatCouponList:function(){var t=_.concat(this.productCouponList,this.followerCouponList),e=[];return t.forEach((function(t){var i=e.findIndex((function(e){return t.name===e.name}));-1!==i?t.item_list?t.item_list.forEach((function(t){var s=e[i].item_list.findIndex((function(e){return t.name===e.name}));-1!==s?e[i].item_list[s].amount=e[i].item_list[s].amount+t.amount:e[i].item_list.push(t)})):(e[i].amount=e[i].amount+t.amount,e[i].unit_discount=e[i].unit_discount+t.unit_discount):e.push(t)})),e},deliveryInfoErrorMessage:function(){return this.$store.state.cart.deliveryInfoErrorMessage}},f()(s,"deliveryInfoErrorMessage",(function(){return this.$store.state.cart.deliveryInfoErrorMessage})),f()(s,"hasPlasticInfo",(function(){var t=this.orderInfo.order_type;return!(!t||3===t)&&this.orderOthers.order_info.plastic_info.plastic_option})),f()(s,"followerCouponAmount",(function(){var t=this.orderOthers.group_buy_follower_order_coupons,e=this.orderOthers.group_buy_follower_order_list,i=0;if(3===this.orderInfo.order_type)return 0;if(t)for(var s in t)i+=t[s].length;return e&&_.isArray(e)&&e.forEach((function(t){t.product_simple.forEach((function(e){t.product_coupon.item_list[e.item_set_uid]&&(i+=t.product_coupon.item_list[e.item_set_uid].coupon_count)}))})),i})),f()(s,"followerCouponList",(function(){var t=[];return this.modal_prod_info_group.forEach((function(e){var i=t.findIndex((function(t){return e.name===t.name}));if(-1!==i){if(1===e.typeCode)t[i].amount=t[i].amount+1;else if(2===e.typeCode){var s=t[i].item_list.findIndex((function(t){return t.name===e.item_list[0].name}));if(-1!==s)t[i].item_list[s].amount=t[i].item_list[s].amount+1;else{var o=0;1===e.typeCode?o=e.discount_value:2===e.typeCode&&(o=e.unit_discount),t[i].item_list.push({amount:1,name:e.item_list[0].name,unit_discount:o})}}}else{var r=0;1===e.typeCode?(r=e.discount_value,t.push({amount:1,name:e.name,unit_discount:r})):2===e.typeCode&&(r=e.unit_discount,t.push({amount:0,name:e.name,item_list:[{name:e.product_name,amount:1,unit_discount:r}]}))}})),t.forEach((function(t){if(2===t.typeCode){var e=0,i=0;t.item_list&&t.item_list.forEach((function(t){e+=t.amount,i+=t.unit_discount})),t.amount=e,t.unit_discount=i}})),t})),f()(s,"followerCouponMoney",(function(){var t=this.orderOthers.group_buy_follower_order_coupons,e=this.orderOthers.group_buy_follower_order_list,i=0;if(3===this.orderInfo.order_type)return 0;if(t)for(var s in t)t[s].forEach((function(t){1===t.discount_type?i+=t.discount_value:2===t.discount_type&&(i+=t.money)}));return e&&_.isArray(e)&&e.forEach((function(t){t.product_simple.forEach((function(e){t.product_coupon.item_list[e.item_set_uid]&&(i+=t.product_coupon.item_list[e.item_set_uid].total_discount)}))})),i})),f()(s,"followerProductVoucherMoney",(function(){var t=this.orderOthers.group_buy_follower_order_list;if(3===this.orderInfo.order_type)return 0;var e=0;if(t)for(var i=0,s=Object.entries(t);i<s.length;i++){var o=a()(s[i],2),r=(o[0],o[1]);e+=r.product_voucher.total_discount}return e})),f()(s,"followerVoucherMoney",(function(){var t=this.orderOthers.group_buy_follower_order_vouchers,e=this.orderOthers.group_buy_follower_order_list,i=0;if(3===this.orderInfo.order_type)return 0;if(t)for(var s in t)t[s].forEach((function(t){1===t.discount_type?i+=t.discount_value:2===t.discount_type&&(i+=t.money)}));return e&&_.isArray(e)&&e.forEach((function(t){t.product_simple.forEach((function(e){t.product_voucher.item_list[e.item_set_uid]&&(i+=t.product_voucher.item_list[e.item_set_uid].total_discount)}))})),i})),f()(s,"followerVoucherAmount",(function(){var t=this.orderOthers.group_buy_follower_order_vouchers,e=this.orderOthers.group_buy_follower_order_list,i=0;if(3===this.orderInfo.order_type)return 0;if(t)for(var s in t)i+=t[s].length;return e&&_.isArray(e)&&e.forEach((function(t){t.product_simple.forEach((function(e){t.product_voucher.item_list[e.item_set_uid]&&(i+=t.product_voucher.item_list[e.item_set_uid].voucher_count)}))})),i})),f()(s,"hasPlasticInfo",(function(){var t=this.orderInfo.order_type;return!(!t||3===t)&&this.orderOthers.order_info.plastic_info.plastic_option})),f()(s,"productCouponAmount",(function(){var t=this.orderOthers.order_info,e=0;return t.product_coupon&&(t.product?t.product.forEach((function(i){1===i.has_coupon&&void 0!==t.product_coupon.item_list[i.item_set_uid]&&(e+=t.product_coupon.item_list[i.item_set_uid].list.length)})):t.product_simple&&t.product_simple.forEach((function(i){void 0!==t.product_coupon.item_list[i.item_set_uid]&&(e+=t.product_coupon.item_list[i.item_set_uid].list.length)}))),e})),f()(s,"productCouponList",(function(){var t=[];return this.modal_prod_info.forEach((function(e){var i=t.findIndex((function(t){return e.name===t.name}));if(-1!==i){if(1===e.typeCode)t[i].amount=t[i].amount+1;else if(2===e.typeCode){var s=t[i].item_list.findIndex((function(t){return t.name===e.item_list[0].name}));if(-1!==s)t[i].item_list[s].amount=t[i].item_list[s].amount+1;else{var o=0;1===e.typeCode?o=e.discount_value:2===e.typeCode&&(o=e.unit_discount),t[i].item_list.push({amount:1,name:e.item_list[0].name,unit_discount:o})}}}else{var r=0;1===e.typeCode?(r=e.discount_value,t.push({amount:1,name:e.name,unit_discount:r})):2===e.typeCode&&(r=e.unit_discount,t.push({amount:0,name:e.name,item_list:[{name:e.product_name,amount:1,unit_discount:r}]}))}})),t.forEach((function(t){if(2===t.typeCode){var e=0,i=0;t.item_list&&t.item_list.forEach((function(t){e+=t.amount,i+=t.unit_discount})),t.amount=e,t.unit_discount=i}})),t})),f()(s,"productCouponMoney",(function(){var t=this.orderOthers.order_info.product_coupon?this.orderOthers.order_info.product_coupon.total_discount:0,e=t;return e})),f()(s,"productVouchers",(function(){var t=[];return this.modal_prod_voucher_info.forEach((function(e){var i=t.findIndex((function(t){return e.name===t.name}));if(-1!==i){var s=t[i].item_list.findIndex((function(t){return t.name===e.item_list[0].name}));-1!==s?t[i].item_list[s].amount=t[i].item_list[s].amount+1:t[i].item_list.push({name:e.item_list[0].name,amount:1})}else t.push({name:e.name,item_list:[{name:e.item_list[0].name,amount:1}]})})),t.forEach((function(t){var e=0;t.item_list.forEach((function(t){e+=t.amount})),t.amount=e})),t})),f()(s,"productVoucherAmount",(function(){var t=this.orderOthers.order_info,e=0;return t.product_voucher&&(t.product?t.product.forEach((function(i){1===i.has_voucher&&void 0!==t.product_voucher.item_list[i.item_set_uid]&&(e+=t.product_voucher.item_list[i.item_set_uid].list.length)})):t.product_simple&&t.product_simple.forEach((function(i){void 0!==t.product_voucher.item_list[i.item_set_uid]&&(e+=t.product_voucher.item_list[i.item_set_uid].list.length)}))),e})),f()(s,"productVoucherMoney",(function(){var t=this.orderOthers.order_info.product_voucher?this.orderOthers.order_info.product_voucher.total_discount:0,e=t;return e})),f()(s,"promotionInfo",(function(){var t=this;return this.storeInfo&&this.storeInfo.cup_activity&&void 0!==this.storeInfo.cup_activity.calc_mode&&0===this.storeInfo.cup_activity.calc_mode&&this.orderAttach&&this.orderAttach.cup_applicable_discount&&this.orderAttach.cup_applicable_discount.total_amount>0?{}:this.appliableDiscount.list.find((function(e){return e.activity_rule_code===t.promotionRuleCode.redGreen}))||{}})),f()(s,"serviceFeeIsEditable",(function(){return this.serviceFees.some((function(t){return 1===t.is_shopper_editable}))})),f()(s,"serviceFeeMoney",(function(){var t=0;if("OnSiteOrderList"===this.$route.name&&this.serviceFees&&this.serviceFees.length&&this.serviceFees.forEach((function(e){t+=e.fee})),"orderListInfo"===this.$route.name||"OnSiteOrderListInfo"===this.$route.name){var e=this.orderOthers.order_info.basic.service_money,i=this.orderOthers.order_info.basic.tip_money,s=this.orderOthers.order_info.basic.cleaning_money;t=e+i+s}return t})),f()(s,"serviceFees",(function(){var t=[];if(("OnSiteOrderList"===this.$route.name||"OnSiteOrderListInfo"===this.$route.name)&&this.orderOthers&&this.orderOthers.order_info&&this.orderOthers.order_info.service_fee_list&&(t=this.orderOthers.order_info.service_fee_list),"orderListInfo"===this.$route.name){var e=this.orderOthers.order_info.basic.service_money;e&&t.push({fee:e,id:1,is_mandatory:0,is_shopper_editable:0,is_show_default:1,name:"服務費",rounding_type:null,type:1,value:null,value_type:null});var i=this.orderOthers.order_info.basic.tip_money;i&&t.push({fee:i,id:2,is_mandatory:0,is_shopper_editable:0,is_show_default:1,name:"小費",rounding_type:null,type:2,value:null,value_type:null});var s=this.orderOthers.order_info.basic.cleaning_money;s&&t.push({fee:s,id:3,is_mandatory:0,is_shopper_editable:0,is_show_default:1,name:"小費",rounding_type:null,type:3,value:null,value_type:null})}return t})),f()(s,"showAmount",(function(){return 2===this.orderInfo.order_type||this.isOfflineOrder?this.orderInfo.total_amount:this.orderInfo.amount})),f()(s,"deliveryMinPrice",(function(){var t=this.storeInfo.delivery_info;if(!t)return 0;var e=t.find((function(t){return 3===t.delivery_type}));return e?e.order_min_price:0})),f()(s,"totalPaid",(function(){var t=this.showMoney,e=this.orderInfo.order_type,i=this.useCoupon.coupon_money+this.followerCouponMoney,s=this.followerVoucherMoney,o=this.orderOthers.order_info.allowance?this.orderOthers.order_info.allowance.total_allowance:0,r=this.orderOthers.order_info.product_coupon?this.orderOthers.order_info.product_coupon.total_discount:0,n=this.orderOthers.order_info.product_voucher?this.orderOthers.order_info.product_voucher.total_discount:0,a=this.pointdiscount.total_discount,c=this.memberdiscount.total_discount,u=this.appliableDiscount.total_discount,d=this.cupApplicableDiscount?this.cupApplicableDiscount.total_discount:0,l=this.invalidCupTotaldiscount?this.invalidCupTotaldiscount:0;this.$store.commit("order/setCouponMoney",i||0),this.$store.commit("order/setProductCouponMoney",r||0),this.$store.commit("order/setVoucherMoney",s||0),this.$store.commit("order/setProductVoucherMoney",n||0),this.$store.commit("order/setAllowance",o||0),this.$store.commit("order/setPointDiscount",a||0),this.$store.commit("order/setMemberDiscount",c||0),this.$store.commit("order/setStoreDiscount",u||0),this.$store.commit("order/setCupApplicableDiscount",d||0),this.$store.commit("order/setInvalidCupTotaldiscount",l||0);var M=0;3!==e&&(M=this.orderOthers.order_info.plastic_info?this.orderOthers.order_info.plastic_info.money:0);var h=this.shippingMoney;if(i&&(t-=i),s&&(t-=s),o&&(t-=o),r&&(t-=r),n&&(t-=n),u){var p=this.storeInfo&&this.storeInfo.cup_activity,m=p&&p.calc_mode,g=this.orderAttach&&this.orderAttach.cup_applicable_discount&&this.orderAttach.cup_applicable_discount.total_discount>0;p&&0===m&&(0!==m||g)||(t-=u)}if(a&&(t-=a),c&&(t-=c),d&&(t-=d),this.hasPlasticInfo&&this.needPlasticBag&&M&&(t+=M),3===this.orderInfo.delivery_type){var _=100*Math.floor(this.orderInfo.delivery_distance/100),f=this.storeInfo.shipping_fee_type,y=t>=this.deliveryMinPrice,I=!this.shippingItem.end_distance||_<=this.shippingItem.end_distance,N=this.showDeliveryThreshold&&1!==this.storeInfo.delivery_stage_limit_type;f&&y&&I&&h&&!N&&(t+=h)}return this.serviceFeeMoney&&(t+=this.serviceFeeMoney),this.isOfflineOrder&&(t=this.orderInfo.total_paid_money),this.$set(this.orderAttach,"total_money",t),t})),f()(s,"cupActivityCalcModeActive",(function(){var t,e,i,s,o=null===(t=this.storeInfo)||void 0===t?void 0:null===(e=t.cup_activity)||void 0===e?void 0:e.calc_mode,r=null===(i=this.orderAttach)||void 0===i?void 0:null===(s=i.cup_applicable_discount)||void 0===s?void 0:s.total_discount;return!(void 0!==o&&0===o&&r&&r>0)})),s)},A=w,z=(i("45c0"),i("2877")),C=Object(z["a"])(A,o,r,!1,null,"1044fb87",null);e["a"]=C.exports},"98c2":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s}));var s={"@context":"https://schema.org","@type":"LocalBusiness",address:{"@type":"PostalAddress",addressCountry:"TW",addressLocality:"",addressRegion:"",streetAddress:"",postalCode:""},image:[],name:"",description:"",openingHours:[],priceRange:"$",telephone:"",email:"",url:"",geo:{"@type":"GeoCoordinates",latitude:"",longitude:""},sameAs:[],paymentAccepted:[],aggregateRating:{"@type":"AggregateRating",ratingValue:"",ratingCount:""}},o={"@context":"https://schema.org","@type":"Product",aggregateRating:{"@type":"AggregateRating",ratingCount:0,ratingValue:0},brand:{"@type":"Brand",name:""},description:"",image:[],mpn:"",name:"",offers:{"@type":"AggregateOffer",availability:"https://schema.org/InStock",highPrice:0,itemCondition:"https://schema.org/NewCondition",lowPrice:0,offerCount:0,priceCurrency:"TWD",seller:{"@type":"Organization",name:""},url:""},productID:"",review:{"@type":"Review",reviewRating:{"@type":"Rating",bestRating:0,ratingValue:0},author:{"@type":"Organization",name:"Nidin"}},sku:""}},9927:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjEgMTcuODI1QzEyLjM2NjcgMTcuODI1IDEyLjU5MTcgMTcuNzMzMyAxMi43NzUgMTcuNTVDMTIuOTU4MyAxNy4zNjY3IDEzLjA1IDE3LjE0MTcgMTMuMDUgMTYuODc1QzEzLjA1IDE2LjYwODMgMTIuOTU4MyAxNi4zODMzIDEyLjc3NSAxNi4yQzEyLjU5MTcgMTYuMDE2NyAxMi4zNjY3IDE1LjkyNSAxMi4xIDE1LjkyNUMxMS44MzMzIDE1LjkyNSAxMS42MDgzIDE2LjAxNjcgMTEuNDI1IDE2LjJDMTEuMjQxNyAxNi4zODMzIDExLjE1IDE2LjYwODMgMTEuMTUgMTYuODc1QzExLjE1IDE3LjE0MTcgMTEuMjQxNyAxNy4zNjY3IDExLjQyNSAxNy41NUMxMS42MDgzIDE3LjczMzMgMTEuODMzMyAxNy44MjUgMTIuMSAxNy44MjVaTTExLjIyNSAxNC4xNzVIMTIuN0MxMi43IDEzLjc0MTcgMTIuNzU0MiAxMy4zNDU4IDEyLjg2MjUgMTIuOTg3NUMxMi45NzA4IDEyLjYyOTIgMTMuMzA4MyAxMi4yMTY3IDEzLjg3NSAxMS43NUMxNC4zOTE3IDExLjMxNjcgMTQuNzU4MyAxMC44OTE3IDE0Ljk3NSAxMC40NzVDMTUuMTkxNyAxMC4wNTgzIDE1LjMgOS42IDE1LjMgOS4xQzE1LjMgOC4yMTY2NyAxNS4wMTI1IDcuNTA4MzMgMTQuNDM3NSA2Ljk3NUMxMy44NjI1IDYuNDQxNjcgMTMuMSA2LjE3NSAxMi4xNSA2LjE3NUMxMS4zMzMzIDYuMTc1IDEwLjYxMjUgNi4zNzkxNyA5Ljk4NzUgNi43ODc1QzkuMzYyNSA3LjE5NTgzIDguOTA4MzMgNy43NTgzMyA4LjYyNSA4LjQ3NUw5Ljk1IDguOTc1QzEwLjEzMzMgOC41MDgzMyAxMC40MDgzIDguMTQ1ODMgMTAuNzc1IDcuODg3NUMxMS4xNDE3IDcuNjI5MTcgMTEuNTc1IDcuNSAxMi4wNzUgNy41QzEyLjY0MTcgNy41IDEzLjEgNy42NTQxNyAxMy40NSA3Ljk2MjVDMTMuOCA4LjI3MDgzIDEzLjk3NSA4LjY2NjY3IDEzLjk3NSA5LjE1QzEzLjk3NSA5LjUxNjY3IDEzLjg2NjcgOS44NjI1IDEzLjY1IDEwLjE4NzVDMTMuNDMzMyAxMC41MTI1IDEzLjExNjcgMTAuODUgMTIuNyAxMS4yQzEyLjIgMTEuNjMzMyAxMS44MjkyIDEyLjA2MjUgMTEuNTg3NSAxMi40ODc1QzExLjM0NTggMTIuOTEyNSAxMS4yMjUgMTMuNDc1IDExLjIyNSAxNC4xNzVaTTEyIDIyQzEwLjYzMzMgMjIgOS4zNDE2NyAyMS43Mzc1IDguMTI1IDIxLjIxMjVDNi45MDgzMyAyMC42ODc1IDUuODQ1ODMgMTkuOTcwOCA0LjkzNzUgMTkuMDYyNUM0LjAyOTE3IDE4LjE1NDIgMy4zMTI1IDE3LjA5MTcgMi43ODc1IDE1Ljg3NUMyLjI2MjUgMTQuNjU4MyAyIDEzLjM2NjcgMiAxMkMyIDEwLjYxNjcgMi4yNjI1IDkuMzE2NjcgMi43ODc1IDguMUMzLjMxMjUgNi44ODMzMyA0LjAyOTE3IDUuODI1IDQuOTM3NSA0LjkyNUM1Ljg0NTgzIDQuMDI1IDYuOTA4MzMgMy4zMTI1IDguMTI1IDIuNzg3NUM5LjM0MTY3IDIuMjYyNSAxMC42MzMzIDIgMTIgMkMxMy4zODMzIDIgMTQuNjgzMyAyLjI2MjUgMTUuOSAyLjc4NzVDMTcuMTE2NyAzLjMxMjUgMTguMTc1IDQuMDI1IDE5LjA3NSA0LjkyNUMxOS45NzUgNS44MjUgMjAuNjg3NSA2Ljg4MzMzIDIxLjIxMjUgOC4xQzIxLjczNzUgOS4zMTY2NyAyMiAxMC42MTY3IDIyIDEyQzIyIDEzLjM2NjcgMjEuNzM3NSAxNC42NTgzIDIxLjIxMjUgMTUuODc1QzIwLjY4NzUgMTcuMDkxNyAxOS45NzUgMTguMTU0MiAxOS4wNzUgMTkuMDYyNUMxOC4xNzUgMTkuOTcwOCAxNy4xMTY3IDIwLjY4NzUgMTUuOSAyMS4yMTI1QzE0LjY4MzMgMjEuNzM3NSAxMy4zODMzIDIyIDEyIDIyWk0xMiAyMC41QzE0LjM2NjcgMjAuNSAxNi4zNzUgMTkuNjcwOCAxOC4wMjUgMTguMDEyNUMxOS42NzUgMTYuMzU0MiAyMC41IDE0LjM1IDIwLjUgMTJDMjAuNSA5LjYzMzMzIDE5LjY3NSA3LjYyNSAxOC4wMjUgNS45NzVDMTYuMzc1IDQuMzI1IDE0LjM2NjcgMy41IDEyIDMuNUM5LjY1IDMuNSA3LjY0NTgzIDQuMzI1IDUuOTg3NSA1Ljk3NUM0LjMyOTE3IDcuNjI1IDMuNSA5LjYzMzMzIDMuNSAxMkMzLjUgMTQuMzUgNC4zMjkxNyAxNi4zNTQyIDUuOTg3NSAxOC4wMTI1QzcuNjQ1ODMgMTkuNjcwOCA5LjY1IDIwLjUgMTIgMjAuNVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="},"994c":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{value:t.show,maximized:t.$q.screen.lt.sm},on:{hide:function(e){return t.$emit("update:show",!1)}}},[s("q-card",{staticClass:"q-card bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){return t.$emit("update:show",!1)}}}),s("div",[s("div",{staticClass:"text-bold full-width text-center header-text font-size-subtitle-1 q-mb-md"},[t._v("\n        兌換紀錄\n      ")]),s("hr")]),s("q-card-section",{staticClass:"col q-px-none q-pb-sm min-height scroll"},[t.showLoading?s("div",{staticClass:"row justify-center q-my-md"},[s("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1):t.list.length?s("q-infinite-scroll",{ref:"loading",staticClass:"full-width",attrs:{offset:250},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[s("div",{staticClass:"row justify-center q-my-md"},[s("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},t._l(t.list,(function(e,o){return s("div",{key:"item-"+o,staticClass:"row nd-pt-3 nd-pb-3 border-bottom items-center"},[s("div",{staticClass:"col-auto q-pr-md"},[s("q-img",{attrs:{src:e.point_product_thumb||i("a43e"),ratio:1,"img-class":"nd-rounded-[10px]",width:"46px"}})],1),s("div",{staticClass:"col font-size-caption"},[s("div",{staticClass:"font-size-subtitle-2"},[t._v("\n              "+t._s(e.name)+"\n            ")]),s("div",{staticClass:"nd-text-neutral-6"},[t._v("兌換時間："+t._s(e.order_time))]),s("div",{staticClass:"nd-text-neutral-6 no-warp"},[t._v("\n              兌換數量："+t._s(e.amount||1)+" 份\n            ")]),s("div",{staticClass:"whitespace-nowrap scroll nd-text-neutral-6"},[t._v(t._s(t.prizeText(e.coupon_list)))])]),s("div",{staticClass:"col-auto flex items-center text-weight-medium"},[t._v("\n            -"+t._s(e.total_point)+"\n          ")])])})),0):s("div",{staticClass:"row full-width"},[s("nd-spinner",{staticClass:"items-center",attrs:{name:"record_empty",description:t.$t("spinner.exchange_empty")}})],1)],1)],1)],1)},o=[],r=(i("7f7f"),i("551c"),i("06db"),i("097d"),i("c5f6"),i("791e")),n={name:"NdExchangeRecord",mixins:[r["a"]],props:{show:Boolean,orderId:Number},data:function(){return{page:1,count:20,list:[],total:0,showLoading:!0}},created:function(){this.orderId?this.getExchangOrderRecord():this.getExchangRecord()},methods:{onLoad:function(t,e){var i=this;this.total>this.count*this.page?setTimeout((function(){i.page++,i.getExchangRecord(),e()}),2e3):this.$refs.loading.stop()},getExchangRecord:function(){var t=this;if(this.getUId){var e="/pointMall/user/".concat(this.getUId,"/history?page=").concat(this.page,"&count=").concat(this.count);this.getData(e,null).then((function(e){200===e.data.status&&(t.total=e.data.total,t.list=e.data.list)})).catch((function(t){})).finally((function(){t.showLoading=!1}))}},getExchangOrderRecord:function(){var t=this;if(this.getUId){this.list=[];var e="/pointMall/user/".concat(this.getUId,"/order/").concat(this.orderId);this.getData(e,null).then((function(e){200===e.data.status&&t.list.push(e.data.info)})).catch((function(t){})).finally((function(){t.showLoading=!1}))}},prizeText:function(t){var e=t.map((function(t){return"".concat(t.name).concat(t.amount,"張")}));return e.join("＋")}}},a=n,c=(i("1a50"),i("2877")),u=Object(c["a"])(a,s,o,!1,null,"f7be806a",null);e["a"]=u.exports},"99cc":function(t,e,i){"use strict";var s=i("45d7"),o=i.n(s);o.a},"9f59":function(t,e,i){"use strict";var s=i("967e"),o=i.n(s),r=(i("96cf"),i("fa84")),n=i.n(r),a=(i("551c"),i("06db"),i("791e"));e["a"]={mixins:[a["a"]],methods:{openInvalidDailog:function(t){var e=this;return new Promise((function(i){e.$q.dialog({class:"nidin-dialog invalid-dailog",title:e.$t("fet_bind.modal.invalid_title"),message:e.$t("fet_bind.modal.invalid_msg"),html:!0,ok:{label:e.$t("fet_bind.modal.unbind_title"),color:"primary",textColor:"white"},cancel:{label:e.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk(n()(o.a.mark((function s(){return o.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.unbindAccount(t);case 2:i("unbind");case 3:case"end":return s.stop()}}),s)})))).onCancel((function(){i("cancel")}))}))},openUnbindDialog:function(t){var e=this;return new Promise((function(i){var s=e.$t("fet_bind.modal.msg.1")+'<div class="text-secondary q-my-sm">'+e.$t("fet_bind.modal.msg.2")+"<br>"+e.$t("fet_bind.modal.msg.3")+"</div>";e.$q.dialog({class:"nidin-dialog",title:e.$t("fet_bind.modal.unbind_title"),message:s,html:!0,ok:{label:e.$t("fet_bind.modal.ok"),color:"primary",textColor:"white"},cancel:{label:e.$t("fet_bind.modal.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk(n()(o.a.mark((function s(){return o.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.unbindAccount(t);case 2:i("unbind");case 3:case"end":return s.stop()}}),s)})))).onCancel((function(){i("cancel")}))}))},getFetBindList:function(){var t=n()(o.a.mark((function t(e){var i,s;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return i="user/".concat(e,"/fetSubscriptionList"),t.prev=3,t.next=6,this.getDataH(i,null);case 6:if(s=t.sent,200!==s.status){t.next=11;break}return t.abrupt("return",s.data.list);case 11:return t.abrupt("return",[]);case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t["catch"](3),t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,this,[[3,14]])})));function e(e){return t.apply(this,arguments)}return e}(),getFetSubscription:function(){var t=n()(o.a.mark((function t(e,i){var s,r,n,a,c,u,d,l,M,h;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e&&i){t.next=2;break}return t.abrupt("return");case 2:if(s=909==e.trade_type,s){t.next=5;break}return t.abrupt("return");case 5:if(r=e.shopper_id,n=e.store_id,a=e.delivery_type,r&&n&&void 0!==a){t.next=8;break}return t.abrupt("return");case 8:return c="user/".concat(r,"/fetSubscription/").concat(n),t.next=11,this.getData(c,{delivery_type:a}).then((function(t){var e=t.data.info||{};return e.is_valid=t.data.is_valid,e})).catch((function(t){}));case 11:if(u=t.sent,this.$set(i,"pay_phone",u.pay_phone),this.$set(i,"fetdpay_id",u.id),this.$set(i,"is_valid",u.is_valid),d=u.id,l=0==u.is_valid,M=document.querySelector(".invalid-dailog"),!d||!l||M){t.next=25;break}return t.next=21,this.openInvalidDailog(u.id);case 21:if(h=t.sent,"unbind"!=h){t.next=25;break}return t.next=25,this.getFetSubscription(e,i);case 25:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),unbindAccount:function(){var t=n()(o.a.mark((function t(e){var i,s;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="user/".concat(this.getUId,"/fetTradeInfo/").concat(e),t.prev=1,t.next=4,this.delDataH(i,null);case 4:if(s=t.sent,200===s.status){t.next=7;break}throw"解除綁定失敗";case 7:this.$q.notify({icon:"check_circle",message:"解除綁定門號成功",color:"positive",timeout:2500,position:"bottom"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(e){return t.apply(this,arguments)}return e}()}}},a0e9:function(t,e,i){"use strict";var s=i("d8ae"),o=i.n(s);o.a},a1d6:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNSAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE2Ljc1MjMgMTIuNzYxMkMxNi44MDg0IDEyLjcwNTEgMTYuODU1MiAxMi42NDkgMTYuODgzMyAxMi41NzQxQzE2Ljg4MzMgMTIuNTc0MSAxNi44ODMzIDEyLjU3NDEgMTYuODgzMyAxMi41NjQ4QzE2Ljg4MzMgMTIuNTU1NCAxNi44ODMzIDEyLjU0NjEgMTYuODkyNiAxMi41MzY3QzE2LjkyMDcgMTIuNDcxMiAxNi45MzAxIDEyLjQwNTcgMTYuOTM5NCAxMi4zNDAzQzE2LjkzOTQgMTIuMzIxNSAxNi45Mzk0IDEyLjI5MzUgMTYuOTM5NCAxMi4yNzQ4QzE2LjkzOTQgMTIuMjE4NiAxNi45MzAxIDEyLjE2MjUgMTYuOTExMyAxMi4xMDY0QzE2LjkwMiAxMi4wODc3IDE2LjkwMiAxMi4wNjkgMTYuODkyNiAxMi4wNTAzQzE2Ljg2NDYgMTEuOTg0OCAxNi44MjcyIDExLjkxOTMgMTYuNzgwNCAxMS44NjMyTDEyLjE0OTcgNi43MDg2M0MxMS45MTU5IDYuNDM3MzQgMTEuNDk0OSA2LjQwOTI3IDExLjIyMzYgNi42NTI1QzEwLjk1MjMgNi44OTU3MiAxMC45MzM2IDcuMzA3MzQgMTEuMTc2OCA3LjU3ODYzTDE0LjgyNTIgMTEuNjQ4SDQuNDg4MDlDNC4xMjMyNSAxMS42NDggMy44MzMyNSAxMS45NDczIDMuODMzMjUgMTIuMzAyOEMzLjgzMzI1IDEyLjY1ODMgNC4xMjMyNSAxMi45NTc3IDQuNDg4MDkgMTIuOTU3N0gxNC42NTY4TDExLjIwNDkgMTYuMjc4NkMxMC45NDI5IDE2LjUzMTIgMTAuOTMzNiAxNi45NDI4IDExLjE4NjIgMTcuMjA0OEMxMS4zMTcxIDE3LjMzNTcgMTEuNDg1NSAxNy40MDEyIDExLjY1MzkgMTcuNDAxMkMxMS44MTI5IDE3LjQwMTIgMTEuOTgxMyAxNy4zMzU3IDEyLjExMjMgMTcuMjE0MUwxNi43MzM2IDEyLjc2MTJDMTYuNzQzIDEyLjc3MDYgMTYuNzQzIDEyLjc2MTIgMTYuNzUyMyAxMi43NjEyWiIgZmlsbD0iIzFEMjEyOSIvPgo8cGF0aCBkPSJNMjAuMzA3MiAyLjY2Njk5SDEzLjcwMjdDMTMuMzM3OSAyLjY2Njk5IDEzLjA0NzkgMi45NTY5OSAxMy4wNDc5IDMuMzIxODNDMTMuMDQ3OSAzLjY4NjY3IDEzLjMzNzkgMy45NzY2NyAxMy43MDI3IDMuOTc2NjdIMTkuNjUyNFYxOS45MTc0SDEzLjcwMjdDMTMuMzM3OSAxOS45MTc0IDEzLjA0NzkgMjAuMjA3NCAxMy4wNDc5IDIwLjU3MjJDMTMuMDQ3OSAyMC45MzcgMTMuMzM3OSAyMS4yMjcgMTMuNzAyNyAyMS4yMjdIMjAuMzA3MkMyMC42NzIxIDIxLjIyNyAyMC45NjIxIDIwLjkzNyAyMC45NjIxIDIwLjU3MjJWMy4zMjE4M0MyMC45NjIxIDIuOTU2OTkgMjAuNjcyMSAyLjY2Njk5IDIwLjMwNzIgMi42NjY5OVoiIGZpbGw9IiMxRDIxMjkiLz4KPC9zdmc+Cg=="},a40b:function(t,e,i){"use strict";var s=i("3aa2"),o=i.n(s);o.a},a43e:function(t,e,i){t.exports=i.p+"img/product_default.383e2efc.jpg"},a62e:function(t,e,i){"use strict";e["a"]={methods:{linkMap:function(t){return 6296===t.id&&"桃園市八德區桃鶯路62號"===t.address?"https://www.google.com/maps/place/334%E6%A1%83%E5%9C%92%E5%B8%82%E5%85%AB%E5%BE%B7%E5%8D%80%E6%A1%83%E9%B6%AF%E8%B7%AF62%E8%99%9F/@24.9707788,121.3249307,17z/data=!3m1!4b1!4m5!3m4!1s0x34681ec136605861:0x417f969c1cec8629!8m2!3d24.970774!4d121.3271194":6815===t.id&&"桃園市八德區中山路107號"===t.address?"https://www.google.com/maps/place/334%E6%A1%83%E5%9C%92%E5%B8%82%E5%85%AB%E5%BE%B7%E5%8D%80%E4%B8%AD%E5%B1%B1%E8%B7%AF107%E8%99%9F/@24.9280724,121.2846129,20.59z/data=!4m5!3m4!1s0x3468188cbbda3407:0x30072a1ead638ecf!8m2!3d24.9281349!4d121.284651":681===t.id&&"新北市板橋區區運路105號"===t.address?"https://goo.gl/maps/BCnruhcupgB26rkx9":18646===t.id&&"新北市中和區圓通路335巷333號"===t.address?"https://maps.app.goo.gl/AeTBgxtjqC1Hbnbj7":6293===t.id&&"桃園市桃園區桃鶯路142號"===t.address?"https://maps.app.goo.gl/1d3LV2u5eBoEvGHH6":9958===t.id&&"高雄市左營區左營大路87號"===t.address?"https://maps.app.goo.gl/t1hxD4Si8QX2SdiV7":15886===t.id&&"高雄市左營區左營大路47號"===t.address?"https://maps.app.goo.gl/YserG2GABZxioE3M7":"https://www.google.com/maps/place/"+t.address+"/@"+t.latitude+","+t.longitude+",17z"}}}},a9f8:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._e(),t.orderOthers.order_info.product_simple?s("div",{staticClass:"q-mt-md"},t._l(t.products,(function(e,i){return i<t.showListAmount(t.products.length)?s("div",{key:"main-prod-"+i,staticClass:"block q-pa-md prod-list"},[s("div",{staticClass:"flex justify-between no-wrap"},[s("div",{staticClass:"q-mb-sm"},[s("div",{staticClass:"text-bold q-py-xs"},[t._v("\n            "+t._s(t.getProdName(e.name,e))+"\n            "),e.is_disabled||t.isDisTime_prod(e)&&3!==t.orderType?s("div",{staticClass:"q-my-xs q-mr-sm i-m-none inline-block"}):t.isDisTime_prod(e)?s("div",{staticClass:"q-my-xs q-mr-sm i-m-none-time inline-block"}):t._e()]),s("div",{staticClass:"col"},[s("prod-detail",{staticClass:"col",attrs:{prodSimple:e,type:t.orderOthers.order_info.product?1:0,disableList:t.disableList,storeInfo:t.storeInfo,orderType:t.orderInfo.order_type}})],1)]),s("div",{staticClass:"flex q-ml-auto no-wrap col-auto"},[t.canEdit?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex col-auto items-top q-mr-md",on:{click:function(i){return t.openProdModal(e.item_set_uid,e)}}},[s("div",{staticClass:"cursor-pointer "},[s("q-avatar",{staticClass:"b-button",attrs:{size:"32px"}},[s("q-icon",{attrs:{name:"fas fa-pencil-alt",size:"12px",color:"white"}})],1)],1)]):t._e(),t.canEdit?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex col-auto items-top",on:{click:function(i){return t.delItemSet(e)}}},[s("div",{staticClass:"cursor-pointer"},[s("q-avatar",{attrs:{size:"32px",color:"grey-5","text-color":"white"}},[s("q-icon",{attrs:{name:"fas fa-trash-alt",size:"12px",color:"white"}})],1)],1)]):t._e()])])]):t._e()})),0):t._e(),t._e(),t.orderOthers.order_info.product_simple.length||t.followerList.length?t._e():s("div",{staticClass:"flex flex-center",staticStyle:{height:"150px"}},[t._v("\n    趕快去加點商品吧！\n  ")]),t.showOrderListAll&&t.canEdit&&2===t.orderInfo.order_type&&20!==this.orderInfo.group_buying_status?s("div",{staticClass:"flex flex-center text-center q-mt-lg"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer bg-white border-around text-grey-6 text-bold",attrs:{disabled:!t.can_refresh},on:{click:t.refreshOrder}},[s("q-icon",{attrs:{name:"fas fa-sync-alt",size:"15px",color:"grey-6"}}),t._v("\n      重新取得團員訂單\n    ")],1)]):t._e(),t.showMoreBtn&&"VendorOrderListInfo"!==t.$route.name?s("div",{staticClass:"flex flex-center text-center q-mt-md"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"shopping-more-btn cursor-pointer",on:{click:t.toggleOrderList}},[s("span",[t._v("\n        "+t._s(t.showMoreBtnText)+"\n      ")]),s("q-icon",{staticClass:"shopping-icon",attrs:{name:t.showOrderListAll?"fas fa-chevron-up":"fas fa-chevron-down",size:"12px",color:"primary"}})],1)]):t._e(),t.prod_id?s("div",[s("menu-modal",{attrs:{disableList:t.disableList,editProd:t.edit_prod,getOrderInfo:t.getOrderInfo,iconList:t.iconList,itemSetUid:t.item_set_uid,imgList:t.imgList,layout:t.layout,menu:t.menu,menuInfo:t.menuInfo,modalShow:t.show,orderId:t.$route.params.order_id,orderInfo:t.orderInfo,orderOthers:t.orderOthers,prodId:t.prod_id,storeInfo:t.storeInfo,useCoupon:t.useCoupon},on:{clearEditProd:t.clearEditProd}})],1):t._e(),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_follower,callback:function(e){t.$set(t.show,"modal_follower",e)},expression:"show.modal_follower"}},[s("q-card",{staticClass:"bg-white nidin-modal min-h-none"},["VendorOrderListInfo"!==t.$route.name?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer text-right",on:{click:function(e){t.show.modal_follower=!1}}},[s("q-icon",{attrs:{name:"fas fa-times-circle",color:"secondary",size:"18px"},on:{click:function(e){t.show.modal_service=!1}}})],1):t._e(),s("div",{staticClass:"flex justify-between q-mb-sm"},[s("div",{staticClass:"flex col"},[s("div",{staticClass:"col-auto flex flex-center"},[s("q-avatar",[s("q-img",{attrs:{src:t.follower_info.contact_mugshot||t.nidinImg,ratio:1}})],1)],1),s("div",{staticClass:"font-size-subtitle-1 q-pl-md col flex items-center"},[s("span",{staticClass:"text-bold cursor-pointer"},[t._v("\n              "+t._s(t.follower_info.contact_name)+"\n            ")]),s("br")])]),s("div",{staticClass:"col-auto q-pr-sm flex flex-center"},[t.canEdit?t._e():s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer flex items-center text-bold",on:{click:function(e){return t.updateMoney(t.follower_info)}}},[s("q-icon",{staticClass:"q-mr-xs",staticStyle:{bottom:"-1px"},attrs:{name:"monetization_on",size:"20px",color:t.follower_info.is_collect_money?"warning":"grey-5"}}),t.follower_info.product_simple?s("span",{staticClass:"q-mr-sm"},[t._v("\n              "+t._s(t.singlePeoplePrice(t.follower_info.product_simple))+"\n            ")]):t._e()],1)])]),s("div",[s("hr",{staticClass:"q-my-md"}),s("div",{staticClass:"flex"},[s("div",{staticClass:"font-size-subtitle-1 q-ml-sm"},[t.follower_info.contact_method_remark?s("small",[s("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-phone"}}),t._v("\n                \n              "+t._s(t.follower_info.contact_method_remark)+"\n              "),s("br")],1):t._e(),t.follower_info.member_remark?s("small",[s("q-icon",{staticClass:"q-mr-sm",attrs:{name:"message"}}),t._v("\n                \n              "+t._s(t.follower_info.member_remark)+"\n              "),s("br")],1):t._e(),s("small",[s("q-icon",{staticClass:"q-mr-sm",staticStyle:{top:"-1px"},attrs:{name:"monetization_on",color:t.follower_info.is_collect_money?"warning":"grey-8",size:"18px"}}),t._v("\n               \n              "+t._s(t.collectMoney(t.follower_info.is_collect_money))+"\n              "),s("br")],1),t.followerCoupon.length?s("small",[s("q-icon",{staticClass:"q-mr-sm",staticStyle:{top:"-1px"},attrs:{name:"fas fa-ticket-alt"}}),t._v("\n                \n              使用"+t._s(t.followerCoupon.length)+"張優惠券，共折"+t._s(t.followerCount)+"元\n              "),s("br")],1):t._e()])])])])],1),s("q-dialog",{attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.alert_show.single_coupon,callback:function(e){t.$set(t.alert_show,"single_coupon",e)},expression:"alert_show.single_coupon"}},[s("q-card",{staticClass:"q-card w-100 flex column no-wrap bg-gray-6",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("div",{staticClass:"q-pa-md bg-white"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.alert_show.single_coupon=!1}}}),s("div",{staticClass:"text-weight-medium font-size-subtitle-1"},[t._v("\n          可使用的"+t._s(t.selectTebName)+"\n        ")])]),s("q-card-section",{staticClass:"col-shrink scroll q-pa-none"},[s("div",{staticClass:"text-gray-2 font-size-caption q-pa-md"},["voucher"===t.selectTicketType?s("div",[t._v("\n            每件商品，僅能使用一張商品券，若使用商品券，此件商品不再計入其他優惠折扣\n          ")]):t._e(),s("div",[t._v("【最多可使用 "+t._s(t.canUseLimit)+" 張】")])]),s("div",{staticClass:"q-mb-md q-mx-md"},[s("div",["voucher"===t.selectTicketType?t._l(t.appliable_prod_voucher,(function(e,i){return s("div",{key:"voucher-"+i,class:{"q-pb-sm":i!==t.appliable_prod_voucher.length-1}},[s("voucher-card",{attrs:{voucherInfo:e,storeInfo:t.storeInfo,clickVoucher:t.clickVoucher,chooseCodes:t.voucher_codes,edit:!t.ticketCanUse}})],1)})):t._l(t.appliable_prod_coupon,(function(e,i){return s("div",{key:"coupon-"+e.coupon_item_id,class:{"q-pb-sm":i!==t.appliable_prod_coupon.length-1}},[s("coupon-card-v2",{attrs:{singleCouponInfo:e,clickCoupon:t.clickCoupon,chooseCodes:t.coupon_codes,edit:!t.ticketCanUse}})],1)}))],2)])]),s("q-card-actions",{staticClass:"col-auto row q-mt-auto q-pt-md border-top bg-white"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{class:["btn-primary full-width b-bg-secondary",{disabled:t.ticketCanUse}],attrs:{disabled:t.show.btn_spinner},on:{click:function(e){return t.saveOrderInfo()}}},[t.show.btn_spinner?s("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):t.coupon_codes.length?s("span",[t._v("\n              選擇 "+t._s(t.displaySelectTicketAmount)+" 張"+t._s(t.selectTebName)+"\n            ")]):s("span",[t._v("\n              "+t._s(t.$t("common.confirm"))+"\n            ")])],1)],1)])],1)],1)],1)},o=[],r=(i("6b54"),i("967e")),n=i.n(r),a=(i("551c"),i("96cf"),i("fa84")),c=i.n(a),u=(i("7514"),i("5df3"),i("4f7f"),i("4db1")),d=i.n(u),l=(i("8615"),i("6762"),i("2fdb"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("8993")),M=i.n(l),h=(i("20d6"),i("7f7f"),i("c5f6"),i("791e")),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[1===t.type?i("div",{staticClass:"flex items-center text-gray-2 font-size-caption"},[1===t.prodSimple.type?i("span",[t._l(t.prodSimple.options,(function(e,s){return i("span",{key:s},[t._v("\n        "+t._s(e.name)+"\n        "),e.amount>1?i("span",[t._v("\n          x"+t._s(e.amount)+"\n        ")]):t._e(),t._v("\n        /\n      ")])})),t._l(t.prodSimple.adjusts,(function(e,s){return i("span",{key:s},t._l(e.options,(function(e,s){return i("span",{key:s},[i("span",{class:[{"text-del":e.is_disabled}]},[t._v("\n            "+t._s(e.name)+"\n            "),e.amount>1?i("span",[t._v("\n              x"+t._s(e.amount)+"\n            ")]):t._e()]),t._v("\n          /\n        ")])})),0)})),t._e(),t._e(),i("span",[t._v("\n        "+t._s(t.prodSimple.amount)+"份\n      ")])],2):3===t.prodSimple.type&&(t.prodSimple.items.length||t.prodSimple.blocks.length)?i("span",[t._l(t.prodSimple.blocks,(function(e,s){return i("span",{key:s},t._l(e.items,(function(e,s){return i("span",{key:s},[i("span",{class:[{"text-del":e.is_disabled}]},[t._v("\n            "+t._s(e.name)+"\n          ")]),e.amount>1?i("span",[t._v("\n            x"+t._s(e.amount)+"\n          ")]):t._e(),t._v("\n          /\n        ")])})),0)})),t._l(t.prodSimple.items,(function(e,s){return i("span",{key:"package-prod-"+e.set_uid+"-"+s},[i("span",{class:[{"text-del":e.is_disabled}]},[t._v("\n          "+t._s(e.name)+"\n        ")]),e.amount>1?i("span",[t._v("\n          x"+t._s(e.amount)+"\n        ")]):t._e(),t._v("\n        /\n      ")])})),i("span",[t._v("\n        $"+t._s(t.prodSimple.total_price)+" / "+t._s(t.prodSimple.amount)+"份\n      ")])],2):t._e()]):i("div",{staticClass:"flex items-center text-gray-2 font-size-caption"},[1===t.prodSimple.type?i("span",[t.prodSimple.additional_name?i("span",[t._v("\n        "+t._s(t.spiltString(t.prodSimple.additional_name))+" /\n      ")]):t._e(),t._e(),t._e(),i("span",[t._v("\n        "+t._s(t.prodSimple.amount)+"份\n      ")])]):3===t.prodSimple.type&&t.prodSimple.items.length?i("span",[t._l(t.prodSimple.items,(function(e,s){return i("span",{key:"package-prod-"+e.set_uid+"-"+s},[t._v("\n        "+t._s(e.name)+"\n        "),e.amount>1?i("span",[t._v("\n          x"+t._s(e.amount)+"\n        ")]):t._e(),t._v("\n        /\n      ")])})),i("span",[t._v("\n        $"+t._s(t.prodSimple.total_price||t.prodSimple.price)+" / "+t._s(t.prodSimple.amount)+"份\n      ")])],2):t._e()]),3===t.prodSimple.type&&(t.prodSimple.items.length||t.prodSimple.blocks.length)&&1===t.type?i("div",{staticClass:"text-gray-2"},t._l(t.prodSimple.blocks,(function(e,s){return i("div",{key:s,staticClass:"font-size-caption"},t._l(e.items,(function(e,s){return e.options.length||e.adjusts.length?i("div",{key:s},[t._v("\n        特製調整"+t._s(e.name)+" -\n        "),t._l(e.options,(function(e,s){return i("span",{key:s},[t._v("\n          "+t._s(e.name)+"\n          "),e.amount>1?i("span",[t._v("\n            x"+t._s(e.amount)+"\n          ")]):t._e(),t._v("\n          /\n        ")])})),t._l(e.adjusts,(function(s,o){return i("span",{key:o},t._l(s.options,(function(r,n){return i("span",{key:n},[i("span",{class:[{"text-del":r.is_disabled}]},[t._v("\n              "+t._s(r.name)+"\n              "),r.amount>1?i("span",[t._v("\n                x"+t._s(r.amount)+"\n              ")]):t._e()]),n<s.options.length-1||o<e.adjusts.length-1?i("span",[t._v("\n              /\n            ")]):t._e()])})),0)})),i("br")],2):t._e()})),0)})),0):3===t.prodSimple.type&&t.prodSimple.items.length?i("div",{staticClass:"text-gray-2"},t._l(t.prodSimple.items,(function(e,s){return i("div",{key:"package-prod-"+e.set_uid+"-"+s},[e.additional_name?i("div",{staticClass:"font-size-caption"},[t._v("\n        特製調整"+t._s(e.name)+" - "+t._s(t.spiltString(e.additional_name))+"\n        "),i("br")]):t._e()])})),0):t._e(),t.prodSimple.remark_memo?i("div",{staticClass:"text-gray-2 font-size-caption"},[i("q-icon",{staticClass:"fas fa-quote-left q-mx-none"}),t._v("\n     \n    "+t._s(t.prodSimple.remark_memo)+"\n  ")],1):t._e(),t.prodSimple.sticker_memo?i("div",{staticClass:"text-gray-2 font-size-caption"},[i("q-icon",{staticClass:"q-mx-none",attrs:{name:"account_circle"}}),t._v("\n     \n    "+t._s(t.prodSimple.sticker_memo)+"\n")],1):t._e()])},m=[],g=(i("28a5"),{name:"VendorProdDetail",props:{storeInfo:Object,prodSimple:Object,type:Number,disableList:Object,orderType:Number},data:function(){return{alert_show:{single_coupon:!1},show:{modal_coupon_info_detail:!1},canUseLimit:20,couponClassList:{}}},methods:{getProdName:function(t,e){var i=0;if(e.product_id&&(i=e.product_id),i&&this.newProdSettingList){var s=this.newProdSettingList[i];if(s&&s.alias_list.length)return s.alias_list[0]}return t},spiltString:function(t){return t.split("/").join(" / ")},showCouponModal:function(){this.alert_show.single_coupon=!0}},computed:{newProdSettingList:function(){var t=this.$q.localStorage.getItem("Nidin_"+this.storeInfo.id+"_prod_setting");return this.prodSettingList?this.prodSettingList:t||[]},isDisTime:function(){if(this.disableList.schedule&&this.prodSimple.product_id){var t=this.disableList.schedule.product_open[this.prodSimple.product_id];if(t)for(var e=t.setting_list,i=0;i<e.length;i++){var s=e[i],o=this.disableList.setting_list[s].is_applicable;if(3===this.orderType)return!0;if(o)return!0}}return!1}}}),f=g,y=i("2877"),I=Object(y["a"])(f,p,m,!1,null,null,null),N=I.exports,D=i("266c"),j=i("2093"),v=i.n(j),L=i("8ca0"),x=i("d394"),T=i("11b0"),w={name:"VendorProductList",mixins:[h["a"]],components:{"prod-detail":N,"menu-modal":D["a"],"coupon-card-v2":L["a"],"i-select":T["a"],"voucher-card":x["a"]},props:{menu:Object,menuInfo:Object,orderInfo:Object,storeInfo:Object,orderOthers:Object,followerList:Array,showError:Object,layout:Number,iconList:Object,imgList:[Array,Object],disableList:Object,updateOrder:Function,getCoupons:Function,useCoupon:Object},data:function(){return{alert_show:{single_coupon:!1},show:{modal_store_info:!1,modal_prod:!1,modal_follower:!1},prod_id:0,edit_prod:{},item_set_uid:0,follower_info:{},can_refresh:!0,appliable_prod_coupon:[],coupon_codes:[],coupon_codes_all:[],coupon_class:{},coupon_class_opt:{name:"",label:"優惠券活動"},save_coupon_codes:[],times:0,use_limit:0,prod_coupon_data:{total_discount:0,coupons:[]},product_id:null,showOrderListAll:!0,listLimit:2,appliable_prod_voucher:[],voucher_codes:[],voucher_codes_all:[],use_vouchers_limit:0,selectTicketType:"coupon",prod_voucher_data:{total_discount:0,vouchers:[]},save_voucher_codes:[]}},methods:{getProdName:function(t,e){var i=0;if(e.product_id&&(i=e.product_id),i&&this.newProdSettingList){var s=this.newProdSettingList[i];if(s&&s.alias_list.length)return s.alias_list[0]}return t},showListAmount:function(t){return this.showOrderListAll||"VendorOrderListInfo"===this.$route.name?t:this.listLimit},toggleOrderList:function(){this.showOrderListAll||2!==this.orderInfo.order_type||this.refreshOrder(),this.showOrderListAll=!this.showOrderListAll},clearEditProd:function(t){t&&(this.edit_prod=void 0)},hasUesTicket:function(t,e){var i=this;return!!i.orderOthers.order_info["product_"+e].item_list[t]},clickCoupon:function(t,e){this.show.btn_spinner=!0;var i=this.coupon_codes.findIndex((function(e){return t===e}));i>-1?(this.coupon_codes.splice(i,1),this.coupon_codes_all.splice(i,1),this.show.btn_spinner=!1):this.coupon_codes.length+1>this.canUseLimit?(this.coupon_codes=[],this.coupon_codes_all=[],this.coupon_codes.push(t),this.coupon_codes_all.push(e),this.show.btn_spinner=!1):(this.coupon_codes.push(t),this.coupon_codes_all.push(e),this.show.btn_spinner=!1)},clickVoucher:function(t,e){this.show.btn_spinner=!0;var i=this.voucher_codes.findIndex((function(e){return t===e}));i>-1?(this.voucher_codes.splice(i,1),this.voucher_codes_all.splice(i,1),this.show.btn_spinner=!1):this.voucher_codes.length+1>this.canUseLimit?(this.voucher_codes=[],this.voucher_codes_all=[],this.voucher_codes.push(t),this.voucher_codes_all.push(e),this.show.btn_spinner=!1):(this.voucher_codes.push(t),this.voucher_codes_all.push(e),this.show.btn_spinner=!1)},saveOrderInfo:function(){var t=this;"coupon"===this.selectTicketType?(this.save_coupon_codes=[],this.save_coupon_codes=JSON.parse(JSON.stringify(this.coupon_codes)),this.coupon_codes_all.forEach((function(e,i){t.prod_coupon_data.coupons[i]={code:null,discount:null},t.prod_coupon_data.coupons[i].code=e.code,t.prod_coupon_data.coupons[i].discount=e.unit_discount,t.prod_coupon_data.total_discount=t.prod_coupon_data.total_discount+e.unit_discount})),this.transCoupon(this.prod_coupon_data),this.alert_show.single_coupon=!1,this.coupon_codes=[],this.coupon_codes_all=[],this.prod_coupon_data={total_discount:0,coupons:[]},this.voucher_codes=[],this.voucher_codes_all=[],this.prod_voucher_data={total_discount:0,vouchers:[]}):(this.save_voucher_codes=[],this.save_voucher_codes=JSON.parse(JSON.stringify(this.voucher_codes)),this.voucher_codes_all.forEach((function(e,i){t.prod_voucher_data.vouchers[i]={code:null,discount:null},t.prod_voucher_data.vouchers[i].code=e.code,t.prod_voucher_data.vouchers[i].discount=e.discount_value,t.prod_voucher_data.total_discount=t.prod_voucher_data.total_discount+e.discount_value})),this.transCoupon(this.prod_voucher_data),this.alert_show.single_coupon=!1,this.coupon_codes=[],this.coupon_codes_all=[],this.prod_voucher_data={total_discount:0,vouchers:[]})},cleanCouponinfo:function(){var t=this;t.getOrderInfo()},isDisTime:function(t){if(this.disableList.schedule&&t.product_id){var e=this.disableList.schedule.product_open[t.product_id];if(e)for(var i=e.setting_list,s=0;s<i.length;s++){var o=i[s],r=this.disableList.setting_list[o].is_applicable;if(r)return!0}}return!1},isDisTime_prod:function(t){var e=this.isDailyDisTime_prod(t);if(e)return!0;if(this.disableList.schedule&&t.product_id){var i=this.disableList.schedule.product_open[t.product_id];if(i)for(var s=i.setting_list,o=0;o<s.length;o++){var r=s[o],n=this.disableList.setting_list[r].is_applicable;if(3===this.orderType)return!0;if(n)return!0}}return!1},isDailyDisTime_prod:function(t){var e=this.disableList.todaySchedule;if(!e||"object"!==M()(e))return!1;var i=Object.keys(e.product_open||{}).map(Number),s=i.includes(t.product_id);if(s)return!0;var o=3==t.type,r=o?"blocks":"adjusts",n=o?"items":"options",a=o?"product_id":"option_id",c=t[r].map((function(t){return t[n]})).flat(),u=c.map((function(t){return t[a]})).flat(),l=o?"item":"option",h=u.some((function(t){var i=Object.values(e[l]||{}).map((function(t){return Object.keys(t||{})})).flat().map(Number);return!!i.includes(t)}));if(h)return!0;if(o){var p=d()(c),m=Object.keys(e.option||{}).map((function(t){return d()(Object.keys(e.option[t]||{}))})).flat().map(Number),g=p.map((function(t){return t.adjusts.map((function(t){return t.options.map((function(t){return t.option_id}))}))}));g=_.flattenDeep(g);var f=d()(new Set(g)),y=f.some((function(t){return m.includes(t)}));return y}return!1},setDefault:function(){this.save_coupon_codes=[],"VendorOrderListInfo"!==this.$route.name&&(this.$set(this.useCoupon,"coupon_codes",this.save_coupon_codes),this.$set(this.useCoupon,"coupon_money",0))},getFollowerEndPrice:function(t){var e=this.orderOthers.group_buy_follower_order_coupons[t.order_id],i=t.product_coupon.total_discount,s=t.product_voucher.total_discount;if(e&&i){var o=this.singlePeoplePrice(t.product_simple),r=0;if(e.forEach((function(t){1===t.discount_type&&(r+=t.discount_value),2===t.discount_type&&(r+=t.money)})),i&&(r+=i),o-r>0)return this.$store.commit("order/setCouponMoney",r),o-r}else if(e&&!i){var n=this.singlePeoplePrice(t.product_simple),a=0;if(e.forEach((function(t){1===t.discount_type&&(a+=t.discount_value),2===t.discount_type&&(a+=t.money)})),n-a>0)return this.$store.commit("order/setCouponMoney",a),n-a}else if(i&&!e){var c=this.singlePeoplePrice(t.product_simple),u=0;if(u+=i,c-u>0)return this.$store.commit("order/setCouponMoney",u),c-u}else if(s&&!e){var d=this.singlePeoplePrice(t.product_simple),l=0;if(l+=s,d-s>0)return this.$store.commit("order/setCouponMoney",l),d-l}return 0},onlyUpdateGb:function(t,e){var i=this.$route.params.order_id,s="/order/"+i+"/groupBuyingStatus";this.putDataH(s,t).then((function(t){e&&e(t)})).catch((function(t){e&&(t.data.status===self.$config.timeError&&self.$q.dialog({class:"nidin-dialog",title:self.$t("dialog.notice"),message:t.data.description,ok:{label:self.$t("dialog.ok"),color:"primary",textColor:"white"},html:!0}).onOk((function(){self.step=1})),e(t))}))},updateGBstatus:function(){var t=this,e=this.orderInfo.group_buying_status,i=10;10===e&&(i=20);var s={group_buying_status:i};this.onlyUpdateGb(s,(function(){t.$set(t.orderInfo,"group_buying_status",i);var e="關閉",s="accent";10===i&&(s="positive",e="開啟"),t.$q.notify({message:"已"+e+"揪團功能",color:s,timeout:2500,position:"bottom"})}))},addFriend:function(){this.show.modal_follower=!1},refreshOrder:function(){var t=this;this.can_refresh=!1,this.$q.notify({message:"已重新讀取訂單",color:"positive",timeout:2500,position:"bottom"}),setTimeout((function(){t.can_refresh=!0}),2500),this.updateListLimit(),this.getOrderInfo()},delMemberOrder:function(t,e){t&&(this.follower_info.order_id=t,this.follower_info.contact_name=e);var i=this;if(this.follower_info.order_id){var s=this.follower_info.contact_name,o=this.follower_info.order_id;this.$q.dialog({class:"nidin-dialog",title:i.$t("dialog.notice"),message:"刪除"+s+"的訂單嗎？",ok:{label:i.$t("dialog.delete"),color:"primary",textColor:"white"},cancel:{label:i.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){i.showListAmount(),i.delMember(o,s)}))}},delMember:function(t,e){var i=this,s=this.$route.params.order_id,o="/carts/"+s+"/subOrder/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.show.modal_follower=!1,i.$q.notify({icon:"check_circle",message:"成功刪除"+e+"的訂單",color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},collectMoney:function(t){return t?"已付款囉":"還沒付款"},openMemberModal:function(t){this.follower_info=t,this.show.modal_follower=!0},updateMoney:function(t){var e=this,i=this.$route.params.order_id,s="/order/"+i+"/subOrderCollectStatus",o={};t.is_collect_money?o.disable=t.order_id:o.enable=t.order_id,this.putDataH(s,o).then((function(i){if(200===i.data.status){var s=t.contact_name+"還未付款！",r="accent";o.disable||(s=t.contact_name+"已付款！團長辛苦囉～",r="positive"),e.$q.notify({avatar:t.contact_mugshot,message:s,color:r,timeout:2500,position:"bottom"}),t.is_collect_money=!t.is_collect_money}})).catch((function(t){}))},delItemSet:function(t){var e=this,i=t.item_set_uid,s=t.name;this.$q.dialog({class:"nidin-dialog",title:e.$t("dialog.notice"),message:"刪除"+this.getProdName(s,t)+"嗎？",ok:{label:e.$t("dialog.delete"),color:"primary",textColor:"white"},cancel:{label:e.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){e.delProd(i,s),e.setGATag("remove_from_cart",t.product_id,{product_name:s})}))},delProd:function(t,e){var i=this,s=this.$route.params.order_id,o="/carts/"+s+"/productItem/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.$q.notify({icon:"check_circle",message:"成功刪除"+e,color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},getOrderInfo:function(){var t=this,e=this.$route.params.order_id,i="/order/"+e+"/info";this.getDataH(i,null).then((function(e){200===e.data.status&&(t.$set(t.orderInfo,"total_paid_money",e.data.order_info.basic.total_paid_money),t.$set(t.orderInfo,"total_money",e.data.order_info.basic.total_money),t.$set(t.orderInfo,"money",e.data.order_info.basic.money),t.$set(t.orderInfo,"total_amount",e.data.order_info.basic.total_amount),t.$set(t.orderInfo,"amount",e.data.order_info.basic.amount),t.$set(t.orderOthers.order_info,"allowance",e.data.order_info.allowance),t.$set(t.orderOthers.order_info,"plastic_info",e.data.order_info.plastic_info),t.$set(t.orderOthers.order_info,"product_coupon",e.data.order_info.product_coupon),t.$set(t.orderOthers.order_info,"product_voucher",e.data.order_info.product_voucher),t.$set(t.orderOthers.order_info,"product",e.data.order_info.product),t.$set(t.orderOthers.order_info,"product_simple",e.data.order_info.product_simple),t.$set(t.orderOthers.order_info,"delivery_total_money",e.data.order_info.delivery_total_money),t.$set(t.orderOthers,"group_buy_follower_order_list",e.data.group_buy_follower_order_list),t.$set(t.orderOthers,"group_buy_follower_order_coupons",e.data.group_buy_follower_order_coupons),t.$store.commit("order/setProductCouponMoney",e.data.order_info.product_coupon.total_discount||0),t.$store.commit("order/setProductVoucherMoney",e.data.order_info.product_voucher.total_discount||0),t.$store.commit("order/setAllowance",e.data.order_info.allowance.total_allowance||0),3===t.orderInfo.order_type&&t.getCoupons())})).catch((function(t){}))},openProdModal:function(t,e){var i=this;if(!this.canEdit||e.is_disabled||this.isDisTime(e))this.show.modal_prod=!1;else if(!this.showDisIcon){var s=this.orderOthers.order_info.product.find((function(e){if(t===e.item_set_uid)return i.item_set_uid=t,e}));this.edit_prod=s,this.prod_id=s.product_id,this.show.modal_prod=!0}},setTime:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){t()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),singlePeoplePrice:function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];e+=s.price*s.amount}return this.roundingNum(this.orderInfo.rounding_type,e)},setDefaultInfo:function(){var t=this.storeInfo.delivery_info;if(this.storeInfo.delivery_info){var e=this.storeInfo.delivery_info.find((function(t){return t.is_default}));e="undefined"===typeof e?t[0].delivery_type:e.delivery_type,this.orderInfo.delivery_type=e}else this.showError.contact_service=!0;var i=this.storeInfo.trade_types;i?this.orderInfo.trade_type=i[0].type:this.showError.contact_service=!0},showTicketModal:function(t,e){"coupon"===e?this.getProductCoupons(t):this.getProductVouchers(t),this.selectTicketType=e,this.product_id=t},getProductVouchers:function(t){var e=this,i=this,s=this.$route.params.order_id,o="/carts/"+s+"/productItem/"+t+"/applicableVouchers";this.getDataH(o,null).then((function(t){200===t.data.status&&(i.appliable_prod_voucher=t.data.applicable_vouchers,i.voucher_codes=[],i.voucher_codes_all=[],i.appliable_prod_voucher.forEach((function(t){20===t.status&&(i.voucher_codes.push(t.code),i.voucher_codes_all.push(t))})),i.use_vouchers_limit=t.data.usage_limit,i.appliable_prod_voucher&&(e.alert_show.single_coupon=!0))})).catch((function(t){}))},getProductCoupons:function(t){var e=this,i=this,s=this.$route.params.order_id,o="/carts/"+s+"/productItem/"+t+"/applicableCoupons";this.getDataH(o,null).then((function(t){200===t.status&&(i.appliable_prod_coupon=t.data.applicable_coupons,i.coupon_codes=[],i.coupon_codes_all=[],i.appliable_prod_coupon.forEach((function(t){20===t.status&&(i.coupon_codes.push(t.code),i.coupon_codes_all.push(t))})),i.use_limit=t.data.usage_limit,i.appliable_prod_coupon&&(e.alert_show.single_coupon=!0))})).catch((function(t){}))},transCoupon:function(t){var e=this,i=this.$route.params.order_id,s="";s="coupon"===this.selectTicketType?"/carts/"+i+"/productItem/"+this.product_id+"/coupon":"/carts/"+i+"/productItem/"+this.product_id+"/voucher";var o=t;this.postDataH(s,o).then((function(t){200===t.data.status&&e.getOrderInfo()})).catch((function(t){})),this.$emit("updateDiscount")},updateListLimit:function(){2===this.orderInfo.order_type&&this.followerList.length&&(this.listLimit=1)}},created:function(){var t=c()(n.a.mark((function t(){var e;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,this.appliable_prod_coupon.length&&(this.coupon_class=this.couponClassList[0]),t.next=4,this.setDefault();case 4:return t.next=6,this.setTime().then((function(){e.orderInfo.delivery_type||e.setDefaultInfo()})).catch((function(t){}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.updateListLimit()},computed:{ticketCanUse:function(){return"voucher"===this.selectTicketType&&0===this.use_vouchers_limit||"coupon"===this.selectTicketType&&0===this.use_limit},hasTicketDiscount:function(){return this.orderOthers.order_info.product_coupon.total_discount||this.orderOthers.order_info.product_voucher.total_discount},selectTebName:function(){return"coupon"===this.selectTicketType?"單品折扣券":"商品券"},newProdSettingList:function(){var t=this.$q.localStorage.getItem("Nidin_"+this.storeInfo.id+"_prod_setting");return this.prodSettingList?this.prodSettingList:t||[]},showMoreBtnText:function(){return this.showOrderListAll?this.$t("menu.info_hide"):this.showOrderListAll||2!==this.orderInfo.order_type?"展開":"展開刷新團員訂單"},showMoreBtn:function(){return 20!==this.orderInfo.group_buying_status&&2===this.orderInfo.order_type||(this.products.length>this.listLimit||!!this.followerList.find((function(t){return t.product_simple.length>2})))},couponMoney:function(){for(var t=0,e=0;e<this.coupon_codes_all.length;e++){var i=this.coupon_codes_all[e];1===i.discount_type&&i.discount_value&&(t+=i.discount_value),2===i.discount_type&&i.discount_value&&(t+=i.money),101===i.discount_type&&i.discount_value&&(t+=i.discount_value)}return t},canUseVoucher:function(){return this.appliable_prod_voucher&&this.use_vouchers_limit},canUseCoupon:function(){return this.appliable_prod_coupon.length&&this.use_limit},canUseLimit:function(){return"coupon"===this.selectTicketType?this.appliable_prod_coupon.length<this.use_limit?this.appliable_prod_coupon.length:this.use_limit:this.appliable_prod_voucher.length<this.use_vouchers_limit?this.appliable_prod_voucher.length:this.use_vouchers_limit},displaySelectTicketAmount:function(){return"coupon"===this.selectTicketType?this.coupon_codes.length:this.voucher_codes.length},products:function(){return this.$store.commit("order/setProductCouponMoney",this.orderOthers.order_info.product_coupon.total_discount),this.$store.commit("order/setProductVoucherMoney",this.orderOthers.order_info.product_voucher.total_discount),this.orderOthers.order_info.product||this.orderOthers.order_info.product_simple},nidinImg:function(){return v.a},followerCount:function(){var t=0;return this.followerCoupon.length&&this.followerCoupon.forEach((function(e){t+=e.money})),t},followerCoupon:function(){var t=this.orderOthers.group_buy_follower_order_coupons,e=this.follower_info.order_id;return"undefined"!==typeof e&&t&&t[e]?t[e]:[]},canEdit:function(){if("VendorOrderListInfo"===this.$route.name)return!1;var t=this.menuInfo.version.stamp.toString(),e=this.orderInfo.menu_ver_stamp.toString();return this.orderInfo.menu_id===this.menuInfo.menu_id&&t===e&&20!==this.$store.state.order.gb_brief.group_buying_status},openTime:function(){if(this.storeInfo.order_start_time){var t=this.getTime(2,this.storeInfo.order_start_time,"HH:mm"),e=this.getTime(2,this.storeInfo.order_end_time,"HH:mm");return t+" ~ "+e}return""},showDisIcon:function(){var t=this,e=this.disableList.product[this.categoryId],i=!1;return e&&e.forEach((function(e){e.product_id===t.prodId&&(i=!0)})),i},couponClassList:function(){var t=this.appliable_prod_coupon,e=[];return t.length&&t.forEach((function(t){var i={label:t.name,value:t.code};e.push(i)})),e},productCouponUse:function(t){var e=this;return!!e.orderOthers.order_info.product_coupon.item_list[t]}},watch:{"appliable_prod_coupon.length":function(){this.coupon_class=this.couponClassList[0]},coupon_class:function(){this.setDefault()}}},A=w,z=(i("c18d"),Object(y["a"])(A,s,o,!1,null,"76a43b17",null));e["a"]=z.exports},aa8e:function(t,e,i){t.exports=i.p+"img/din_baby_thumb.2ec38d71.svg"},ab17:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["full-width flex flex-center",{"col text-white":2===t.type},{"b-bg-secondary":2===t.type&&!t.showBtn.disable},{"bg-d-gray":2===t.type&&t.showBtn.disable}]},[i("div",{class:["text-center text-bold flex flex-center",2===t.type?"q-py-md full-width full-height":"btn-primary q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"b-bg-secondary ":2!==t.type&&!t.showBtn.disable},{"bg-d-gray ":2!==t.type&&t.showBtn.disable}],style:2===t.type?"":"height: 71.141px",attrs:{disabled:t.showSpinner},on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v("\n      "+t._s(t.showBtn.name)+"\n    ")])],1)])},o=[],r=(i("5df3"),i("4f7f"),i("4db1")),n=i.n(r),a=(i("8615"),i("6762"),i("2fdb"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("8993")),c=i.n(a),u=(i("55dd"),i("28a5"),i("7f7f"),i("7514"),i("c5f6"),i("808d")),d={name:"NdOrderListRightBtn",mixins:[u["a"]],props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,storeInfo:Object,cantEdit:Boolean,show:Object,orderAttach:Object,orderOthers:Object,disableList:Object,pointError:Boolean,plasticBagAmountError:Boolean,allRadioDisabled:Boolean,removeFollowerCoupons:Boolean,ishasCupDiscount:Boolean,ishasCupAmount:Boolean,isCupInvaild:Boolean,ishasCupActivity:Boolean},data:function(){return{btns:{1:{name:this.$t("order.step_next"),event:"goStepNext",disable:!1},2:{name:this.$t("status.cant_delivery"),event:"",disable:!0},3:{name:this.$t("status.store_closed"),event:"",disable:!0},4:{name:this.$t("status.store_unopen"),event:"",disable:!0},5:{name:this.$t("status.store_closed_today"),event:"",disable:!0},6:{name:this.$t("status.store_accept_pause"),event:"",disable:!0},7:{name:this.$t("order.address_empty"),event:"",disable:!0},8:{name:this.$t("order.payment_method_empty"),event:"",disable:!0},9:{name:this.$t("order.step_next"),event:"checkOrder",disable:!1},10:{name:"送單給團長",event:"checkGBOrder",disable:!1},11:{name:this.$t("order.delivery_type_limt_out"),event:"",disable:!0},12:{name:3===this.storeInfo.store_mode?"查看發送狀態":this.$t("order.order_click_confirm"),event:"goOrderListInfo",disable:!1},13:{name:this.$t("order.trade"),event:"trade",disable:!1},14:{name:"重新點餐",event:"goStore",disable:!1},15:{name:this.$t("order.cancel_order"),event:"cancelOrder",disable:!1},16:{name:"聯絡門市",event:"editOrder",disable:!1},17:{name:this.$t("order.empty_items"),event:"",disable:!0},18:{name:"門市休息中",event:"",disable:!0},19:{name:"未移除完售商品",event:"",disable:!0},20:{name:"取貨資訊有誤",event:"",disable:!0},21:{name:"發票或統一編號資訊有誤",event:"",disable:!0},22:{name:this.$t("order.step_prod"),event:"orderProd",disable:!1},23:{name:"取貨時間商品停賣",event:"disTimeProd",disable:!0},24:{name:"移除團員訂單",event:"removeGBFollowerOrder",disable:!0},25:{name:"請選擇付款方式",event:"",disable:!0},26:{name:"付款門號綁定失效",event:"openInvalidDailog",disable:!1},27:{name:"請確認點數折抵數量",event:"",disable:!0},28:{name:"請確認塑膠袋輸入數量",event:"",disable:!0},29:{name:"請設定外送地址",event:"",disable:!0},30:{name:"未移除自備飲料杯",event:"",disable:!0},31:{name:"付款方式限制",event:"",disable:!0},32:{name:"僅適用單一折扣",event:"",disable:!0},33:{name:"折扣超過應付金額",event:"",disable:!0}},info:{allowance:null,coupon:null,deliveryDis:null,deliveryRank:null,deliveryTotalPaid:null,dis:null,gap:null,memberDiscount:null,minDeliveryMoney:null,minRank:null,pointDiscount:null,productCoupon:null,rank:null,rank_pickup:null,rank_dine_in:null,storeDiscount:null,total:null}}},computed:{cantOrder:function(){var t=this.storeInfo;return t?!t.trade_types.length||!t.delivery_info.length:0},deliveryPriceGap:function(){return this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_gap")},errorMessage:function(){return this.$store.state.cart.error_message},followerInvalidProductSimple:function(){var t=[],e=this.orderOthers.group_buy_follower_order_list||[];return e.forEach((function(e){var i=e.invalid_product_simple||[];i&&i.length?t.push(!0):t.push(!1)})),t},productDisabled:function(){var t=this;if(this.orderOthers.order_info){var e=this.orderOthers.order_info.product,i=this.orderOthers.group_buy_follower_order_list;if(e)return e.some((function(e){return!!t.isDisTime(e)||(!!e.is_disabled||(1===e.type?e.adjusts.some((function(t){return t.is_disabled?t.is_disabled:t.options.some((function(t){if(t.is_disabled)return!0}))})):3===e.type?e.blocks.some((function(t){if(t.is_disabled)return!0})):void 0))}));i&&i.some((function(e){return e.product_simple.some((function(e){return!!t.isDisTime(e)||(!!e.is_disabled||void 0)}))}))}return!1},productDistimeDisabled:function(){var t=this;if(this.orderOthers.order_info){var e=t.orderOthers.order_info.product,i=t.orderOthers.group_buy_follower_order_list;if(e)return e.some((function(e){if(t.isDisTime(e))return!0}));if(i)return i.some((function(e){return e.product_simple.some((function(e){if(t.isDisTime(e))return!0}))}))}return!1},productDistimeDisabled_follower:function(){var t=this;if(t.orderOthers.group_buy_follower_order_list){var e=t.orderOthers.group_buy_follower_order_list;if(e)return e.some((function(e){return e.product_simple.some((function(e){if(t.isDisTime(e))return!0}))}))}return!1},showBtn:function(){var t=this.storeInfo,e=this.orderInfo,i=this.orderAttach,s=this.storeInfo.max_delivery_distance_m,o=0,r=100*Math.floor(e.delivery_distance/100),n=r||0,a=JSON.parse(JSON.stringify(this.deliveryRank)).reverse(),c=a.find((function(t){return t.order_min_distance_m<n}));if(c||(c=a.find((function(t,e){return e===a.length-1}))),Array.isArray(this.deliveryRank)&&this.deliveryRank[0]&&(o=this.deliveryRank[0].order_min_price||0),this.info.dis=r,this.info.deliveryDis=n,this.info.deliveryRank=a,this.info.deliveryStageLimitType=t.delivery_stage_limit_type,this.info.deliveryTotalPaid=this.deliveryTotalPaid,this.info.minDeliveryMoney=o,this.info.rank=c,this.info.sMaxDis=s,this.$store.commit("cart/resetDeliveryInfoErrorMessage",null),this.step){if(this.cantEdit)return this.btns[14];if(1===this.step){if(!e.total_amount)return this.btns[17];if(this.pointError)return this.btns[27];if(this.plasticBagAmountError)return this.btns[28];if(i.total_money<0)return this.btns[33];if(this.removeFollowerCoupons)return this.btns[32];if((1===e.order_type||2===e.order_type||3===e.order_type)&&(!this.ishasCupActivity&&this.ishasCupAmount||!this.ishasCupDiscount&&this.ishasCupAmount&&this.isCupInvaild))return this.btns[30];if(3===e.order_type)return this.btns[10];if(20===t.order_status)return this.btns[6];if(1===e.delivery_type){if(this.info.rank_pickup=this.getRank(1),this.info.rank_pickup&&this.info.rank_pickup.length&&this.info.rank_pickup[0]["order_min_price"]>this.info.total)return this.btns[2].name=this.$t("order.delivery_type_limt",{money:this.info.rank_pickup[0]["order_min_price"]-this.info.total,type:this.$t("order.pickup")}),this.btns[2]}else if(2===e.delivery_type){if(this.info.rank_dine_in=this.getRank(2),this.info.rank_dine_in&&this.info.rank_dine_in.length&&this.info.rank_dine_in[0]["order_min_price"]>this.info.total)return this.btns[2].name=this.$t("order.delivery_type_limt",{money:this.info.rank_dine_in[0]["order_min_price"]-this.info.total,type:this.$t("order.dine_in")}),this.btns[2]}else{if(3===e.delivery_type){var u=this.checkAddressLimit();if(!u)return this.btns[29];if(u.success)return this.btns[1];if(u.isLessThanMin){var d=u.money;return this.btns[2].name=this.$t("order.delivery_type_limt",{money:d,type:this.$t("order.delivery")}),this.btns[2]}if(u.isMoreThanMax)return this.btns[11];var l=u.text,M=l.split(","),h=M.pop();return{name:h,event:"",disable:!1}}if(t.is_off_day&&!t.is_off_allow_order)return this.btns[3];if(t.is_preparing&&!t.is_preparing_allow_order)return this.btns[4];if(t.is_close&&!t.is_close_allow_order)return this.btns[5];if(this.cantOrder)return this.btns[18];if(!e.total_amount)return this.btns[17];if(this.productDistimeDisabled)return this.btns[23];if(this.productDistimeDisabled_follower)return this.btns[23];if(this.productDisabled)return this.btns[19];if(2===e.order_type&&-1!==this.followerInvalidProductSimple.indexOf(!0))return this.btns[24]}return this.btns[1]}return 2===this.step?1===e.status||2===e.status?this.btns[13]:909===e.trade_type&&0==i.is_valid&&i.fetdpay_id?this.btns[26]:20===t.order_status?this.btns[6]:this.productDisabled?this.btns[19]:3===e.order_type?this.btns[12]:t.is_off_day&&!t.is_off_allow_order?this.btns[3]:t.is_preparing&&!t.is_preparing_allow_order?this.btns[4]:t.is_close&&!t.is_close_allow_order?this.btns[5]:this.errorMessage.name||this.errorMessage.phone?this.btns[20]:this.errorMessage.carrier_id||this.errorMessage.email||this.errorMessage.ein?this.btns[21]:!e.trade_type&&this.allRadioDisabled?this.btns[31]:e.trade_type?this.btns[9]:this.btns[25]:3===this.step?this.orderInfo.status>=99?this.btns[12]:this.btns[22]:this.btns[1]}return 100===this.orderInfo.status||31===this.orderInfo.status?this.btns[15]:110===this.orderInfo.status?this.btns[16]:this.btns[1]},showSpinner:function(){return!!this.show&&this.show.btn_spinner}},methods:{getRank:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[];if(this.step&&this.storeInfo&&this.storeInfo.delivery_info&&Array.isArray(this.storeInfo.delivery_info)){var i=this.storeInfo.delivery_info.filter((function(e){return e.delivery_type===t}))||[],s=i.sort((function(t,e){return t.order_min_distance_m-e.order_min_distance_m}))||[];s.forEach((function(t,i){var o={};i<s.length-1?(o={order_min_distance_m:t.order_min_distance_m,order_max_distance_m:s[i+1].order_min_distance_m,order_min_price:s[i+1].order_min_price},e.push(o)):1===s.length&&(o={order_min_distance_m:t.order_min_distance_m,order_max_distance_m:null,order_min_price:t.order_min_price},e.push(o))}))}return e},isDisTime:function(t){if(this.disableList.todaySchedule&&t.product_id){var e=this.isDailyDisProd(t);if(e)return!0}if(this.disableList.schedule&&t.product_id){var i=this.disableList.schedule.product_open[t.product_id];if(i)for(var s=i.setting_list,o=0;o<s.length;o++){var r=s[o],n=this.disableList.setting_list[r].is_applicable;if(n)return!0}}return!1},isDailyDisProd:function(t){var e=this.disableList.todaySchedule;if(!e||"object"!==c()(e))return!1;var i=Object.keys(e.product_open||{}).map(Number),s=i.includes(t.product_id);if(s)return!0;var o=3==t.type,r=o?"blocks":"adjusts",a=o?"items":"options",u=o?"product_id":"option_id",d=t[r];if(!d)return!1;d=d.map((function(t){return t[a]})).flat();var l=d.map((function(t){return t[u]})).flat(),M=o?"item":"option",h=l.some((function(t){var i=Object.values(e[M]||{}).map((function(t){return Object.keys(t||{})})).flat().map(Number);return!!i.includes(t)}));if(h)return!0;if(o){var p=n()(d),m=Object.keys(e.option||{}).map((function(t){return n()(Object.keys(e.option[t]||{}))})).flat().map(Number),g=p.map((function(t){return t.adjusts.map((function(t){return t.options.map((function(t){return t.option_id}))}))}));g=_.flattenDeep(g);var f=n()(new Set(g)),y=f.some((function(t){return m.includes(t)}));return y}return!1}}},l=d,M=i("2877"),h=Object(M["a"])(l,s,o,!1,null,null,null);e["a"]=h.exports},aca1:function(t,e,i){t.exports=i.p+"img/i_easy_wallet_pay.d2dfe1ff.svg"},afab:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["flex full-height",{"cursor-pointer":t.clickCoupon||"bg-green"===t.couponStatusColor(t.couponInfo)}],on:{click:t.chooseCoupon}},[s("div",{staticClass:"col-auto coupon-left beveled-corners flex flex-center coupon-r-dashed"},[s("div",{staticClass:"text-center flex column align-items-center"},[s("div",[s("div",{staticClass:"inline-block ticket-brand-icon"},[s("q-img",{attrs:{src:t.couponImg,ratio:1,"img-class":"border circle"}})],1)]),s("div",{staticClass:"q-mt-xs text-bold font-size-subtitle-1"},[1===t.couponInfo.discount_type?s("span",[t._v("\n          $"+t._s(t.couponInfo.discount_value)+"\n        ")]):t._e(),2===t.couponInfo.discount_type?s("span",[t._v("\n          "+t._s(t.getCouponNickname(t.couponInfo.discount_value))+"折\n        ")]):t._e(),101===t.couponInfo.discount_type&&(t.couponInfo.unit_discount||t.couponInfo.discount_value)?s("span",[t._v("\n          $"+t._s(t.couponInfo.unit_discount||t.couponInfo.discount_value||"")+"\n        ")]):t._e(),102===t.couponInfo.discount_type&&(t.couponInfo.unit_discount||t.couponInfo.discount_value)?s("span",[t.couponInfo.unit_discount?[t._v("\n            "+t._s("$"+t.couponInfo.unit_discount)+"\n          ")]:t.getCouponNickname(t.couponInfo.discount_value)?[t._v("\n            "+t._s(t.getCouponNickname(t.couponInfo.discount_value)+"折"||!1)+"\n          ")]:t._e()],2):t._e(),103===t.couponInfo.discount_type&&t.couponInfo.unit_discount?s("span",[t._v("\n          $"+t._s(t.couponInfo.unit_discount)+"\n        ")]):t._e()])])]),s("div",{staticClass:"col beveled-corners flex justify-center column ticket-info"},[s("div",{staticClass:"font-size-subtitle-1 q-mb-xs text-bold ellipsis full-width"},[t._v("\n      "+t._s(t.storeName)+"\n    ")]),s("div",{staticClass:"font-size-subtitle-2 text-weight-medium ellipsis full-width"},[t._v("\n      "+t._s(t.couponInfo.name)+"\n    ")]),s("div",[t.couponInfo.avail_start_time?s("div",{class:["text-gray-3",{"q-mt-xs":t.isTransShopper}]},[t._v("\n        "+t._s(t.getTime(1,t.couponInfo.avail_start_time,"YYYY/MM/DD"))+"-"+t._s(t.getTime(1,t.couponInfo.avail_end_time,"YYYY/MM/DD"))+"\n      ")]):t._e()]),t.orderInfo||!t.orderInfo&&"undefined"!==typeof t.edit?s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTransShopper,expression:"!isTransShopper"}],staticClass:"q-mt-xs"},[t.couponState&&t.couponInfo.remaining_day>0?s("span",{staticClass:"bg-secondary ticket-badage text-white q-mr-xs"},[t._v("\n        剩"+t._s(t.couponInfo.remaining_day)+"天\n      ")]):t._e(),"Coupons"===t.$route.name||"ubcoupons"===t.$route.name||"uscoupons"===t.$route.name||t.orderInfo?s("span",{class:["ticket-badage text-white",t.couponStatusColor(t.couponInfo)]},[t._v("\n        "+t._s(t.couponStatus(t.couponInfo)||"團員使用")+"\n      ")]):t._e()]):t._e(),t.edit&&t.couponState?s("div",{staticClass:"checkbox"},[s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{staticClass:"checkbox-circle",on:{input:t.chooseCoupon},model:{value:t.check,callback:function(e){t.check=e},expression:"check"}})],1)]):t._e()]),!t.couponState&&t.edit?s("div",{staticClass:"bg-gray-5 absolute full-width full-height flex flex-center mask-opacity"}):t._e(),s("q-dialog",{attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.show.modal_coupon_info,callback:function(e){t.$set(t.show,"modal_coupon_info",e)},expression:"show.modal_coupon_info"}},["Coupons"===t.$route.name||"ubcoupons"===t.$route.name||"uscoupons"===t.$route.name?s("q-card",{staticClass:"q-card flex column no-wrap bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon",disabled:t.show.btn_spinner},on:{click:function(e){t.show.modal_coupon_info=!1}}}),s("q-card-section",{staticClass:"col-shrink scroll q-pa-none q-mb-sm"},[s("div",{staticClass:"flex flex-center"},[s("div",{staticClass:"inline-block avatar"},[s("img",{staticClass:"full-width circle border",attrs:{src:t.couponImg,alt:"avatar"}})])]),s("div",{staticClass:"font-size-subtitle-2 text-weight-medium text-bold text-center q-ma-sm"},[t._v("\n          "+t._s(t.couponInfo.name)+"\n        ")]),t.orderInfo?t._e():s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTransShopper,expression:"!isTransShopper"}],staticClass:"text-center"},[t.couponInfo.remaining_day>0?s("q-badge",{staticClass:"bg-secondary"},[t._v("\n            剩"+t._s(t.couponInfo.remaining_day)+"天\n          ")]):t._e(),s("q-badge",{class:t.couponStatusColor(t.couponInfo)},[t._v("\n            "+t._s(t.couponStatus(t.couponInfo))+"\n          ")])],1),s("hr",{staticClass:"q-my-md"}),s("div",[t.couponInfo.is_transfer&&!t.isTransShopper?s("div",{staticClass:"bg-gray-5 q-pa-sm q-px-md-md"},[s("p",[s("span",{staticClass:"text-bold"},[t._v("\n                "+t._s(t.couponInfo.transfer_name)+"\n              ")]),t._v("\n              ：\n              "),s("br"),t.couponInfo.transfer_msg?s("span",[t._v("\n                "+t._s(t.couponInfo.transfer_msg)+"\n              ")]):s("span",[t._v("\n                "+t._s(t.randomMsg)+"\n              ")])])]):t._e(),t.isTransShopper?s("div",{staticClass:"bg-gray-5 q-pa-sm q-px-md-md text-center"},[t._v("\n            您已將優惠券轉給: "+t._s(t.couponInfo.get_shopper_name)+"("+t._s(t.couponInfo.get_shopper_user_no)+")\n          ")]):t._e(),s("p",[t._v("\n            "+t._s(t.couponInfo.description)+"\n          ")]),s("p",{staticClass:"q-pt-md"},[t.isTransShopper?t._e():s("span",[t._v("\n              "+t._s(t.$t("coupon.source.title"))+"\n              "),"transfer"===t.couponInfo.get_source_method?s("span",[t._v("\n                "+t._s(t.$t("coupon.source.transfer"))+"\n              ")]):"register"===t.couponInfo.get_source_method?s("span",[t._v("\n                "+t._s(t.$t("coupon.source.register"))+"\n              ")]):"other"===t.couponInfo.get_source_method?s("span",[t._v("\n                "+t._s(t.$t("coupon.source.others"))+"\n              ")]):t.couponInfo.get_order_info.order_sn?s("span",[s("router-link",{staticClass:"text-primary",attrs:{to:{name:"orderListInfoV1",params:{order_id:t.couponInfo.get_order_info.order_id}}}},[t._v("\n                  "+t._s(t.couponInfo.get_order_info.order_sn)+"\n                ")])],1):t._e()]),s("br"),t._v("\n            "+t._s(t.$t("coupon.expiration_date"))+"\n            "+t._s(t.getTime(1,t.couponInfo.avail_start_time,"YYYY/MM/DD"))+"-"+t._s(t.getTime(1,t.couponInfo.avail_end_time,"YYYY/MM/DD"))+"\n            "),s("br"),1===t.couponInfo.usage_store_type?s("span",[t._v("\n              "+t._s(t.$t("coupon.limit.title"))+"\n              "+t._s(t.$t("coupon.limit.all"))+"\n              "),s("br")]):2===t.couponInfo.usage_store_type?s("span",[t._v("\n              "+t._s(t.$t("coupon.limit.title"))+"\n              "+t._s(t.useBrand)+"\n              "+t._s(t.$t("coupon.limit.some"))+"\n              "),s("br")]):t._e(),t.includeStoreIds?s("span",[t._v("\n              "+t._s(t.$t("coupon.available"))+"\n              "+t._s(t.includeStoreIds)+"\n              "),s("br")]):t._e(),t.excludeStoreIds?s("span",[t._v("\n              "+t._s(t.$t("coupon.unavailable"))+"\n              "+t._s(t.excludeStoreIds)+"\n              "),s("br")]):t._e()])])]),t.couponState&&!t.isTransShopper?s("q-card-actions",{staticClass:"col-auto q-pt-md q-px-none q-mt-auto border-top flex flex-center"},[s("q-btn",{staticClass:"btn-primary full-width b-bg-secondary",on:{click:t.goOrder}},[t._v("\n          "+t._s(t.$t("coupon.use"))+"\n        ")])],1):t._e()],1):t._e()],1)],1)},o=[],r=(i("7514"),i("7f7f"),i("791e")),n={mixins:[r["a"]],props:["couponInfo","clickCoupon","chooseCodes","storeInfo","orderInfo","edit"],data:function(){return{check:!1,show:{modal_coupon_info:!1}}},computed:{isTransShopper:function(){return!!this.couponInfo.get_shopper_name},randomMsg:function(){var t=["優惠券帶給你好心情 ♥","本宮賞你一張優惠券 ♥","別餓著了快訂吧 ♥","天上掉下來的禮物呢 ♥","好東西要跟好朋友分享 ♥"],e=Math.floor(5*Math.random());return t[e]},excludeStoreIds:function(){return this.getAllStr(this.couponInfo.exclude_store_ids)},includeStoreIds:function(){return this.getAllStr(this.couponInfo.include_store_ids)},useBrand:function(){return this.getAllStr(this.couponInfo.include_brand_ids)},couponState:function(){var t=this.couponInfo,e=0,i=0,s=0,o=0;if("Coupons"!==this.$route.name&&"ubcoupons"!==this.$route.name&&"uscoupons"!==this.$route.name)return!0;if(t.status&&(e=t.status),t.is_void&&(i=t.is_void),t.is_used&&(s=t.is_used),t.is_expired&&(o=t.is_expired),"Coupons"===this.$route.name||"ubcoupons"===this.$route.name||"uscoupons"===this.$route.name){if(10!==e)return!1;if(s)return!1;if(i)return!1;if(o)return!1}return!0},storeName:function(){var t=this.couponInfo.usage_store_name;return t||this.storeInfo.name_short},couponImg:function(){var t=this.couponInfo.usage_store_image;return t||this.storeInfo.image},orderTime:function(){var t=this.orderInfo,e="";return t.delivery_reserv_date&&(e=t.delivery_reserv_date),{date:e}}},methods:{goOrder:function(){var t="",e=this.couponInfo.include_store_ids;if(e)for(var i in e)if(!t){t=i;break}var s=this.couponInfo.usage_store_type,o=this.couponInfo.usage_store_code;1===s?this.$router.push("Home"):2===s&&o?this.$router.push("/brand/"+o):3===s&&t&&this.$router.push("/menu/"+t)},getAllStr:function(t){var e="";if(t){for(var i in t)e=e+t[i]+"、";return e.slice(0,-1)}return e},chooseCoupon:function(){this.clickCoupon&&this.edit&&this.couponState?(this.check=!this.check,this.clickCoupon(this.couponInfo.code,this.couponInfo)):"Coupons"===this.$route.name||"ubcoupons"===this.$route.name||"uscoupons"===this.$route.name&&"undefined"!==typeof this.edit?this.show.modal_coupon_info=!0:this.couponStatusColor(this.couponInfo)},checkChoose:function(){var t=this,e=this.chooseCodes.find((function(e){return e===t.couponInfo.code}));this.check=!!e},getCouponNickname:function(t){if(t){if(t%10===0)return t=(100-t)/10,t;if(t%10!==0)return t=100-t,t}}},created:function(){this.edit&&this.checkChoose()},watch:{chooseCodes:function(){this.edit&&this.checkChoose()}}},a=n,c=(i("6aa1"),i("2877")),u=Object(c["a"])(a,s,o,!1,null,"60fb0275",null);e["a"]=u.exports},b084:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0yNy45NDA3IDE1LjM3MUMyNy40MjMxIDE1LjM3MSAyNy4wMDkgMTQuOTU3IDI3LjAwOSAxNC40Mzk0QzI3LjAwOSA5LjE0NTM3IDIzLjExOTkgNS40NjMyIDE3LjU1OTcgNS40NjMyQzExLjk5OTUgNS40NjMyIDguMTEwMjcgOS4xNjAxNiA4LjExMDI3IDE0LjQzOTRDOC4xMTAyNyAxNC45NTcgNy42OTYyMSAxNS4zNzEgNy4xNzg2NCAxNS4zNzFDNi42NjEwNyAxNS4zNzEgNi4yNDcwMSAxNC45NTcgNi4yNDcwMSAxNC40Mzk0QzYuMjQ3MDEgOC4xNjkzOCAxMC45OTM5IDMuNTk5OTggMTcuNTQ0OSAzLjU5OTk4QzI0LjA5NTggMy41OTk5OCAyOC44NDI3IDguMTU0NTkgMjguODQyNyAxNC40Mzk0QzI4Ljg3MjMgMTQuOTU3IDI4LjQ1ODIgMTUuMzcxIDI3Ljk0MDcgMTUuMzcxWiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTguNTI0MyAyNS4zNTI4QzUuODAzMzUgMjUuMzUyOCAzLjU5OTk4IDIzLjE0OTQgMy41OTk5OCAyMC40Mjg0VjE4LjM1ODFDMy41OTk5OCAxNS42MzcyIDUuODAzMzUgMTMuNDMzOCA4LjUyNDMgMTMuNDMzOEMxMC4wNzcgMTMuNDMzOCAxMS4zNDg4IDE0LjcwNTYgMTEuMzQ4OCAxNi4yNTgzVjIyLjUyODNDMTEuMzQ4OCAyNC4wODEgMTAuMDc3IDI1LjM1MjggOC41MjQzIDI1LjM1MjhaTTguNTI0MyAxNS4yODIzQzYuODIzNzEgMTUuMjgyMyA1LjQ0ODQ1IDE2LjY1NzYgNS40NDg0NSAxOC4zNTgxVjIwLjQyODRDNS40NDg0NSAyMi4xMjkgNi44MjM3MSAyMy41MDQzIDguNTI0MyAyMy41MDQzQzkuMDU2NjYgMjMuNTA0MyA5LjUwMDI5IDIzLjA3NTUgOS41MDAyOSAyMi41MjgzVjE2LjI1ODNDOS40ODU1MSAxNS43MTEyIDkuMDU2NjYgMTUuMjgyMyA4LjUyNDMgMTUuMjgyM1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0yNy4xNDIxIDI1LjM1MjhDMjUuNTg5NCAyNS4zNTI4IDI0LjMxNzYgMjQuMDgxIDI0LjMxNzYgMjIuNTI4M1YxNi4yNTgzQzI0LjMxNzYgMTQuNzA1NiAyNS41ODk0IDEzLjQzMzggMjcuMTQyMSAxMy40MzM4QzI5Ljg2MyAxMy40MzM4IDMyLjA2NjQgMTUuNjM3MiAzMi4wNjY0IDE4LjM1ODFWMjAuNDI4NEMzMi4wNjY0IDIzLjEzNDYgMjkuODYzIDI1LjM1MjggMjcuMTQyMSAyNS4zNTI4Wk0yNy4xNDIxIDE1LjI4MjNDMjYuNjA5NyAxNS4yODIzIDI2LjE2NjEgMTUuNzExMiAyNi4xNjYxIDE2LjI1ODNWMjIuNTI4M0MyNi4xNjYxIDIzLjA2MDcgMjYuNTk0OSAyMy41MDQzIDI3LjE0MjEgMjMuNTA0M0MyOC44NDI3IDIzLjUwNDMgMzAuMjE3OSAyMi4xMjkgMzAuMjE3OSAyMC40Mjg0VjE4LjM1ODFDMzAuMjE3OSAxNi42NTc2IDI4Ljg0MjcgMTUuMjgyMyAyNy4xNDIxIDE1LjI4MjNaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjAuOTQ2MSAzMS4xNDk2QzIwLjQ0MzMgMzEuMTQ5NiAyMC4wMjkyIDMwLjc1MDMgMjAuMDE0NCAzMC4yNDc1QzE5Ljk5OTYgMjkuNzMgMjAuNDEzNyAyOS4zMTU5IDIwLjkxNjUgMjkuMzAxMUMyNi4zODggMjkuMTk3NiAyNy4wNTM0IDI2LjcxMzMgMjcuMDIzOCAyNC41NTQyQzI3LjAwOSAyNC4wMzY3IDI3LjQyMzEgMjMuNjIyNiAyNy45NDA3IDIzLjYwNzhDMjguNDI4NyAyMy42Mzc0IDI4Ljg3MjMgMjQuMDA3MSAyOC44ODcxIDI0LjUyNDdDMjguOTMxNCAyNy40Njc0IDI3LjYwMDUgMzEuMDE2NSAyMC45NzU2IDMxLjE0OTZDMjAuOTQ2MSAzMS4xNDk2IDIwLjk0NjEgMzEuMTQ5NiAyMC45NDYxIDMxLjE0OTZaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTguNTk0OCAzMi45NTM3SDE2LjM0N0MxNC43NjQ3IDMyLjk1MzcgMTMuNDkzIDMxLjY2NzEgMTMuNDkzIDMwLjA5OTZDMTMuNDkzIDI4LjUzMjEgMTQuNzc5NSAyNy4yNDU2IDE2LjM0NyAyNy4yNDU2SDE4LjU5NDhDMjAuMTc3MSAyNy4yNDU2IDIxLjQ0ODggMjguNTMyMSAyMS40NDg4IDMwLjA5OTZDMjEuNDQ4OCAzMS42NjcxIDIwLjE2MjMgMzIuOTUzNyAxOC41OTQ4IDMyLjk1MzdaTTE2LjMzMjIgMjkuMDk0MUMxNS43NzAzIDI5LjA5NDEgMTUuMzI2NyAyOS41NTI1IDE1LjMyNjcgMzAuMDk5NkMxNS4zMjY3IDMwLjY2MTYgMTUuNzg1MSAzMS4xMDUyIDE2LjMzMjIgMzEuMTA1MkgxOC41OEMxOS4xNDE5IDMxLjEwNTIgMTkuNTg1NSAzMC42NDY4IDE5LjU4NTUgMzAuMDk5NkMxOS41ODU1IDI5LjUzNzcgMTkuMTI3MSAyOS4wOTQxIDE4LjU4IDI5LjA5NDFIMTYuMzMyMloiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="},b0ec:function(t,e,i){},b149:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"column nd-profile-nav"},[i("nd-avatar"),i("nd-nav")],1)])},o=[],r=i("7570"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("q-card",{staticClass:"full-width q-mt-md"},[i("q-list",[i("q-item",{attrs:{active:"Profile"===t.$route.name,"active-class":"menu-active",clickable:"",to:{name:"Profile"}}},[i("q-item-section",[i("div",{staticClass:"font-size-subtitle-1"},[t._v("\n            "+t._s(t.$t("account.profile"))+"\n          ")])])],1),t.isLogin&&!t.isPhoneVerity?i("div",[!t.canUpgrade||t.isExistingMember?i("q-item",{attrs:{active:"Setting"===t.$route.name,"active-class":"menu-active",clickable:""},on:{click:function(e){return t.$router.push({name:"Setting"})}}},[i("q-item-section",[i("div",{staticClass:"font-size-subtitle-1"},[t._v("\n              "+t._s(t.$t("account.setting"))+"\n            ")])])],1):t._e(),i("q-item",{attrs:{active:"Payment"===t.$route.name,"active-class":"menu-active",clickable:""},on:{click:function(e){return t.$router.push({name:"Payment"})}}},[i("q-item-section",[i("div",{staticClass:"font-size-subtitle-1",domProps:{textContent:t._s(t.$t("account.payment"))}})])],1),i("q-item",{attrs:{active:"Address"===t.$route.name,"active-class":"menu-active",clickable:""},on:{click:function(e){return t.$router.push({name:"Address"})}}},[i("q-item-section",[i("div",{staticClass:"font-size-subtitle-1",domProps:{textContent:t._s(t.$t("account.common_address"))}})])],1),i("q-item",{attrs:{active:"Carrier"===t.$route.name,"active-class":"menu-active",clickable:""},on:{click:function(e){return t.$router.push({name:"Carrier"})}}},[i("q-item-section",[i("div",{staticClass:"font-size-subtitle-1"},[t._v("\n              "+t._s(t.$t("account.carrier"))+"\n            ")])])],1)],1):t._e()],1)],1)],1)},a=[],c=i("791e"),u={name:"nd-nav",mixins:[c["a"]],computed:{brandOrPlatform:function(){return this.isUnique?"Account":"MemberCardList"}}},d=u,l=(i("8c1d"),i("2877")),M=Object(l["a"])(d,n,a,!1,null,"9e3c25b8",null),h=M.exports,p={name:"nd-profile-nav",components:{"nd-avatar":r["a"],"nd-nav":h}},m=p,g=(i("14d2"),Object(l["a"])(m,s,o,!1,null,"757b30f2",null));e["a"]=g.exports},b155:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNjAgNjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDYwIDYwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+Cjx0aXRsZT5jb25uZWN0PC90aXRsZT4KPGcgaWQ9IkZVTExfQ09MT1JfSUNPTiI+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzAsMS40Yy0xNi41LDAtMzAsMTEtMzAsMjQuM2MwLDEyLDEwLjcsMjIuMSwyNS4xLDI0YzEsMC4yLDIuMywwLjYsMi42LDEuNWMwLjIsMC45LDAuMywxLjgsMC4xLDIuNwoJCWwtMC40LDIuNWMtMC4xLDAuOC0wLjYsMywyLjYsMS42UzQ3LjMsNDgsNTMuNSw0MC43YzQuNC00LjgsNi40LTkuNiw2LjQtMTVoMEM2MCwxMi4zLDQ2LjUsMS40LDMwLDEuNHogTTE5LjQsMzIuOQoJCWMwLDAuMy0wLjMsMC42LTAuNiwwLjZoLTguNGMtMC4xLDAtMC4zLTAuMS0wLjQtMC4yYy0wLjEtMC4xLTAuMi0wLjItMC4yLTAuNFYxOS45YzAtMC4zLDAuMy0wLjYsMC42LTAuNmgyLjEKCQljMC4zLDAsMC42LDAuMywwLjYsMC42djEwLjRoNS43bDAtMC4xYzAuMywwLDAuNiwwLjMsMC42LDAuNlYzMi45eiBNMjQuNSwzMi45YzAsMC4zLTAuMywwLjYtMC42LDAuNmgtMi4xYy0wLjMsMC0wLjYtMC4zLTAuNi0wLjYKCQlWMTkuOWMwLTAuMywwLjMtMC42LDAuNi0wLjZoMi4xYzAuMywwLDAuNiwwLjMsMC42LDAuNlYzMi45eiBNMzksMzIuOEMzOSwzMi44LDM5LDMyLjgsMzksMzIuOGMwLDAuMy0wLjMsMC42LTAuNiwwLjZIMzYKCQljLTAuMSwwLTAuMS0wLjEtMC4yLTAuMWwtNi04LjF2OGMwLDAuMy0wLjMsMC42LTAuNiwwLjZoLTIuMWMtMC4zLDAtMC42LTAuMy0wLjYtMC42VjIwLjFjMC0wLjMsMC4zLTAuNiwwLjYtMC42aDIuNmw2LDguMXYtNy44CgkJYzAtMC4zLDAuMy0wLjYsMC42LTAuNmgyLjFjMC4zLDAsMC42LDAuMywwLjYsMC42VjMyLjh6IE01MCwyNC44YzAuMywwLDAuNiwwLjMsMC42LDAuNnYyLjFjMCwwLDAsMCwwLDBjMCwwLjMtMC4zLDAuNi0wLjYsMC42CgkJaC01Ljd2Mi4ySDUwYzAuMywwLDAuNiwwLjMsMC42LDAuNnYyLjFjMCwwLjMtMC4zLDAuNi0wLjYsMC42aC04LjRjLTAuMSwwLTAuMy0wLjEtMC40LTAuMmMtMC4xLTAuMS0wLjItMC4yLTAuMi0wLjRWMTkuOAoJCWMwLTAuMSwwLjEtMC4zLDAuMi0wLjRjMC4xLTAuMSwwLjMtMC4yLDAuNC0wLjJINTBjMC4zLDAsMC42LDAuMywwLjYsMC42djIuMWMwLDAsMCwwLDAsMGMwLDAuMy0wLjMsMC42LTAuNiwwLjZoLTUuN3YyLjJINTB6Ii8+CjwvZz4KPC9zdmc+Cg=="},b41b:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("credit-radio-list",{attrs:{list:t.creditList,opt:t.credit_list_opt,change:t.creditRadioChange},model:{value:t.creditRadio,callback:function(e){t.creditRadio=e},expression:"creditRadio"}})],1)},o=[],r=i("791e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("q-list",t._l(t.radioList,(function(e,s){return i("q-item",{key:t.opt.name+"-"+s,staticClass:"input-block q-px-none q-mb-sm",class:{focus:e.value===t.radioVal},attrs:{tag:"label"}},[i("q-item-section",[i("div",{staticClass:"flex justify-start"},[i("div",{staticClass:"col-auto q-pr-md flex flex-center"},[i("div",{staticStyle:{width:"37px"}},[i("img",{staticClass:"full-width img-credit-type",staticStyle:{left:"0px"},attrs:{src:t.creditImg(e.data.type)}})])]),i("div",{staticClass:"col flex items-center"},[i("div",[e.data.type?i("q-item-label",[t._v(t._s(e.data.card_name)+"-"+t._s(e.data.issuer)+" "),1===e.data.is_default?i("q-badge",{staticClass:"q-py-xs",attrs:{color:"primary",label:"預設"}}):t._e()],1):t._e(),e.value?i("q-item-label",{staticClass:"text-gray-3 q-mt-none"},[i("div",[t._v("*"+t._s(e.label))])]):i("q-item-label",[t._v(t._s(e.label))])],1)])])]),i("q-item-section",{attrs:{side:""}},[i("q-radio",{attrs:{val:e.value,color:"primary"},on:{input:t.change},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}})],1)],1)})),1)],1)},a=[],c=i("87d7"),u=i.n(c),d=i("f139"),l=i.n(d),M=i("f117"),h=i.n(M),p=i("7fe6"),m=i.n(p),g=i("0c76"),_=i.n(g),f=i("7407"),y=i.n(f),I={props:["value","opt","list","change"],data:function(){return{radioVal:""}},methods:{creditImg:function(t){return 1===t?u.a:2===t?l.a:3===t?h.a:4===t?m.a:5===t?_.a:y.a}},computed:{radioList:function(){return this.opt.max&&this.list?this.list.slice(0,this.opt.max):this.list}},watch:{value:function(){this.radioVal=this.value}}},N=I,D=(i("82b6"),i("2877")),j=Object(D["a"])(N,n,a,!1,null,"88d25800",null),v=j.exports,L={mixins:[r["a"]],props:{creditList:Array,orderAttach:Object},components:{"credit-radio-list":v},data:function(){return{creditRadio:"",credit_list_opt:{name:"credit-list",max:6}}},methods:{creditRadioChange:function(t){this.creditRadio=t,this.$set(this.orderAttach,"card_id",t)}},mounted:function(){this.creditList.length&&(this.creditRadio=this.creditList[0].value,this.$set(this.orderAttach,"card_id",this.creditRadio))},created:function(){}},x=L,T=Object(D["a"])(x,s,o,!1,null,null,null);e["a"]=T.exports},b7ae:function(t,e,i){},b7bf:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t.orderDate?t._e():[i("i-li",{staticClass:"q-mb-0",attrs:{icon:"motor",name:"外送運費","font-weight":"text-weight-bold"}}),t.orderMinPrice||t.storeInfo.max_delivery_distance_m?i("p",[t.orderMinPrice?i("span",[t._v("滿 $"+t._s(t.orderMinPrice)+" 即可外送")]):t._e(),t.orderMinPrice&&t.storeInfo.max_delivery_distance_m?i("span",[t._v("，")]):t._e(),t.storeInfo.max_delivery_distance_m?i("span",[t._v("運送距離上限為 "+t._s(t._f("mToKm")(t.storeInfo.max_delivery_distance_m))+" 公里")]):t._e(),t._v("\n    。")]):t._e()],i("div",{staticClass:"shipping-table"},t._l(t.shipping_list,(function(e,s){return i("q-markup-table",{key:s,attrs:{flat:""}},[i("tr",{staticClass:"bg-gray-6"},[1!=e.shipping_fee_type?i("th",[t._v("運送距離")]):t._e(),2!=e.shipping_fee_type?i("th",[t._v("\n          訂單金額\n          "),i("q-icon",{staticClass:"nd-m-0 nd-ml-1 cursor-pointer text-gray-2",attrs:{name:"far fa-question-circle",size:"14px"},on:{click:t.openDialog}})],1):t._e(),i("th",[t._v("運費")])]),t._l(e.fee_list,(function(s,o){return i("tr",{key:o},[1!=e.shipping_fee_type?i("td",[s.start_distance||s.end_distance?s.start_distance?s.end_distance?i("span",[t._v(t._s(t._f("mToKm")(t.numeral(s.start_distance).add(100).value()))+" ~ "+t._s(t._f("mToKm")(s.end_distance))+" 公里")]):i("span",[t._v(t._s(t._f("mToKm")(t.numeral(s.start_distance).add(100).value()))+" 公里以上")]):i("span",[t._v("0 ~ "+t._s(t._f("mToKm")(s.end_distance))+" 公里")]):i("span",[t._v("不限距離")])]):t._e(),2!=e.shipping_fee_type?i("td",[3!=e.shipping_fee_type?[s.start_money||s.end_money?s.end_money?i("span",[t._v("$"+t._s(s.start_money)+" ~ $"+t._s(s.end_money))]):i("span",[t._v("$"+t._s(s.start_money)+" 以上")]):i("span",[t._v("不限金額")])]:i("table",{staticClass:"w-100"},t._l(s.range,(function(e,s){return i("tr",{key:s},[i("td",[e.end_money?i("span",[t._v("$"+t._s(e.start_money)+" ~ $"+t._s(e.end_money))]):i("span",[t._v("$"+t._s(e.start_money)+" 以上")])])])})),0)],2):t._e(),i("td",[3!=e.shipping_fee_type?i("span",[t._v("$"+t._s(s.fee))]):i("table",{staticClass:"w-100"},t._l(s.range,(function(e,s){return i("tr",{key:s},[i("td",[t._v("$"+t._s(e.fee))])])})),0)])])}))],2)})),1),t.storeInfo.shipping_description?i("div",{staticClass:"q-mb-sm text-secondary"},[t._v("＊"+t._s(t.storeInfo.shipping_description))]):t._e()],2)},o=[],r=i("4db1"),n=i.n(r),a=i("c1df"),c=i.n(a),u=i("791e"),d=i("0c6b"),l=i("6612"),M=i.n(l),h={props:["storeInfo","orderDate"],mixins:[u["a"]],components:{"i-li":d["a"]},data:function(){return{numeral:M.a,date:c()().format("YYYY-MM-DD"),shipping_list:[]}},computed:{shippingList:function(){var t=this.shipping_list,e=[];t.forEach((function(t){1===t.time_type&&(t.time_interval.length?t.time_interval.forEach((function(i){var s={current_time:i,fee_list:t.fee_list,time_type:t.time_type,usage_type:t.usage_type};e.push(s)})):e.push(t))}));var i=[];return t.forEach((function(t){2===t.time_type&&(t.time_interval.length?t.time_interval.forEach((function(e){var s={current_time:e,fee_list:t.fee_list,time_type:t.time_type,usage_type:t.usage_type};i.push(s)})):i.push(t))})),{normal:e,unique:i}},orderMinPrice:function(){var t=this.storeInfo.delivery_info.filter((function(t){return 3==t.delivery_type})).map((function(t){return t.order_min_price}));return t.length?Math.min.apply(Math,n()(t)):0}},methods:{dateOption:function(t){var e=c()().format("YYYY/MM/DD");return t>=e},toTime:function(t){return this.getTime(2,t,"HH:mm")},feeList:function(t){var e=[];return t.forEach((function(t){e=t.fee_list})),e},getShippingList:function(){var t=this,e="/store/"+this.storeInfo.id+"/shippingFeeList?date="+this.date;this.getData(e,null).then((function(e){200===e.data.status&&(t.shipping_list=e.data.shipping_fee_list,t.$store.commit("order/setShippingDate",t.date),t.$store.commit("order/setShipping",t.shipping_list))})).catch((function(t){}))},changeDate:function(){this.$refs.shippinDate.hide(),this.getShippingList()},openDialog:function(){this.$q.dialog({class:"nidin-dialog",title:"訂單金額說明",message:"計算商品金額 (折扣前) ，不含塑膠袋。",ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"}})}},created:function(){var t=this.$store.state.order.shipping,e=this.$store.state.order.shipping_date;t.length&&e?(this.shipping_list=t,this.date=e):this.getShippingList()},watch:{orderDate:function(){this.orderDate&&(this.date=this.orderDate,this.getShippingList())}}},p=h,m=i("2877"),g=Object(m["a"])(p,s,o,!1,null,null,null);e["a"]=g.exports},b83d:function(t,e,i){},b892:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-height flex items-center cursor-pointer bg-white shadow q-pa-none border-around overflow-hidden"},[t.statusName?i("div",{staticClass:"title text-center flex flex-center column absolute full-width",class:t.statusColor},[i("div",{staticClass:"font-size-subtitle-1 text-bold text-capitalize text-white"},[t._v("\n      "+t._s(t.statusName)+"\n    ")]),130===this.orderInfo.status&&130===t.deliveryComplete.status?i("div",{staticClass:"font-size-caption text-capitalize text-white"},[t._v("\n      "+t._s(t.statusSubName)+"\n    ")]):t._e()]):t._e(),i("div",{staticClass:"q-pa-md full-width full-height items-center flex",class:t.statusName?"n-pt-status":""},[i("div",{staticClass:"flex justify-between items-center q-mb-sm absolute full-width q-px-md q-pt-md",class:t.statusName?"n-pt-status":"",staticStyle:{top:"0px",left:"0px"}},[i("div",{staticClass:"text-left"},[t.orderType?i("q-badge",{staticClass:"border",attrs:{label:t.orderType}}):t._e()],1),i("div",{staticClass:"text-right"},[t.statusName?i("div",[t._v(t._s(t.getTime(1,t.orderInfo.order_time,"MM/DD HH:mm")))]):i("div",[t._v(t._s(t.getTime(1,t.orderInfo.create_time,"MM/DD HH:mm")))])])]),i("div",{staticClass:"flex column full-width"},[i("div",{staticClass:"flex flex-center",staticStyle:{"margin-top":"33px"}},[t.orderInfo.store_image?i("div",{staticStyle:{width:"70px"}},[i("q-img",{attrs:{src:t.orderInfo.store_image,ratio:1,"img-class":"circle border"}})],1):t.orderInfo.store_images?i("div",{staticStyle:{width:"70px"}},[i("img",{staticClass:"full-width circle border",attrs:{src:t.orderInfo.store_images[0],alt:""}})]):t._e()]),i("div",{staticClass:"text-center q-mt-sm"},[i("div",{staticClass:"font-size-subtitle-1 mobile-small"},[t._v(t._s(t.orderInfo.total_amount)+" 項商品")]),i("div"),i("div",{staticClass:"font-size-subtitle-1 mobile-small"},[t._v(t._s(t.orderInfo.brand_name_s)+" "+t._s(t.orderInfo.store_name_s))]),i("hr",{staticClass:"q-my-sm"}),i("div",{staticClass:"text-bold font-size-h5 q-py-sm"},[t._v(t._s(t.$t("order.total",{money:t.money||0})))]),"carts"===t.$route.name||"cart"===t.$route.name||"OnSiteCheckout"===t.$route.name?i("div",{staticClass:"q-my-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill",attrs:{label:t.$t("order.order_pay")}})],1):t._e(),t.showDelete&&!t.orderInfo.order_status?i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"absolute q-pa-sm cursor",staticStyle:{right:"-10px",bottom:"0px"},on:{click:function(e){return e.preventDefault(),t.clickDelBtn(e)}}},[i("q-icon",{attrs:{name:"delete",size:"20px",color:"secondary"}})],1):t._e(),"orders"===t.$route.name&&!t.orderInfo.is_rated&&t.orderInfo.can_rating?i("div",{staticClass:"q-my-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill bg-secondary",attrs:{label:"前往評價"}})],1):"orders"!==t.$route.name||t.disReorder?t._e():i("div",{staticClass:"q-my-sm"},[i("q-badge",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pill",class:t.disReorder?"bg-white":"bg-secondary",attrs:{label:t.$t("order.order_again"),disable:t.disReorder},on:{click:function(e){return e.preventDefault(),t.clickReorderBtn(e)}}})],1)])])])])},o=[],r=(i("6762"),i("2fdb"),i("7f7f"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c1df")),n=i.n(r),a=i("791e"),c={mixins:[a["a"]],props:{orderInfo:Object},data:function(){return{show:{modal_del_cart:!1}}},methods:{rebuildOrder:function(){var t=this,e="/order/"+this.orderInfo.order_id+"/rebuild";this.putDataH(e,null).then((function(e){if(200===e.data.status){var i=t.$store.state.order.cart_amount+1;t.$store.commit("order/setCartAmount",i),t.$router.push("/orderList/"+e.data.order_id)}})).catch((function(t){}))},checkRebuildOrder:function(){var t=this,e=this,i="/order/"+this.orderInfo.order_id+"/rebuildCheck";this.getDataH(i,null).then((function(t){if(200===t.data.status){var i=t.data.invalid_orders,s="";if(Object.keys(i).length){for(var o in i){for(var r=e.$t("common.order")+"&nbsp;"+o,n="",a=0;a<i[o].error.length;a++){var c=a+1;n=n+"<br>"+c+". "+i[o].error[a].msg,c===i[o].error.length&&(n+="<br><br>")}s=s+r+n}e.$q.dialog({class:"nidin-dialog",title:e.$t("dialog.notice"),message:s,ok:{label:e.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:e.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},html:!0}).onOk((function(){e.rebuildOrder()}))}else e.rebuildOrder()}})).catch((function(i){i.data.status===e.$config.orderVersionError&&t.$q.dialog({class:"nidin-dialog",title:t.$t("dialog.notice"),message:t.$t("dialog.q.confirm_reorder"),cancel:{label:t.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},ok:{label:t.$t("dialog.confirm"),color:"primary",textColor:"white"},html:!0}).onOk((function(){e.$router.push("/menu/"+e.orderInfo.store_id)}))}))},clickReorderBtn:function(){this.checkRebuildOrder()},clickDelBtn:function(){var t=this;this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:this.$t("dialog.q.confirm_del_order"),ok:{label:this.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){t.delCart(),t.setGATag("delete_cart")}))},delCart:function(){var t=this,e="/carts/"+this.orderInfo.order_id;this.delDataH(e,null).then((function(e){if(200===e.data.status){t.$emit("reload",1);var i=t.$store.state.order.cart_amount-1;t.$store.commit("order/setCartAmount",i)}})).catch((function(t){}))},timeToTime:function(t){return n()(t,"HH:mm:ss").format("HH:mm")},mToKm:function(t){var e=t/1e3;return e.toFixed(1)+" km"},goToStore:function(){this.$router.push("/store/"+this.storeInfo.id)}},computed:{money:function(){return this.orderInfo.total_paid_money?this.orderInfo.total_paid_money:this.orderInfo.total_money},deliveryComplete:function(){var t=this.orderInfo.delivery_type,e={basic:{color:"bg-green",name:this.$t("status.complete"),status:130},prod_prepare:{color:"bg-primary",name:this.$t("status.preparing"),status:1301},prod_transport:{color:"bg-primary",name:this.$t("status.ready_to_deliver"),status:1302}};if(3===t){n()(this.orderTime.date+" "+this.orderTime.start,"YYYY-MM-DD HH:mm");var i=n()(this.orderTime.date+" "+this.orderTime.end,"YYYY-MM-DD HH:mm");if(13001===this.orderInfo.special_status)return e.prod_prepare;if(13002===this.orderInfo.special_status)return e.prod_transport;if(Date.parse(n()())>Date.parse(i))return e.basic}return e.basic},disReorder:function(){var t=this.orderInfo.status,e=this.orderInfo.order_type;return this.orderInfo.shopper_id!==this.getUId||(3===e||99!==t&&(120!==t&&(121!==t&&(122!==t&&(140!==t&&130!==t)))))},orderType:function(){switch(this.orderInfo.order_type){case 2:return this.$t("common.group_buying");case 3:return this.$t("common.with_group");default:return!1}},orderTime:function(){var t=this.orderInfo,e="",i="",s="",o=t.delivery_reserv_tolerance||0;return t.delivery_reserv_date&&(e=t.delivery_reserv_date),t.delivery_reserv_time&&(i=n()(t.delivery_reserv_time,"HH:mm:ss").format("HH:mm"),s=n()(t.delivery_reserv_time,"HH:mm:ss").add(o,"minutes").format("HH:mm")),{delivery_type:t.delivery_type,date:e,start:i,end:s}},showDelete:function(){return"carts"===this.$route.name&&2!==this.orderInfo.order_status},statusName:function(){if("OnSiteCheckout"===this.$route.name)return"";switch(this.orderInfo.status){case 0:return this.$t("status.not_confirm");case 1:case 2:return this.$t("status.paying");case 3:return this.$t("status.connecting");case 100:return this.$t("status.not_accept");case 110:return this.$t("status.accept");case 99:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.cancel");case 120:case 121:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.reject");case 122:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.store_cancel");case 130:return this.deliveryComplete.name;case 140:return[21,22].includes(this.orderInfo.payment_status)?this.$t("status.refund_requested"):this.$t("status.invalid");case 31:return this.$t("status.grouping");case 35:return this.$t("status.group_success");case 39:return this.$t("status.group_fail");case 38:return this.$t("status.leader_del");default:return""}},statusColor:function(){switch(this.orderInfo.status){case 99:case 120:case 121:case 122:case 140:case 39:case 38:return"bg-secondary";case 35:case 130:return this.deliveryComplete.color;case 1:case 2:case 3:case 100:case 110:case 31:case 0:default:return"bg-primary"}},statusSubName:function(){var t="";switch(this.orderInfo.delivery_type){case 1:t="請依取貨時間取貨";break;case 2:t="請依取貨時間取貨";break;case 3:t="將於約定時間配達";break;default:break}return t}}},u=c,d=(i("7c86"),i("2877")),l=Object(d["a"])(u,s,o,!1,null,"04004f0e",null);e["a"]=l.exports},bac2:function(t,e,i){},bae7:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"row items-center":t.inline,"q-mx-md-lg q-ma-xs-sm q-my-md-sm":!t.noPaddingLg,"q-my-md-sm q-mx-xs-sm":t.dismyxs}},[t.opt.name?i("p",{staticClass:"q-mr-sm",class:{"col-auto":t.inline,hidden:t.hideLabel}},[t._v("\n    "+t._s(t.opt.name)+"\n  ")]):t._e(),i("div",{staticClass:"q-mx-sm full-width",class:{col:t.inline},staticStyle:{"min-width":"120px"}},[t.opt.name&&t.isCouponsRouter&&t.$q.screen.lt.sm?i("div",{staticClass:"text-grey-8"},[t._v("\n      "+t._s(t.opt.name)+"\n    ")]):t._e(),i("q-select",{attrs:{outlined:"","use-input":"","hide-selected":"","fill-input":"","hide-dropdown-icon":"","input-style":{fontSize:"16px",lineHeight:"16px"},options:t.options},on:{filter:t.filterFn,input:t.inputChange},nativeOn:{"!click":function(e){return t.inputClear(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"fas fa-search",size:"14px"}})]},proxy:!0}]),model:{value:t.selectVal,callback:function(e){t.selectVal=e},expression:"selectVal"}})],1)])},o=[],r=(i("7f7f"),i("6b54"),i("06db"),{name:"NdSelectSearch",model:{prop:"value",event:"change"},props:["value","opt","list","inline","disable","hideLabel","noPaddingLg","dismyxs"],data:function(){return{selectVal:{value:"",label:""},selectLabel:"",options:this.list}},methods:{inputChange:function(t){this.selectLabel="",this.$emit("change",t),this.selectVal=t},inputClear:function(){0===this.selectVal.value&&(this.selectVal={value:"",label:""},this.selectLabel=this.opt.label)},filterFn:function(t,e,i){var s=this;e((function(){var e=t.toLocaleLowerCase();s.options=s.list.filter((function(t){return t.label.toLocaleLowerCase().indexOf(e)>-1}))}))}},created:function(){var t=this.opt.label.toString();this.selectLabel=t,this.selectLabel="",this.value&&(this.selectVal=this.value)},computed:{showIcon:function(){return!!this.selectVal.data&&this.selectVal.data.icon},isCouponsRouter:function(){return"Coupons"===this.$route.name||"OnSiteCoupon"===this.$route.name}},watch:{value:function(){this.selectLabel="",this.selectVal=this.value}}}),n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},bc05:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex items-center justify-between q-my-sm",class:{flex:t.flex,"cursor-pointer":t.to},on:{click:t.goto}},[i("div",{staticClass:"col flex items-center"},[t.imgSrc?i("div",{staticClass:"flex-auto q-ma-xs flex flex-center img-more"},[i("img",{staticClass:"full-width",attrs:{src:t.imgSrc,alt:""}})]):t._e(),i("div",{staticClass:"q-ma-none font-size-subtitle-2",class:{position:t.position,"q-pl-sm":t.imgSrc}},[t._v(t._s(t.name))])]),t.rightICon?i("div",{staticClass:"col-auto flex flex-center"},[i("div",[i("q-icon",{staticClass:"q-ma-none",attrs:{name:"fas fa-caret-right",size:"20px",color:"grey-5"}})],1)]):t._e()])},o=[],r=i("c031"),n=i.n(r),a=i("25ad"),c=i.n(a),u=i("f99a"),d=i.n(u),l=i("37de"),M=i.n(l),h=i("41d9"),p=i.n(h),m=i("798c"),g=i.n(m),_=i("b084"),f=i.n(_),y=i("8dfc"),I=i.n(y),N=i("04fc"),D=i.n(N),j=i("569b"),v=i.n(j),L=i("e6a7"),x=i.n(L),T=i("87bf"),w=i.n(T),A=i("76c3"),z=i.n(A),C=i("2214"),b=i.n(C),O=i("f442"),E=i.n(O),S=i("3785"),k=i.n(S),Y=i("cc60"),Q=i.n(Y),U=i("2900"),q=i.n(U),$=i("7967"),P=i.n($),G=i("60f4"),Z=i.n(G),H=i("97eb"),B=i.n(H),R=i("c0c3"),W=i.n(R),F={props:{img:String,name:String,position:String,to:String,rightICon:Boolean,toValue:String,pIcon:String},data:function(){return{}},methods:{goto:function(){this.to&&this.toValue?this.$router.push({name:this.to,params:{tovalue:this.toValue}}):this.to&&this.$router.push(this.to)}},computed:{flex:function(){return"center"===this.position?"flex-center":"flex-start"},imgSrc:function(){if(this.img)switch(this.img){case"i_o_term":return W.a;case"i_o_notify":return n.a;case"i_o_brands":return c.a;case"i_o_user_rule":return d.a;case"i_o_privacy_rule":return M.a;case"i_o_credit_card":return p.a;case"i_o_feedback":return g.a;case"i_o_service":return f.a;case"i_coupon":return z.a;case"i_credit-card":return b.a;case"i_activity":return E.a;case"i_o_credit_rule":return I.a;case"i_o_credit_rule_src":return D.a;case"i_login":return k.a;case"i_logout":return Q.a;case"i_o_nidin":return v.a;case"i_o_teaching":return x.a;case"i_password":return q.a;case"i_champion":return P.a;case"i_card":return Z.a;case"i_point":return B.a;case"i_confirmationnumber":return w.a;default:return!1}return!1}}},V=F,J=i("2877"),X=Object(J["a"])(V,s,o,!1,null,null,null);e["a"]=X.exports},c031:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0xNi42Njg5IDMzLjNIMTIuMTAwNEMxMS42MjQ2IDMzLjMgMTEuMjE2NyAzMi45NjM0IDExLjEwNzkgMzIuNDg2NEw5LjE3NzE5IDIzLjc4ODhINS41MTk3NEM0Ljk2MjI4IDIzLjc4ODggNC41IDIzLjMxMTkgNC41IDIyLjczNjdWOC4yMzE0MkM0LjUgNy42NTYyNiA0Ljk2MjI4IDcuMTc5MyA1LjUxOTc0IDcuMTc5M0gxOC42ODExTDMwLjk4NiAxLjg3NjU5QzMxLjI5ODcgMS43NTAzMyAzMS42NjU4IDEuNzc4MzkgMzEuOTUxMyAxLjk3NDc5QzMyLjIzNjggMi4xNzExOCAzMi40IDIuNDkzODMgMzIuNCAyLjg0NDU0VjI4LjE1MTZDMzIuNCAyOC41MDI0IDMyLjIyMzIgMjguODM5IDMxLjk1MTMgMjkuMDIxNEMzMS42NjU4IDI5LjIxNzggMzEuMzEyMyAyOS4yNDU5IDMwLjk4NiAyOS4xMTk2TDE4LjU5OTYgMjMuNzg4OEgxNS44MjU5TDE3LjY0NzggMzIuMDA5NEMxNy43MTU4IDMyLjMxODEgMTcuNjQ3OCAzMi42NTQ3IDE3LjQ1NzUgMzIuODkzMkMxNy4yODA3IDMzLjE1OTggMTYuOTgxNiAzMy4zIDE2LjY2ODkgMzMuM1pNMTIuOTE2MiAzMS4xOTU4SDE1LjM5MDhMMTMuNTY4OSAyMi45NzUyQzEzLjUwMDkgMjIuNjY2NiAxMy41Njg5IDIyLjMyOTkgMTMuNzU5MiAyMi4wOTE0QzEzLjk0OTYgMjEuODM4OSAxNC4yNDg3IDIxLjY5ODYgMTQuNTYxNCAyMS42OTg2SDE4LjgzMDdDMTkuMDA3NSAyMS42OTg2IDE5LjE4NDIgMjEuNzU0NyAxOS4zMzM4IDIxLjgzODlMMzAuMzYwNSAyNi41OTQ1VjQuNDI5NzRMMTkuMjc5NCA5LjE5OTM4QzE5LjE1NyA5LjI1NTQ5IDE5LjAyMTEgOS4yODM1NCAxOC44ODUxIDkuMjgzNTRINi41Mzk0N1YyMS42ODQ2SDkuOTkyOThDMTAuNDY4OSAyMS42ODQ2IDEwLjg3NjggMjIuMDIxMyAxMC45ODU1IDIyLjQ5ODJMMTIuOTE2MiAzMS4xOTU4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},c0c3:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0xMy4xNjY0IDguOTc4MjdINy42ODk4N0M3LjE5MDYzIDguOTc4MjcgNi43NjcwMyA5LjM4MjgxIDYuNzY3MDMgOS44OTIyNEM2Ljc2NzAzIDEwLjQwMTcgNy4xOTA2MyAxMC43OTEyIDcuNjg5ODcgMTAuNzkxMkgxMy4xNjY0QzEzLjY2NTcgMTAuNzkxMiAxNC4wODkzIDEwLjM4NjcgMTQuMDg5MyA5Ljg3NzI2QzE0LjA4OTMgOS4zNjc4MyAxMy42ODA4IDguOTc4MjcgMTMuMTY2NCA4Ljk3ODI3WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEzLjE2NjQgMTIuNjA0MUg3LjY4OTg3QzcuMTkwNjMgMTIuNjA0MSA2Ljc2NzAzIDEzLjAwODcgNi43NjcwMyAxMy41MTgxQzYuNzY3MDMgMTQuMDI3NSA3LjE5MDYzIDE0LjQxNzEgNy42ODk4NyAxNC40MTcxSDEzLjE2NjRDMTMuNjY1NyAxNC40MTcxIDE0LjA4OTMgMTQuMDEyNSAxNC4wODkzIDEzLjUwMzFDMTQuMDg5MyAxMi45OTM3IDEzLjY4MDggMTIuNjA0MSAxMy4xNjY0IDEyLjYwNDFaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTMuMTY2NCAxNi4yNDUxSDcuNjg5ODdDNy4xOTA2MyAxNi4yNDUxIDYuNzY3MDMgMTYuNjQ5NiA2Ljc2NzAzIDE3LjE1OUM2Ljc2NzAzIDE3LjY1MzUgNy4xNzU1IDE4LjA3MyA3LjY4OTg3IDE4LjA3M0gxMy4xNjY0QzEzLjY2NTcgMTguMDczIDE0LjA4OTMgMTcuNjY4NCAxNC4wODkzIDE3LjE1OUMxNC4wODkzIDE2LjY0OTYgMTMuNjgwOCAxNi4yNDUxIDEzLjE2NjQgMTYuMjQ1MVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xMy4xNjY0IDE5Ljg3MUg3LjY4OTg3QzcuMTkwNjMgMTkuODcxIDYuNzY3MDMgMjAuMjc1NSA2Ljc2NzAzIDIwLjc4NDlDNi43NjcwMyAyMS4yOTQ0IDcuMTc1NSAyMS42OTg5IDcuNjg5ODcgMjEuNjk4OUgxMy4xNjY0QzEzLjY2NTcgMjEuNjk4OSAxNC4wODkzIDIxLjI5NDQgMTQuMDg5MyAyMC43ODQ5QzE0LjA4OTMgMjAuMjc1NSAxMy42ODA4IDE5Ljg3MSAxMy4xNjY0IDE5Ljg3MVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xMy4xNjY0IDIzLjU3MThINy42ODk4N0M3LjE5MDYzIDIzLjU3MTggNi43NjcwMyAyMy45NzYzIDYuNzY3MDMgMjQuNDg1N0M2Ljc2NzAzIDI0Ljk4MDIgNy4xNzU1IDI1LjM5OTcgNy42ODk4NyAyNS4zOTk3SDEzLjE2NjRDMTMuNjY1NyAyNS4zOTk3IDE0LjA4OTMgMjQuOTk1MiAxNC4wODkzIDI0LjQ4NTdDMTQuMDg5MyAyMy45NzYzIDEzLjY4MDggMjMuNTcxOCAxMy4xNjY0IDIzLjU3MThaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTYuMjUyNiAxMC43OTEySDIxLjcyOTJDMjIuMjI4NCAxMC43OTEyIDIyLjY1MiAxMC4zODY3IDIyLjY1MiA5Ljg3NzIzQzIyLjY1MiA5LjM2NzggMjIuMjQzNSA4Ljk2MzI2IDIxLjcyOTIgOC45NjMyNkgxNi4yNTI2QzE1Ljc1MzQgOC45NjMyNiAxNS4zMjk4IDkuMzY3OCAxNS4zMjk4IDkuODc3MjNDMTUuMzI5OCAxMC4zODY3IDE1LjczODIgMTAuNzkxMiAxNi4yNTI2IDEwLjc5MTJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTYuMjUyNiAxNC40MTcySDIxLjcyOTJDMjIuMjI4NCAxNC40MTcyIDIyLjY1MiAxNC4wMTI2IDIyLjY1MiAxMy41MDMyQzIyLjY1MiAxMi45OTM4IDIyLjI0MzUgMTIuNTg5MiAyMS43MjkyIDEyLjU4OTJIMTYuMjUyNkMxNS43NTM0IDEyLjU4OTIgMTUuMzI5OCAxMi45OTM4IDE1LjMyOTggMTMuNTAzMkMxNS4zMjk4IDE0LjAxMjYgMTUuNzM4MiAxNC40MTcyIDE2LjI1MjYgMTQuNDE3MloiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xOS44MDc4IDE3LjE0NEMxOS44MDc4IDE2LjY0OTYgMTkuMzk5NCAxNi4yMyAxOC44ODUgMTYuMjNIMTYuMjUyNkMxNS43NTM0IDE2LjIzIDE1LjMyOTggMTYuNjM0NiAxNS4zMjk4IDE3LjE0NEMxNS4zMjk4IDE3LjYzODUgMTUuNzM4MiAxOC4wNTggMTYuMjUyNiAxOC4wNThIMTguODg1QzE5LjM4NDIgMTguMDU4IDE5LjgwNzggMTcuNjUzNCAxOS44MDc4IDE3LjE0NFoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0yOC40OTE3IDIzLjk0NjRDMjguMDk4MyAyMy42MzE3IDI3LjUyMzUgMjMuNjkxNyAyNy4yMDU4IDI0LjA4MTJMMjQuODQ1NyAyNy4wMDI5TDIzLjM3ODIgMjUuOTU0MUMyMi45Njk3IDI1LjY1NDQgMjIuMzk0OSAyNS43NDQzIDIyLjA5MjMgMjYuMTYzOUMyMS43ODk3IDI2LjU2ODQgMjEuODgwNSAyNy4xMzc4IDIyLjMwNDEgMjcuNDM3NEwyNC40Njc1IDI4Ljk5NTdDMjQuNjMzOSAyOS4xMTU1IDI0LjgxNTQgMjkuMTc1NSAyNS4wMTIxIDI5LjE3NTVDMjUuMjg0NCAyOS4xNzU1IDI1LjU0MTYgMjkuMDU1NiAyNS43MjMyIDI4LjgzMDlMMjguNjI3OCAyNS4yMzQ5QzI4Ljk0NTUgMjQuODMwNCAyOC44ODUgMjQuMjYxIDI4LjQ5MTcgMjMuOTQ2NFoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zMC44MDY0IDIxLjE1OTVDMjkuNjExMiAxOS45NjA4IDI4LjA4MzIgMTkuMTk2NyAyNi40MTkxIDE4Ljk3MlY2LjY1NTg3QzI2LjQxOTEgNC42MzMxNiAyNC43NTQ5IDMgMjIuNzI3NyAzSDYuNjkxMzhDNC42NjQxNSAzIDMgNC42NDgxNCAzIDYuNjU1ODdWMjcuNjkyMUMzIDI5LjcxNDggNC42NjQxNSAzMS4zNDggNi42OTEzOCAzMS4zNDhIMTkuNTgwOUMyMS4wMzMzIDMzLjA0MTEgMjMuMTIxIDM0IDI1LjM3NTIgMzRDMjkuNTgwOSAzNCAzMi45ODQ5IDMwLjYxMzggMzIuOTg0OSAyNi40NDg1QzMzIDI0LjQ1NTggMzIuMjEzMyAyMi41ODI5IDMwLjgwNjQgMjEuMTU5NVpNNC44MzA1NiAyNy43MDcxVjYuNjU1ODdDNC44MzA1NiA1LjYzNzAyIDUuNjYyNjMgNC44MTI5NSA2LjY5MTM4IDQuODEyOTVIMjIuNzEyNkMyMy43NDEzIDQuODEyOTUgMjQuNTczNCA1LjYzNzAyIDI0LjU3MzQgNi42NTU4N1YxOC45NDJDMjAuNzQ1OCAxOS4zMzE2IDE3Ljc1MDQgMjIuNTUyOSAxNy43NTA0IDI2LjQ0ODVDMTcuNzUwNCAyNy41MjczIDE3Ljk3NzMgMjguNTc2MSAxOC40MTYgMjkuNTM1SDYuNjkxMzhDNS42NjI2MyAyOS41MzUgNC44MzA1NiAyOC43MTEgNC44MzA1NiAyNy43MDcxWk0yNS4zNzUyIDMyLjE4N0MyMy41NDQ2IDMyLjE4NyAyMS44NjU0IDMxLjM0OCAyMC43NjEgMjkuOTA5NkMyMC4wMDQ1IDI4LjkwNTcgMTkuNTk2MSAyNy43MjIxIDE5LjU5NjEgMjYuNDYzNUMxOS41OTYxIDIzLjMwMjEgMjIuMTgzMSAyMC43MjUgMjUuMzc1MiAyMC43MjVDMjUuNDA1NCAyMC43MjUgMjUuNDM1NyAyMC43MjUgMjUuNDY2IDIwLjcyNUgyNS40ODExQzI3LjAwOTEgMjAuNzU1IDI4LjQzMTIgMjEuMzU0MyAyOS41MDUzIDIyLjQzMzFDMzAuNTc5NCAyMy41MTE4IDMxLjE2OTQgMjQuOTM1MiAzMS4xNjk0IDI2LjQ0ODVDMzEuMTU0MyAyOS42MSAyOC41NjczIDMyLjE4NyAyNS4zNzUyIDMyLjE4N1oiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="},c18d:function(t,e,i){"use strict";var s=i("6b9a"),o=i.n(s);o.a},c238:function(t,e,i){},c3e1:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy40MTQxIDQwLjkyNjhMMTQuNTg1NiAzOC4wOTgzTDI4LjcyNzggMjMuOTU2MkwxNC41ODU2IDkuODE0MDZMMTcuNDE0MSA2Ljk4NTYzTDMyLjk3MDMgMjIuNTQxOUMzMi45NzA0IDIyLjU0MTkgMzIuOTcwNCAyMi41NDIgMzEuNTU2MiAyMy45NTYyTDMyLjk3MDMgMjIuNTQxOUwzNC4zODQ2IDIzLjk1NjJMMTcuNDE0MSA0MC45MjY4WiIgZmlsbD0iIzYxNjE2MSIvPgo8L3N2Zz4K"},c469:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.radioList,(function(e,s){return i("div",{key:"radio"+(s+1),class:["input-block q-mb-sm cursor-pointer",{focus:e.value===t.radioVal}],on:{click:function(i){return t.updateChange(e)}}},[i("div",{staticClass:"row items-center justify-between"},[i("div",{staticClass:"col q-mr-md"},[i("div",{staticClass:"flex"},[t.noIcon?t._e():i("div",{staticClass:"vertical-middle  q-mr-sm"},[i("q-icon",{staticClass:"q-ma-none icon",attrs:{name:"far fa-sticky-note",size:"18px"}})],1),i("div",[e.label?i("div",{class:["break-all vertical-middle",{ellipsis:e.labelEllipsis}]},[t._v("\n              "+t._s(e.label)+"\n            ")]):t._e(),t._t("after-label",null,{item:e})],2)]),e.storeName?i("div",{staticClass:"text-weight-medium"},[t._v(t._s(e.storeName)),e.value===t.defaultValue?i("span",{staticClass:"store-default q-ml-xs"},[t._v("預設")]):t._e()]):t._e(),e.address?i("div",{staticClass:"break-all vertical-middle text-grey-7 font-size-caption"},[t._v(t._s(e.address))]):t._e()]),t._t("before-radio",null,{item:e}),i("q-radio",{attrs:{dense:"",val:e.value,disabled:e.disabled},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}})],2),t._t("description",null,{item:e})],2)})),0)},o=[],r={props:["value","opt","list","change","noIcon","initValue","defaultValue"],data:function(){return{radioVal:""}},methods:{updateChange:function(t){if(!t.disabled){this.radioVal=t.value;var e=this.list.filter((function(e){return e.value===t.value}))[0];this.$emit("updateChange",t.value,e.storeId)}}},computed:{radioList:function(){return this.opt&&this.opt.max&&this.list?this.list.slice(0,this.opt.max):this.list}},created:function(){this.initValue&&(this.radioVal=this.value)},watch:{value:function(){this.radioVal=this.value}}},n=r,a=(i("c590"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"20996b12",null);e["a"]=c.exports},c590:function(t,e,i){"use strict";var s=i("4d06"),o=i.n(s);o.a},c684:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"font-size-subtitle-2 text-weight-medium"},[t._v(t._s(t.$t("menu.group_dialog.title")))]),i("div",{staticClass:"q-mt-md flex-center bg-gray-6"},[i("div",{staticClass:"flex q-mt-md flex-center first-section"},[i("div",{class:t.$q.screen.gt.sm?"q-pl-md":"q-pl-sm"},[t._m(0)]),i("div",{staticClass:"flex items-center q-ml-sm",class:t.$q.screen.gt.sm?"q-pr-md":"q-pr-sm",staticStyle:{padding:"10px"}},[i("qrcode",{attrs:{value:t.gb_link,options:t.qrOpt}})],1),i("div",{staticClass:"section-bottom"})]),i("div",{staticClass:"qr-text"},[i("p",{staticClass:"b-color text-center font-size-subtitle-2 text-weight-medium"},[t._v("\n        "+t._s(t.$t("menu.group_dialog.msg.1"))),i("br"),t._v(t._s(t.$t("menu.group_dialog.msg.2"))+"\n        "),t.hasVoucherMenu?i("span",{staticClass:"font-size-subtitle-2 text-weight-medium"},[i("br"),t._v("\n          "+t._s(t.$t("menu.group_dialog.msg.3"))+"\n        ")]):t._e()])])]),i("div",{staticClass:"text-center text-white"},[i("i-input",{staticClass:"copy_url",attrs:{opt:t.gb_link_opt},model:{value:t.gb_link,callback:function(e){t.gb_link=e},expression:"gb_link"}}),i("div",{staticClass:"full-width"},[i("q-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.gb_link,expression:"gb_link",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copySuccess,expression:"copySuccess",arg:"success"}],staticClass:"btn-primary b-bg-secondary full-width",on:{click:t.getLineFriends}},[t._v("\n        "+t._s(t.$store.state.app.liff.ready?t.$t("menu.group_dialog.share_friends"):t.$t("menu.group_dialog.copy_link"))+"\n      ")])],1)],1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"copyGb_logo"},[s("img",{attrs:{src:i("aa8e"),alt:""}})])}],r=i("967e"),n=i.n(r),a=(i("96cf"),i("fa84")),c=i.n(a),u=(i("28a5"),i("7f7f"),i("2b0e")),d=i("791e"),l=i("d56f"),M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("p",[t.opt.required?i("span",{staticClass:"text-bold text-secondary q-mr-xs"},[t._v("＊")]):t._e(),t._v(t._s(t.opt.name)+"\n  ")]),i("q-input",{ref:t.opt.rules+"input",staticClass:"input_style",attrs:{disable:t.opt.disable,outlined:"",type:t.inputType,placeholder:t.inputPlaceholder,rules:t.inputRules,maxlength:t.opt.maxlength,hint:t.inputHint,mask:t.inputMask},on:{input:t.inputChange},scopedSlots:t._u([t.opt.icon?{key:"append",fn:function(){return["visibility"===t.opt.icon?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility",size:"20px"},on:{click:function(e){t.isPwd=!t.isPwd}}}):i("q-icon",{staticClass:"q-mr-none",attrs:{name:t.opt.icon,size:"20px"}})]},proxy:!0}:null],null,!0),model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}})],1)},h=[],p=(i("386d"),{model:{prop:"value",event:"change"},props:["value","opt"],data:function(){return{isPwd:!0,inputVal:""}},methods:{inputChange:function(t){var e=t;if("carrier_id"===this.opt.rules){var i=/^[0-9\/\.\+\-A-Za-z]*$/,s=t.substring(t.length-1);i.test(s)||(e=t.substring(0,t.length-1)),e=e.toUpperCase(),this.inputVal=e}if("email"===this.opt.rules){var o=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;-1!==e.search(o)&&(this.inputVal=e)}" "===e?(this.inputVal="",this.$emit("change","")):this.$emit("change",e)},calculate:function(t){var e=t%10,i=(t-e)/10;return e+i},checkEin:function(t){var e=[],i=[1,2,1,2,1,2,4,1];if(t){if(8===t.length){for(var s=0;s<t.length;s++)e.push(parseInt(t[s],10));for(var o=0,r=0;r<i.length;r++)o+=this.calculate(e[r]*i[r]);return o%10===0||o%5===0||7===e[6]&&((o+1)%10===0||(o+1)%5===0)}return!1}return!this.opt.required},resetInput:function(){var t=this;this.$nextTick((function(){t.$refs["".concat(t.opt.rules,"input")].resetValidation()}))}},computed:{inputMask:function(){return"phone"===this.opt.rules?"##########":"ein"===this.opt.rules?"########":void 0},inputHint:function(){return this.opt.hint?this.opt.hint:"phone"===this.opt.rules?this.$t("certification.phone_hint"):void 0},passwordRule:function(){return[function(t){return!!t||"密碼為空"},function(t){return t.length>=6&&t.length<=64||"密碼長度錯誤 (6~64字)"}]},einRule:function(){var t=this,e=/^[0-9]*$/;return this.opt.required||this.inputVal?[function(t){return e.test(t)||"統一編號錯誤"},function(e){return t.checkEin(e)||"統一編號錯誤"}]:(t.resetInput(),[])},carrierIdRule:function(){var t=/^[0-9\/\.\+\-A-Z\s]*$/;return[function(t){return!!t||"載具號碼為空"},function(t){return"/"===t[0]||"載具號碼格式錯誤"},function(e){return t.test(e)||"請輸入正確的載具號碼 (英文字母為大寫)"},function(t){return 8===t.length||"載具號碼長度錯誤"}]},telRule:function(){var t=this,e=/^[0-9\-\(\)\#\s]*$/;return[function(e){return!!e||t.$t("certification.phone_empty")},function(t){return e.test(t)||"請輸入正確的聯絡電話"}]},phoneRule:function(){var t=/^[0-9]*$/;return[function(t){return!!t||"手機號碼為空"},function(t){return"09"===t.slice(0,2)||"請輸入正確的手機號碼"},function(t){return 10===t.length||"手機號碼長度錯誤"},function(e){return t.test(e)||"請輸入正確的手機號碼"}]},emailRule:function(){var t=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;return[function(t){return!!t||"Email 為空"},function(e){return t.test(e)||"請輸入正確的 Email"}]},userNoRule:function(){var t=/^[A]{1}[0-9]{9}$/;return[function(t){return!!t||"會員編號為空"},function(e){return t.test(e)||"請輸入正確的會員編號"}]},codeRule:function(){var t=/^[0-9A-Za-z\s]*$/;return[function(t){return!!t||"特約碼為空"},function(t){return 8===t.length||"特約碼長度錯誤"},function(e){return t.test(e)||"請輸入正確的特約碼"}]},inputRules:function(){var t=this;return"tel"===this.opt.rules?this.telRule:"carrier_id"===this.opt.rules?this.carrierIdRule:"ein"===this.opt.rules?this.einRule:"phone"===this.opt.rules?this.phoneRule:"user_no"===this.opt.rules?this.userNoRule:"code"===this.opt.rules?this.codeRule:"password"===this.opt.rules?this.passwordRule:"email"===this.opt.rules?this.emailRule:this.opt.required?[function(e){return!!e||t.opt.name+"為空"}]:[]},inputType:function(){return"password"===this.opt.rules?this.isPwd?"password":"text":this.opt.type?this.opt.type:"text"},inputPlaceholder:function(){return this.opt.placeholder?this.opt.placeholder:""}},created:function(){this.inputVal=this.value},watch:{value:function(){this.inputVal=this.value}}}),m=p,g=(i("1ae1"),i("2877")),_=Object(g["a"])(m,M,h,!1,null,"6679b995",null),f=_.exports,y=i("4eb5"),I=i.n(y);u["default"].component(l["a"].name,l["a"]),I.a.config.autoSetContainer=!0,u["default"].use(I.a);var N={components:{"i-input":f},mixins:[d["a"]],props:{store:Object,shareCode:String,hasVoucherMenu:{type:Boolean,default:!1}},data:function(){return{gb_link:"",gb_link_opt:{name:"",disable:!0}}},methods:{sendLineMessage:function(){var t=this,e=this.msg,i=this.text;window.liff.shareTargetPicker([e,i]).then((function(){t.$q.notify("成功發送訊息")})).catch((function(t){}))},getLineFriends:function(){this.canShareTarget&&this.sendLineMessage()},copySuccess:function(){(!window.liff||window.liff&&!window.liff.isInClient())&&this.$q.notify(this.$t("notify.copied_link"))},setGBLink:function(){var t=window.location.href.split("/"),e=t[0]+"//"+t[2]+"/";this.canShareTarget&&(e=this.$config.line_liff_domain+"/"),e=e+"gb/menu/"+this.store.id+"/"+this.shareCode,this.isUnique&&(e+="?",this.isUStore&&(e=e+"u_store_id="+this.isUStore),this.isUBrand&&(e=e+"u_brand_code="+this.isUBrand)),this.gb_link=e}},created:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.setGBLink();case 2:if(!window.liff){t.next=5;break}return t.next=5,window.liff.ready;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{text:function(){return{type:"text",text:"如訊息無法開啟請點擊\n"+this.gb_link+"\n進行跟團"}},msg:function(){return{type:"template",altText:this.showName,template:{type:"buttons",thumbnailImageUrl:this.photo,title:this.showName,text:"請選擇下方的登入方式，登入後即可至菜單頁訂購商品，並記得完成送出的步驟。跟團者請自行繳款項給團長喔！",color:"#ffffff",actions:[{type:"uri",label:"前往跟團",uri:this.gb_link}]}}},showName:function(){return this.$store.state.order.gb_brief.group_buying_name||this.$store.state.user.user_info.nickname+"開的團"},canShareTarget:function(){return!!this.$store.state.app.liff.ready&&(window.liff&&window.liff.isInClient()||this.$q.platform.is.chrome||this.$q.platform.is.safari)},photo:function(){return this.store.photo?this.store.photo:this.store.brand_photo?this.store.brand_photo:"https://cdn-order.nidin.shop/nidin2/statics/Nidin/share.png"},qrOpt:function(){var t=this.$q.screen.width;return t<375?{width:100}:t>=375&&t<=414?{width:120}:t>=414&&t<600?{width:150}:{width:160}}},watch:{shareCode:function(){this.setGBLink()}}},D=N,j=(i("277d"),Object(g["a"])(D,s,o,!1,null,"12b93a46",null));e["a"]=j.exports},c835:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width flex flex-center",class:[2===t.type?"col full-height text-white":"",{"b-bg-secondary":2===t.type&&!t.showBtn.disable},{"bg-d-gray":2===t.type&&t.showBtn.disable}]},[i("div",{staticClass:"text-center text-bold flex flex-center",class:[2===t.type?"q-py-md full-width full-height":"btn-primary q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"b-bg-secondary ":2!==t.type&&!t.showBtn.disable},{"bg-d-gray ":2!==t.type&&t.showBtn.disable}],style:2===t.type?"":"height: 71.141px",on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v(t._s(t.showBtn.name))])],1)])},o=[],r=(i("7514"),i("c5f6"),i("808d")),n={mixins:[r["a"]],props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,storeInfo:Object,cantEdit:Boolean,show:Object,orderAttach:Object,orderOthers:Object,disableList:Object},data:function(){return{btns:{1:{name:this.$t("order.step_next"),event:"goStepNext",disable:!1},2:{name:this.$t("status.cant_delivery"),event:"",disable:!0},3:{name:this.$t("status.store_closed"),event:"",disable:!0},4:{name:this.$t("status.store_unopen"),event:"",disable:!0},5:{name:this.$t("status.store_closed_today"),event:"",disable:!0},6:{name:this.$t("status.store_accept_pause"),event:"",disable:!0},7:{name:this.$t("order.address_empty"),event:"",disable:!0},8:{name:this.$t("order.payment_method_empty"),event:"",disable:!0},9:{name:this.$t("order.step_next"),event:"checkOrder",disable:!1},10:{name:"送單給團長",event:"checkGBOrder",disable:!1},11:{name:this.$t("order.delivery_type_limt_out"),event:"",disable:!0},12:{name:this.$t("order.order_click_confirm"),event:"goOrderListInfo",disable:!1},13:{name:this.$t("order.trade"),event:"trade",disable:!1},14:{name:"重新點餐",event:"goStore",disable:!1},15:{name:this.$t("order.cancel_order"),event:"cancelOrder",disable:!1},16:{name:"修改訂單",event:"editOrder",disable:!1},17:{name:"未加入商品",event:"",disable:!0},18:{name:"門市休息中",event:"",disable:!0},19:{name:"未移除完售商品",event:"",disable:!0},20:{name:"未填寫載具資訊",event:"",disable:!0},21:{name:"載具資訊錯誤",event:"",disable:!0},22:{name:"統一編號錯誤",event:"",disable:!0}}}},computed:{isSaveCup:function(){return this.$store.state.order.is_save_cup},validate:function(){var t=this,e=t.$store.state.order.validate;return e.mobile.isActive&&!e.mobile.id?1:e.email.isActive&&!e.email.id?1:e.error_message&&"統一編號錯誤"===e.error_message?3:e.error_message.length>0?2:0},productDisabled:function(){var t=this;if(this.orderOthers.order_info){var e=this.orderOthers.order_info.product,i=this.orderOthers.group_buy_follower_order_list;if(e)return e.some((function(e){return!!t.isDisTime(e)||(!!e.is_disabled||(1===e.type?e.adjusts.some((function(t){return t.is_disabled?t.is_disabled:t.options.some((function(t){if(t.is_disabled)return!0}))})):3===e.type?e.blocks.some((function(t){if(t.is_disabled)return!0})):void 0))}));i&&i.some((function(e){return e.product_simple.some((function(e){return!!t.isDisTime(e)||(!!e.is_disabled||void 0)}))}))}return!1},cantOrder:function(){var t=this.storeInfo;if(t)return!t.trade_types.length||!t.delivery_info.length},showSpinner:function(){return!!this.show&&this.show.btn_spinner},deliveryTotalPaid:function(){var t=this.orderInfo,e=this.orderOthers&&this.orderOthers["order_info"]&&this.orderOthers["order_info"]["delivery_total_money"]&&this.orderOthers["order_info"]["delivery_total_money"][t.delivery_type]>=0?this.orderOthers["order_info"]["delivery_total_money"][t.delivery_type]:null,i=null!==e?e:t.total_paid_money||this.orderAttach.total_money,s=this.$store.getters["order/couponMoney"],o=this.$store.getters["order/allowance"],r=this.$store.getters["order/productCouponMoney"],n=this.$store.getters["order/pointDiscount"],a=this.$store.getters["order/memberDiscount"],c=this.$store.getters["order/storeDiscount"];return s&&(i-=s),o&&(i-=o),r&&(i-=r),c&&(i-=c),n&&(i-=n),a&&(i-=a),i},showBtn:function(){var t=this.storeInfo,e=this.orderInfo,i=this.storeInfo.max_delivery_distance_m,s=0,o=100*Math.floor(e.delivery_distance/100),r=o||0,n=JSON.parse(JSON.stringify(this.deliveryRank)).reverse(),a=n.find((function(t){return t.order_min_distance_m<r}));return a||(a=n.find((function(t,e){return e===n.length-1}))),this.deliveryRank.length&&(s=this.deliveryRank[0].order_min_price),this.step?this.cantEdit?this.btns[14]:1===this.step?3===e.order_type?e.total_amount?this.btns[10]:this.btns[17]:20===t.order_status?this.btns[6]:3===e.delivery_type&&i&&r>i?this.btns[11]:3===e.delivery_type&&this.deliveryTotalPaid<a.order_min_price&&2===t.delivery_stage_limit_type?this.btns[2]:3===e.delivery_type&&this.deliveryTotalPaid<s?this.btns[2]:t.is_off_day&&!t.is_off_allow_order?this.btns[3]:t.is_preparing&&!t.is_preparing_allow_order?this.btns[4]:t.is_close&&!t.is_close_allow_order?this.btns[5]:this.cantOrder?this.btns[18]:e.total_amount?this.productDisabled?this.btns[19]:this.btns[1]:this.btns[17]:2===this.step?1===e.status||2===e.status?this.btns[13]:20===t.order_status?this.btns[6]:this.productDisabled?this.btns[19]:3===e.order_type?this.btns[12]:3===e.delivery_type&&i&&r>i?this.btns[11]:3===e.delivery_type&&this.deliveryTotalPaid<a.order_min_price&&2===t.delivery_stage_limit_type?this.btns[2]:3===e.delivery_type&&this.deliveryTotalPaid<s?this.btns[2]:t.is_off_day&&!t.is_off_allow_order?this.btns[3]:t.is_preparing&&!t.is_preparing_allow_order?this.btns[4]:t.is_close&&!t.is_close_allow_order?this.btns[5]:this.isSaveCup&&1===this.validate?this.btns[20]:this.isSaveCup&&2===this.validate?this.btns[21]:this.isSaveCup&&3===this.validate?this.btns[22]:this.btns[9]:3===this.step?this.btns[12]:this.btns[1]:100===this.orderInfo.status||31===this.orderInfo.status?this.btns[15]:110===this.orderInfo.status?this.btns[16]:void 0}},methods:{isDisTime:function(t){if(this.disableList.schedule&&t.product_id){var e=this.disableList.schedule.product_open[t.product_id];if(e)for(var i=e.setting_list,s=0;s<i.length;s++){var o=i[s],r=this.disableList.setting_list[o].is_applicable;if(r)return!0}}return!1}}},a=n,c=i("2877"),u=Object(c["a"])(a,s,o,!1,null,null,null);e["a"]=u.exports},c860:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIxLjE3NSAxMy4wMzZIMjEuNTkwNUMyMS45MjMgMTMuMDM2IDIyLjE5MDggMTIuNzcxNCAyMi4xOTA4IDEyLjQ0MjlWMTAuNzkxNUMyMi4xOTA4IDkuNzA1NyAyMS40MDU4IDguODAyNDEgMjAuMzYyMyA4LjU5MjU2TDE4Ljk3NzEgNC41NTk3MUMxOC44NTcgNC4yMDM4OCAxOC41Nzk5IDMuOTExOTEgMTguMjI5IDMuNzM4NTVDMTcuODc4MSAzLjU3NDMxIDE3LjQ3MTggMy41NTYwNyAxNy4xMjA4IDMuNjgzOEwzLjkyNDA5IDguNTU2MDZDMi43NDIwMSA4LjYzODE4IDEuODAwMDUgOS41OTYyMSAxLjgwMDA1IDEwLjc5MTVWMTIuNDQyOUMxLjgwMDA1IDEyLjc3MTQgMi4wNjc4NiAxMy4wMzYgMi40MDAzMiAxMy4wMzZIMi44MTU4OUMzLjYzNzggMTMuMDM2IDQuMzAyNzIgMTMuNjkyOSA0LjMwMjcyIDE0LjUwNUM0LjMwMjcyIDE1LjMxNyAzLjYzNzggMTUuOTczOSAyLjgxNTg5IDE1Ljk3MzlIMi40MDAzMkMyLjA2Nzg2IDE1Ljk2NDggMS44MDAwNSAxNi4yMjk0IDEuODAwMDUgMTYuNTU3OVYxOC4yMDkzQzEuODAwMDUgMTkuNDUwMiAyLjgxNTg5IDIwLjQ1MzkgNC4wNzE4NSAyMC40NTM5SDE5LjkyODNDMjAuNTM3OCAyMC40NTM5IDIxLjEwMTEgMjAuMjE2NiAyMS41MzUxIDE5Ljc5NjlDMjEuOTU5OSAxOS4zNzcyIDIyLjIgMTguODExNSAyMi4yIDE4LjIwOTNWMTYuNTU3OUMyMi4yIDE2LjIyOTQgMjEuOTMyMiAxNS45NjQ4IDIxLjU5OTggMTUuOTY0OEgyMS4xODQyQzIwLjc4NzEgMTUuOTY0OCAyMC40MTc3IDE1LjgwOTcgMjAuMTMxNCAxNS41MzZDMTkuODU0NCAxNS4yNjIzIDE5LjY5NzQgMTQuODg4MiAxOS42OTc0IDE0LjQ5NThDMTkuNjk3NCAxMy42OTI5IDIwLjM2MjMgMTMuMDM2IDIxLjE3NSAxMy4wMzZaTTE4LjQ4NzYgMTQuNDk1OEMxOC40ODc2IDE1LjIwNzUgMTguNzY0NiAxNS44NzM2IDE5LjI3MjYgMTYuMzc1NEMxOS43MzQzIDE2LjgzMTYgMjAuMzQzOCAxNy4xMDUzIDIwLjk5MDMgMTcuMTUwOVYxOC4yMDkzQzIwLjk5MDMgMTguNzkzMyAyMC41MTAxIDE5LjI2NzcgMTkuOTE5IDE5LjI2NzdIOS42Nzc0NlYxOS4wMzk2QzkuNjc3NDYgMTguNzExMiA5LjQwOTY1IDE4LjQ0NjYgOS4wNzcxOSAxOC40NDY2QzguNzQ0NzMgMTguNDQ2NiA4LjQ3NjkyIDE4LjcxMTIgOC40NzY5MiAxOS4wMzk2VjE5LjI2NzdINC4wNzE4NUMzLjQ4MDgxIDE5LjI2NzcgMy4wMDA1OSAxOC43OTMzIDMuMDAwNTkgMTguMjA5M1YxNy4xNTA5QzQuMzk1MDcgMTcuMDU5NyA1LjUwMzI2IDE1LjkwMDkgNS41MDMyNiAxNC41MDVDNS41MDMyNiAxMy4xMDkgNC4zOTUwNyAxMS45NTAyIDMuMDAwNTkgMTEuODU5VjEwLjc5MTVDMy4wMDA1OSAxMC4yMDc1IDMuNDgwODEgOS43MzMwNyA0LjA3MTg1IDkuNzMzMDdIOC40NzY5MlY5Ljk2MTE3QzguNDc2OTIgMTAuMjg5NiA4Ljc0NDczIDEwLjU1NDIgOS4wNzcxOSAxMC41NTQyQzkuNDA5NjUgMTAuNTU0MiA5LjY3NzQ2IDEwLjI4OTYgOS42Nzc0NiA5Ljk2MTE3VjkuNzMzMDdIMTkuOTI4M0MyMC41MTkzIDkuNzMzMDcgMjAuOTk5NSAxMC4yMDc1IDIwLjk5OTUgMTAuNzkxNVYxMS44NDk5QzE5LjU5NTggMTEuOTQxMSAxOC40ODc2IDEzLjA5MDcgMTguNDg3NiAxNC40OTU4Wk03LjQwNTY2IDguNTQ2OTRMMTcuNTU0OSA0LjgwNjA2QzE3LjYxMDMgNC43ODc4MiAxNy42NzQ5IDQuNzg3ODIgMTcuNzM5NiA0LjgxNTE5QzE3Ljc5NSA0Ljg0MjU2IDE3Ljg0MTIgNC44ODgxOCAxNy44NTk2IDQuOTQyOTNMMTkuMDk3MSA4LjU0Njk0SDcuNDA1NjZaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOS4wNzcyIDE0Ljk1MjNDOC43NDQ3NCAxNC45NTIzIDguNDc2OTMgMTUuMjE2OSA4LjQ3NjkzIDE1LjU0NTNWMTYuOTQxM0M4LjQ3NjkzIDE3LjI2OTggOC43NDQ3NCAxNy41MzQ0IDkuMDc3MiAxNy41MzQ0QzkuNDA5NjYgMTcuNTM0NCA5LjY3NzQ3IDE3LjI2OTggOS42Nzc0NyAxNi45NDEzVjE1LjU0NTNDOS42Nzc0NyAxNS4yMTY5IDkuNDA5NjYgMTQuOTUyMyA5LjA3NzIgMTQuOTUyM1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik05LjA3NzIgMTEuNDU3OEM4Ljc0NDc0IDExLjQ1NzggOC40NzY5MyAxMS43MjI0IDguNDc2OTMgMTIuMDUwOFYxMy40NDY4QzguNDc2OTMgMTMuNzc1MyA4Ljc0NDc0IDE0LjAzOTkgOS4wNzcyIDE0LjAzOTlDOS40MDk2NiAxNC4wMzk5IDkuNjc3NDcgMTMuNzc1MyA5LjY3NzQ3IDEzLjQ0NjhWMTIuMDZDOS42Nzc0NyAxMS43MzE1IDkuNDA5NjYgMTEuNDU3OCA5LjA3NzIgMTEuNDU3OFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="},c8b3:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.showShippingFeeDialog,callback:function(e){t.showShippingFeeDialog=e},expression:"showShippingFeeDialog"}},[s("q-card",{staticClass:"q-card bg-white nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.showShippingFeeDialog=!1}}}),s("div",[s("div",{staticClass:"nd-font-size-title"},[t._v("運費說明")]),s("div",{staticClass:"nd-my-5"},[t.storeInfo.shipping_fee_type?s("div",{staticClass:"q-mt-md"},[s("shipping-block",{attrs:{"store-info":t.storeInfo,"order-date":t.date}})],1):t._e()])])])],1),s("div",{class:["shoping-list-card q-mt-sm flex justify-between no-wrap",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"column items-start self-center"},[s("div",{staticClass:"flex items-center"},[!t.storeInfo.in_avail_nidin_league||t.isBrandDomain||t.isUBrand||t.isUStore?t._e():s("q-img",{staticClass:"nd-mr-1",attrs:{width:"16px",height:"16px",src:i("10f1")}}),s("div",{staticClass:"font-size-subtitle-1 text-weight-medium b-color"},[t._v("\n          "+t._s(t.storeInfo.brand_name_short)+" "+t._s(t.storeInfo.name_short)+"\n        ")])],1),t.storeInfo.tel?s("div",{staticClass:"font-size-subtitle-2 text-weight-medium b-color"},[s("div",{staticClass:"fas fa-phone tel-icon"}),s("a",{attrs:{href:"tel:"+t.storeInfo.tel}},[t._v(t._s(t.storeInfo.tel))])]):t._e()]),t.canEdit&&3!==t.storeInfo.store_mode?s("div",{staticClass:"col-auto text-white cursor-pointer group_block shppping-group-btn self-center",class:{"b-bg":20!==t.orderInfo.group_buying_status},on:{click:t.checkGB}},[20===t.orderInfo.group_buying_status?s("img",{attrs:{src:i("8651"),alt:"group"}}):s("img",{attrs:{src:i("7fbe"),alt:"group"}})]):t._e()]),s("q-dialog",{model:{value:t.show.reusable_cup_dialog,callback:function(e){t.$set(t.show,"reusable_cup_dialog",e)},expression:"show.reusable_cup_dialog"}},[s("q-card",{staticClass:"q-card bg-white nidin-modal",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("q-card-section",{staticClass:"border-top bg-white z-top row position-sticky justify-center"},[s("div",{staticClass:"font-size-h6 text-weight-medium"},[t._v("\n          "+t._s(t.$t("dialog.notice"))+"\n        ")])]),s("q-card-section",{staticClass:"col-auto nd-px-4 nd-py-3 top-shadow",attrs:{align:"center"}},[t._v("\n        此取餐方式不適用自備飲料杯折扣\n      ")]),s("q-card-actions",{staticClass:"q-pt-md q-px-none q-pb-none flex flex-center",attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-white primary",staticStyle:{"min-width":"120px"},attrs:{label:"了解",color:"primary"}})],1)],1)],1),3!==t.orderInfo.order_type&&t.canEdit?s("div",{class:["shoping-list-card",t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"q-mb-lg"},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold title-spacing"},[t._v("\n        "+t._s(t.$t("order.pickup_option"))+"\n      ")]),3!==t.storeInfo.store_mode?t._l(t.storeInfo.delivery_time_info,(function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.available_time&&t.hasDelivery(e.delivery_type),expression:"delivery.available_time && hasDelivery(delivery.delivery_type)"}],key:"delivery-availble-time-"+e.delivery_type,staticClass:"full-width q-mt-sm"},[e.delivery_type<=3?[s("q-radio",{attrs:{dense:"",label:t.deliveryLabel(e.delivery_type,e.available_time,e.duration),val:e.delivery_type},model:{value:t.orderInfo.delivery_type,callback:function(e){t.$set(t.orderInfo,"delivery_type",e)},expression:"orderInfo.delivery_type"}}),3===e.delivery_type&&0!==t.shippingFeeType?s("div",{staticClass:"text-primary nd-ml-1 inline-block cursor-pointer nd-ml-1 nd-mt-1 nd-font-size-caption",class:t.$q.screen.lt.md?"nd-ml-1":"nd-mt-1",on:{click:function(e){t.showShippingFeeDialog=!0}}},[t._v("\n              查看運費說明\n            ")]):t._e(),t.orderInfo.delivery_type===e.delivery_type?s("delivery-info",{attrs:{deliveryType:e.delivery_type,orderInfo:t.orderInfo,orderOthers:t.orderOthers,storeInfo:t.storeInfo,deliveryTrigger:t.deliveryTrigger,orderAttach:t.orderAttach},on:{"update:order-info":t.updateOrderInfo}}):t._e()]:t._e()],2)})):[s("div",{staticClass:"full-width q-mt-sm"},[s("q-radio",{attrs:{dense:"",label:"線上發送",val:1},model:{value:t.orderInfo.delivery_type,callback:function(e){t.$set(t.orderInfo,"delivery_type",e)},expression:"orderInfo.delivery_type"}})],1)]],2),s("div",{directives:[{name:"show",rawName:"v-show",value:3!==t.storeInfo.store_mode,expression:"storeInfo.store_mode !== 3"}],staticClass:"font-size-subtitle-1 text-weight-bold title-spacing"},[t._v("\n      "+t._s(t.$t("order.pickup_time"))+"\n    ")]),s("delivery-time",{directives:[{name:"show",rawName:"v-show",value:3!==t.storeInfo.store_mode,expression:"storeInfo.store_mode !== 3"}],attrs:{orderInfo:t.orderInfo,storeInfo:t.storeInfo,updateOrder:t.updateOrder,getDisableProd:t.getDisableProd,"update-all-discount":t.updateAllDiscount}})],1):t._e(),3===t.orderInfo.order_type&&t.canEdit?s("order-info-detail",{staticClass:"q-mt-sm",attrs:{orderInfo:t.orderInfo,storeInfo:t.storeInfo,remarkList:t.remarkList}}):t.cantOrder?s("div",{staticClass:"q-px-md q-py-lg text-center text-bold"},[t._v("\n    門市目前休息中，請稍後再試"),s("br"),t._v("\n    如有任何問題請聯絡客服\n  ")]):t._e(),s("div",{ref:"product_div",class:["shoping-list-card",t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold q-mb-md"},[t._v("\n      "+t._s(t.$t("order.order_items"))+"\n    ")]),s("product-list",{ref:"product_list",staticClass:"q-mt-sm",attrs:{cupDisableActivity:t.cupDisableActivity,disableList:t.disableList,followerList:t.followerList,getCoupons:t.getCoupons,iconList:t.iconList,imgList:t.imgList,layout:t.layout,memberdiscount:3===t.orderInfo.order_type?{}:t.applicationMembercard,menu:t.menu,menuInfo:t.menuInfo,orderInfo:t.orderInfo,orderOthers:t.orderOthers,orderAttach:t.orderAttach,showError:t.showError,storeInfo:t.storeInfo,"update-all-discount":t.updateAllDiscount,updateOrder:t.updateOrder,useCoupon:t.useCoupon,ishasCupDiscount:t.ishasCupDiscount,ishasCupAmount:t.ishasCupAmount,isCupInvaild:t.isCupInvaild,ishasCupActivity:t.ishasCupActivity},on:{"update:delCupDiscount":t.handleDelCupDiscount,"update:removeFollowerCoupons":t.handleRemoveFollowerCoupons}})],1),t.showCupDiscountRuleYellowBlock?s("div",{class:["cup-discount-list-card nd-bg-orange-1",t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"cup-discount-list-card-radius":!t.$q.screen.lt.sm}]},[s("i-li",{attrs:{icon:"information","icon-color":"bg-orange-5",name:"以下「現折活動」、「優惠券與會員」因自備飲料杯折扣無法與其他優惠併用，不提供選擇方案，如仍欲選擇請將自備飲料杯移除。"}})],1):t._e(),5!==t.orderInfo.src_type&&t.canEdit&&3!==t.storeInfo.store_mode&&3!==t.orderInfo.order_type?s("div",{class:["shoping-list-card",t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"column flex no-wrap"},[s("div",{staticClass:"flex items-center justify-between title-spacing"},[s("div",{staticClass:"font-size-subtitle-1 nd-font-weight-bold"},[t._v("\n          "+t._s(t.$t("order.order_discount"))+"\n        ")]),s("div",{staticClass:"b-color flex items-center cursor-pointer",on:{click:function(e){t.show.discount_dialog=!0}}},[s("div",[t._v("使用折扣碼")]),s("q-icon",{staticClass:"q-ma-none q-pl-xs",attrs:{name:"arrow_forward_ios"}})],1)]),s("order-discount",{staticClass:"nd-mb-4",attrs:{"activity-list":t.activitylist,"appliable-discount":t.appliable_discount,"multi-appliable-discount":t.multiAppliableDiscount,"discount-attend-option":t.discountAttendOption,"discount-store":t.discountStore,"discount-order":t.discountOrder,"discount-list":t.orderDiscountList,"cup-disable-activity":t.cupDisableActivity,"order-info":t.orderInfo,"store-info":t.storeInfo,"get-order-discount":t.getOrderDiscount,"update-all-discount":t.updateAllDiscount,"page-loading":t.show.btn_spinner,"dialog-open":t.show.discount_dialog},on:{"update:pageLoading":function(e){return t.$set(t.show,"btn_spinner",e)},"update:page-loading":function(e){return t.$set(t.show,"btn_spinner",e)},"update:dialogOpen":function(e){return t.$set(t.show,"discount_dialog",e)},"update:dialog-open":function(e){return t.$set(t.show,"discount_dialog",e)}}}),s("order-activity",{attrs:{"discount-store":t.discountStore,"order-activity-discount-list":t.orderActivityDiscountList,"multi-appliable-discount":t.multiAppliableDiscount,"order-info":t.orderInfo,"order-others":t.orderOthers,"disable-list":t.disableList,"follower-list":t.followerList,"store-info":t.storeInfo}})],1)]):t._e(),5!==t.orderInfo.src_type&&t.canEdit&&3!==t.storeInfo.store_mode?s("div",{class:["shoping-list-card",t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"column flex no-wrap"},[s("div",{staticClass:"font-size-subtitle-1 nd-font-weight-bold title-spacing"},[t._v("\n        "+t._s(t.$t("order.order_promotions"))+"\n      ")]),s("nd-brand-milkshop",{attrs:{brand:t.orderInfo.brand_id}}),s("q-radio",{staticClass:"title-spacing",attrs:{dense:"",val:"coupon",label:t.$t("order.coupon"),disabled:t.cupDisableActivity},model:{value:t.orderdiscount_select.show,callback:function(e){t.$set(t.orderdiscount_select,"show",e)},expression:"orderdiscount_select.show"}}),s("coupon-detail",{directives:[{name:"show",rawName:"v-show",value:"coupon"===t.orderdiscount_select.show,expression:"orderdiscount_select.show === 'coupon'"}],attrs:{appliableCoupon:t.appliable_coupon,useCoupon:t.useCoupon,orderAttach:t.orderAttach},on:{checkHasCoupon:t.checkHasCoupon}}),3!==t.orderInfo.order_type?s("div",[s("q-radio",{class:["point"===t.orderdiscount_select.show&&t.point_discount.length>0?"q-mb-xs":"title-spacing"],attrs:{dense:"",val:"point",disabled:!t.is_discountable||(!t.amount||t.cupDisableActivity),label:t.$t("order.point")},model:{value:t.orderdiscount_select.show,callback:function(e){t.$set(t.orderdiscount_select,"show",e)},expression:"orderdiscount_select.show"}}),"point"===t.orderdiscount_select.show&&t.point_discount.length>0?s("div",{staticClass:"q-mb-md"},[s("div",{staticClass:"text-gray-2 nd-pl-4 nd-mb-2"},[t._v("\n            目前擁有"+t._s(t.amount)+"點，"+t._s(t.unit_amount)+"點可折抵"+t._s(t.unit_money)+"元，最多可使用"+t._s(t.point_use_able||t.default_point)+"點\n          ")]),!t.default_point||!t.isAttendDiscount&&t.point_use_able?s("div",{staticClass:"order-list-v2-number-input flex items-center"},[s("div",[t._v("使用點數折抵")]),s("div",{staticClass:"edit"},[s("div",{staticClass:"edit-icon",class:{disabled:0===t.point_use_able},on:{click:function(e){return t.setPoint(t.point_step,"minus")}}},[s("q-icon",{staticClass:"fas fa-minus q-ma-none"})],1),s("div",{staticClass:"edit-number flex items-center"},[s("q-input",{staticClass:"point-input q-mr-sm",attrs:{outlined:"",dense:"",disable:0===t.point_use_able},model:{value:t.application_point.match_point,callback:function(e){t.$set(t.application_point,"match_point",t._n(e))},expression:"application_point.match_point"}}),s("div",[t._v(" 點 / "+t._s(t.application_point.total_discount)+" 元")])],1),s("div",{staticClass:"edit-icon",class:{disabled:0===t.point_use_able},on:{click:function(e){return t.setPoint(t.point_step,"plus")}}},[s("q-icon",{staticClass:"fas fa-plus q-ma-none"})],1)])]):s("div",{on:{click:t.askBeforeUsePoint}},[s("input-label",{attrs:{value:"移除其他優惠，才可使用點數折抵",opt:t.pointOpt}})],1),t.pointUseError?s("div",{staticClass:"text-red q-ml-lg font-size-caption q-mt-sm"},[t._v(t._s(t.pointUseError))]):t._e()]):t._e(),"point"===t.orderdiscount_select.show&&0===t.point_discount.length?s("div",{staticClass:"q-mb-md"},[s("div",{staticClass:"text-gray-2 order-list-v2-number-input disabled"},[t._v("您的點數餘額不足，無法折抵")])]):t._e()],1):t._e(),3!==t.orderInfo.order_type?s("div",[s("div",{on:{"!click":function(e){return t.askBeforeUseMemberDiscount(e)}}},[s("q-radio",{attrs:{dense:"",value:t.orderdiscount_select.show,val:"membercard",label:t.discountText(t.memberCardDiscount,!0),disabled:t.isMembercardDisabled},on:{click:[function(e){return e.preventDefault(),t.handleDisabledClick(e)},function(e){return e.stopPropagation(),t.handleDisabledClick(e)}]}})],1),0===t.preVipDiscount.is_applicable&&(t.preVipDiscount.message||t.preVipDiscount.disableText)?s("div",{staticClass:"q-ml-lg q-pl-xs font-size-caption"},[t.preVipDiscount.disableText?s("span",{staticClass:"text-gray-2"},[t._v("\n            "+t._s(t.preVipDiscount.disableText)+"\n          ")]):t.preVipDiscount.message?s("span",{staticClass:"text-secondary"},[t._v("\n            "+t._s(t.preVipDiscount.message)+"\n          ")]):t._e()]):t._e()]):t._e()],1)]):t._e(),3!==t.orderInfo.order_type&&t.orderOthers.order_info.plastic_info.plastic_option&&t.canEdit&&3!==t.storeInfo.store_mode?s("div",{class:["shoping-list-card flex",t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"col"},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold"},[t._v("\n        "+t._s(t.$t("order.plastic_bag"))+"\n      ")]),s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"font-size-subtitle-2 text-weight-bold"},[t._v("\n          "+t._s(t.$t("order.plastic_bag_need"))+"\n        ")]),s("div",{staticClass:"col-auto q-ml-auto"},[s("q-toggle",{attrs:{"false-value":!1,"true-value":!0,color:"primary"},model:{value:t.need_plastic_bag,callback:function(e){t.need_plastic_bag=e},expression:"need_plastic_bag"}})],1)]),s("div",{staticClass:"text-gray-2 font-size-caption"},[t._v("\n        依據政策規定，即日起購買塑膠袋需支付相關費用，份數較多的訂單請斟酌加購。\n      ")]),!(t.storeInfo.plastic_info&&t.need_plastic_bag&&Object.keys(t.storeInfo.plastic_info).length)||t.storeInfo.plastic_info.price&&t.storeInfo.plastic_info.is_plastic_amount_adjustable?t.storeInfo.plastic_info&&t.storeInfo.plastic_info.price&&t.need_plastic_bag&&t.storeInfo.plastic_info.is_plastic_amount_adjustable?s("div",{staticClass:"font-size-caption"},[s("div",{staticClass:"text-gray-2 q-mb-sm"},[t._v("\n          建議一個塑膠袋最多可裝 "+t._s(t.storeInfo.plastic_info.plastic_unit)+" 份\n        ")]),s("div",{staticClass:"order-list-v2-number-input items-center"},[t._v("\n          塑膠袋數量\n          "),s("div",{staticClass:"edit"},[s("div",{staticClass:"edit-icon",on:{click:function(e){return t.setPlasticAmount(1,"minus")}}},[s("q-icon",{staticClass:"fas fa-minus q-ma-none"})],1),s("div",{staticClass:"edit-number flex items-center"},[s("q-input",{staticClass:"plastic-point-input q-mr-sm",attrs:{outlined:"",dense:""},model:{value:t.plasticAmount,callback:function(e){t.plasticAmount=t._n(e)},expression:"plasticAmount"}}),s("span",[t._v("個")])],1),s("div",{staticClass:"edit-icon",on:{click:function(e){return t.setPlasticAmount(1,"plus")}}},[s("q-icon",{staticClass:"fas fa-plus q-ma-none"})],1)])]),t.plasticBagAmountUseError?s("div",{staticClass:"text-red q-ml-lg font-size-caption q-mt-sm"},[t._v(t._s(t.plasticBagAmountUseError))]):t._e()]):t._e():s("div",{staticClass:"text-gray-2 font-size-caption"},[t._v("\n        一個塑膠袋最多可裝 "+t._s(t.storeInfo.plastic_info.plastic_unit)+" 份\n      ")])])]):t._e(),3!==t.orderInfo.order_type&&t.storeInfo.store_special_item_setting&&t.storeInfo.store_special_item_setting.length>0?s("div",{class:["shoping-list-card flex",t.$q.platform.is.mobile?"shopping-mt-12":"q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm}]},[s("div",{staticClass:"col"},[s("div",{staticClass:"font-size-subtitle-1 text-weight-bold"},[t._v("\n        "+t._s(t.$t("order.special_item_setting"))+"\n      ")]),s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"font-size-subtitle-2 text-weight-bold"},[t._v("\n          "+t._s(t.$t("order.special_item_need"))+"\n        ")]),s("div",{staticClass:"col-auto q-ml-auto"},[s("q-toggle",{attrs:{"false-value":!1,"true-value":!0,color:"primary"},model:{value:t.need_special_item,callback:function(e){t.need_special_item=e},expression:"need_special_item"}})],1)]),t.need_special_item?s("div",{staticClass:"text-gray-2 font-size-caption"},[t._v("\n        "+t._s(t.$t("order.special_item_need_switchOn"))+"\n      ")]):s("div",{staticClass:"text-gray-2 font-size-caption"},[t._v("\n        "+t._s(t.$t("order.special_item_need_switchOff"))+"\n      ")])])]):t._e(),t.canEdit?s("money-detail",{attrs:{appliableCoupon:t.appliable_coupon,appliableDiscount:t.appliable_discount,memberdiscount:3===t.orderInfo.order_type?{}:t.applicationMembercard,needPlasticBag:t.orderAttach.need_plastic_bag,orderAttach:t.orderAttach,orderInfo:t.orderInfo,orderOthers:t.orderOthers,pointdiscount:3===t.orderInfo.order_type?t.pointdiscount:t.application_point,storeInfo:t.storeInfo,useCoupon:t.useCoupon,cupApplicableDiscount:t.cup_applicable_discount,deliveryWaySupportCupDiscount:t.deliveryWaySupportCupDiscount}}):t._e(),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_gb,callback:function(e){t.$set(t.show,"modal_gb",e)},expression:"show.modal_gb"}},[s("q-card",{staticClass:"nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_gb=!1}}}),s("copy-gb",{attrs:{shareCode:t.share_code,store:t.storeInfo}})],1)],1),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_service,callback:function(e){t.$set(t.show,"modal_service",e)},expression:"show.modal_service"}},[s("q-card",{staticClass:"nidin-modal"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_service=!1}}}),s("delivery-service",{attrs:{storeInfo:t.storeInfo}})],1)],1),s("q-dialog",{staticClass:"flex flex-center column",attrs:{persistent:""},model:{value:t.show.chooseDiscount,callback:function(e){t.$set(t.show,"chooseDiscount",e)},expression:"show.chooseDiscount"}},[s("q-card",{staticClass:"nidin-modal"},[s("div",{staticClass:"nd-font-size-h6 text-weight-medium nd-mb-2 text-center"},[t._v("\n        "+t._s(t.$t("dialog.notice"))+"\n      ")]),s("q-card-section",[s("div",{staticClass:"nd-mb-2 text-center"},[s("div",[t._v("自備飲料杯折扣無法與其他優惠併用，")]),s("div",[t._v("請選擇要「保留」的方案"+t._s(2===t.orderInfo.order_type?" (調整包含團員訂單)":"")+"。")])]),s("b-radio-list",{attrs:{value:t.radioDiscountType,noIcon:!0,list:t.radioDiscountTypeList,initValue:!0},on:{updateChange:function(e){t.radioDiscountType=e}},scopedSlots:t._u([{key:"before-radio",fn:function(e){var i=e.item;return[s("div",{staticClass:"text-secondary nd-font-weight-medium nd-pr-4"},[t._v("\n              -$"+t._s(1===i.value?t.cupTotalDiscount:t.othersTotalDiscount)+"\n            ")])]}}])})],1),s("q-card-actions",{staticClass:"flex flex-center"},[s("q-btn",{staticClass:"btn-primary",attrs:{label:t.$t("common.confirm")},on:{click:t.saveDiscount}})],1)],1)],1),t.show.btn_spinner?s("div",{staticClass:"loading"},[s("q-spinner-dots",{staticClass:"fixed-center",attrs:{color:"primary",size:"40px"}})],1):t._e()],1)},o=[],r=i("8993"),n=i.n(r),a=(i("6b54"),i("6762"),i("2fdb"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("28a5"),i("7514"),i("7f7f"),i("967e")),c=i.n(a),u=(i("96cf"),i("fa84")),d=i.n(u),l=(i("c5f6"),i("2b0e")),M=i("c1df"),h=i.n(M),p=i("4eb5"),m=i.n(p),g=i("e7c1"),f=i("7c81"),y=i("791e"),I=i("c469"),N=i("0c6b"),D=i("b7bf"),j=i("c684"),v=i("7b43"),L=i("55df"),x=i("f95b"),T=i("cb13"),w=i("16a7"),A=i("6f9c"),z=i("9801"),C=i("67ba"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-dialog",{staticClass:"flex flex-center column",attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.showMoreCupInfo,callback:function(e){t.showMoreCupInfo=e},expression:"showMoreCupInfo"}},[s("q-card",{staticClass:"bg-white nidin-prod-modal fix-modal-sm"},[s("q-card-actions",{staticClass:"border-top bg-white full-width z-top items-start row position-sticky"},[s("div",{staticClass:"col"},[s("div",{staticClass:"text-bold font-size-subtitle-1 q-mx-sm q-my-sm"},[t._v(" "+t._s(t.$t("menu.reusable_cup_instructions"))+"\n          ")])]),s("div",{staticClass:"col-auto q-pt-xs cursor-pointer"},[s("img",{staticClass:"q-ma-sm",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.showMoreCupInfo=!1}}}),s("div")])]),t.storeInfo.cup_activity&&Object.keys(t.storeInfo.cup_activity).length?s("q-card-section",{staticClass:"col-auto nd-px-4 nd-py-3 top-shadow"},[s("div",{staticClass:"col items-start justify-between nd-pb-2"},[s("div",{staticClass:"col flex font-size-subtitle-1"},[s("div",{staticClass:"text-bold"},[t._v("使用規則")])]),s("div",{staticClass:"flex col-auto nd-pl-2"},[s("ul",{staticClass:"disc-list"},[s("li",{staticClass:"q-pt-sm"},[t._v("折扣金額："+t._s(t.storeInfo.cup_activity.discount_value)+"元 / 杯 ")]),s("li",[t._v("建議容量："+t._s(t.storeInfo.cup_activity.remark))]),s("li",[t._v("注意事項")]),s("ul",{staticClass:"number-list"},[s("li",[t._v("使用自備飲料杯的飲品需待您抵達現場後，門市人員才會開始製作。")]),0===t.storeInfo.cup_activity.calc_mode?s("li",[t._v("使用自備飲料杯折扣，僅可使用現金付款，且無法與其他優惠併用。")]):t._e(),2===t.storeInfo.cup_activity.calc_mode?s("li",[t._v("使用自備飲料杯折扣，僅可使用現金付款。")]):t._e()])])])]),t.storeInfo.cup_activity.description||1===t.storeInfo.cup_activity.time_type?s("div",[s("hr"),s("div",{staticClass:" nd-py-3"},[s("div",{staticClass:"col flex font-size-subtitle-1"},[s("div",{staticClass:"text-bold"},[t._v("活動規則")])]),s("div",{staticClass:"flex col-auto nd-pl-2"},[s("ul",{staticClass:"disc-list"},[1===t.storeInfo.cup_activity.time_type?s("li",{staticClass:"q-pt-sm"},[t._v(" 活動時間："+t._s(t.cupActivityTime)+" ")]):t._e(),s("li",{class:[1===t.storeInfo.cup_activity.time_type?"":"q-pt-sm"]},[t._v(" 活動說明："+t._s(t.storeInfo.cup_activity.description)+" ")])])])])]):t._e()]):t._e()],1)],1),s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"col-auto flex items-center"},[s("div",{staticClass:"col-auto flex flex-center"},[s("q-avatar",[s("q-img",{attrs:{src:t.$store.state.user.user_info.mugshot_url||t.nidinImg,ratio:1}})],1)],1),s("div",{staticClass:"font-size-subtitle-1 q-pl-md col flex items-center"},[s("div",[s("span",{staticClass:"text-bold"},[t._v("\n            "+t._s(t.$store.state.user.user_info.nickname)+"\n          ")]),t.hasTicketDiscount?s("q-icon",{attrs:{name:"fas fa-ticket-alt",size:"12px"}}):t._e(),s("br")],1)])]),s("div",{staticClass:"col q-mb-sm row reverse"},[s("div",{staticClass:"flex items-center subtotal_price no-wrap"},[s("div",{staticClass:"flex reverse-wrap justify-end"},[s("span",{class:[t.hasTicketDiscount?"text-del text-gray-3 q-mr-xs":"text-dark"]},[t._v("\n            $"+t._s(t.singlePeoplePrice(t.orderOthers.order_info.product_simple))+"\n            "),t.hasTicketDiscount?t._e():s("span",[t._v("\n              / "+t._s(t.getAmount(t.orderOthers.order_info.product_simple))+"\n              "+t._s(t.$t("order.item"))+"\n            ")])]),t.hasTicketDiscount?s("span",{staticClass:"text-dark"},[t._v("\n            $"+t._s(t.singlePeoplePrice(t.orderOthers.order_info.product_simple)-t.orderOthers.order_info.product_coupon.total_discount-t.orderOthers.order_info.product_voucher.total_discount)+" / "+t._s(t.getAmount(t.orderOthers.order_info.product_simple))+"\n            "+t._s(t.$t("order.item"))+"\n          ")]):t._e()]),t.showMoreBtn&&"orderListInfo"!==t.$route.name&&2===t.orderInfo.order_type?s("div",{staticClass:"shopping-more-btn cursor-pointer",on:{click:t.toggleGrouperList}},[s("q-icon",{staticClass:"shopping-icon",class:{active:t.showOrderListAll},attrs:{name:"fas fa-chevron-down",size:"12px",color:"primary"}})],1):t._e()])])]),!this.ishasCupActivity&&this.ishasCupAmount||!this.ishasCupDiscount&&this.ishasCupAmount&&this.isCupInvaild?s("div",{staticClass:"flex column nd-my-2 nd-bg-orange-1 nd-px-3 nd-py-2"},[s("i-li",{attrs:{icon:"information",name:"自備飲料杯的折扣規則已更新",iconColor:"bg-orange-5"}}),this.ishasCupActivity?s("a",{staticClass:"flex text-primary align-items-center nd-ml-6",on:{click:t.clickMoreCupInfo}},[t._v("查看折扣規則")]):t._e()],1):t._e(),t.orderOthers.order_info.product_simple?s("div",[t.orderOthers.order_info.invalid_product_simple&&t.orderOthers.order_info.invalid_product_simple.length&&t.showOrderListAll&&t.show.close?s("message-block",{staticClass:"q-mt-sm",attrs:{blockColor:"background-color: #F9A62814;",content:["\n        菜單更新：「\n        "+t.handleInvalidProductSimple(t.orderOthers.order_info.invalid_product_simple)+"\n        」無法訂購，\n        "+(3!==t.orderInfo.order_type?"已代為移除。":"請刪除此團員單。")+"\n      "],iconColor:"warning",icon:"fas fa-exclamation-circle",showClose:!0},on:{"message-event":t.messageEvent}}):t._e(),t._l(t.products,(function(e,i){return i<t.showListAmount(t.products.length)?s("div",{key:"main-prod-"+i,staticClass:"block q-pa-md prod-list"},[s("div",[s("div",{staticClass:"flex column q-mb-sm q-mb-sm col-md-10 cursor-pointer"},[s("div",{staticClass:"text-bold q-py-xs "},[s("div",{staticClass:"d-flex row"},[s("div",{staticClass:"col row"},[t._v("\n              "+t._s(t.getProdName(e.name,e))+"\n              "),t.isDisTime_prod(e)?s("div",{staticClass:"soldout-label bg-secondary self-center no-wrap nd-ml-2"},[t._v("\n                查看停賣時段\n              ")]):e.is_disabled&&"orderListInfo"!==t.$route.name||t.isDisTime_prod(e)&&3!==t.orderInfo.order_type?s("div",{staticClass:"q-my-xs q-mr-sm i-m-none inline-block",staticStyle:{height:"15px",width:"38px",top:"2px"}}):t._e(),s("div",{staticClass:"q-mr-sm row q-ml-auto no-wrap col-auto"},[t.canEdit?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex col-auto items-top q-mr-md",on:{click:function(i){return t.openProdModal(e.item_set_uid,e)}}},[s("div",{staticClass:"cursor-pointer "},[s("q-avatar",{staticClass:"b-button",attrs:{size:"24px"}},[s("q-icon",{staticClass:"avator-icon-reset",attrs:{name:"fas fa-pencil-alt",size:"12px",color:"white"}})],1)],1)]):t._e(),t.canEdit?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex col-auto items-top",on:{click:function(i){return t.delItemSet(e)}}},[s("div",{staticClass:"cursor-pointer"},[s("q-avatar",{staticClass:"g-button",attrs:{size:"24px","text-color":"white"}},[s("q-icon",{staticClass:"avator-icon-reset",attrs:{name:"fas fa-trash-alt",size:"12px",color:"white"}})],1)],1)]):t._e()])])])]),s("div",{staticClass:"col"},[s("prod-detail",{staticClass:"col prod-detail-font",attrs:{prodSimple:e,type:t.orderOthers.order_info.product?1:0,disableList:t.disableList,storeInfo:t.storeInfo,orderType:t.orderInfo.order_type,orderInfo:t.orderInfo,orderOthers:t.orderOthers,orderAttach:t.orderAttach,menu:t.menu},on:{"update:delCupDiscount":t.handleDelCupDiscount}})],1),"orderListInfo"===t.$route.name||t.cupDisableActivity?t._e():s("div",{staticClass:"q-mt-xs"},[e.has_coupon||e.has_voucher?s("span",{staticClass:"cursor-pointer q-mr-sm ",on:{click:function(i){return i.stopPropagation(),t.showTicketModal(e.item_set_uid,e)}}},[t.uesTicketNumber(e.item_set_uid)?s("span",{staticClass:"shoping-discount_active-btn  text-no-wrap"},[t._v("\n                已使用券("+t._s(t.uesTicketNumber(e.item_set_uid))+")\n              ")]):s("span",{staticClass:"shoping-discount-btn text-no-wrap"},[t._v("\n                點我用券\n              ")])]):t._e()])])])]):t._e()}))],2):t._e(),0===t.orderOthers.order_info.product_simple.length&&t.showOrderListAll?s("div",[t._m(0)]):t._e(),2===t.orderInfo.order_type&&t.followerList.length?s("div",t._l(t.followerList,(function(e,i){return s("div",{key:"follower"+i},[s("div",{staticClass:"flex justify-between q-mb-md q-mt-sm"},[s("div",{staticClass:"col-auto flex items-center"},[s("div",{staticClass:"col-auto flex flex-center cursor-pointer",on:{click:function(i){return t.updateMoney(e)}}},[e.is_collect_money?s("q-item-section",[s("q-item-label",{staticClass:"cursor-pointer"},[s("div",{staticClass:"qImg_haven"},[s("div",{staticClass:"qImg_haven_sec"},[s("q-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}]},[s("q-img",{attrs:{src:e.contact_mugshot||t.nidinImg,ratio:1}})],1)],1)]),s("q-badge",{staticClass:"badge_style_haven",attrs:{rounded:"",floating:"",color:"grey-1","text-color":"grey-6",label:"已收款"}})],1)],1):s("q-item-section",[s("q-item-label",{staticClass:"cursor-pointer"},[s("div",{staticClass:"qImg_have border border-color-primary"},[s("div",{staticClass:"qImg_have_sec"},[s("q-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}]},[s("q-img",{attrs:{src:e.contact_mugshot||t.nidinImg,ratio:1}})],1)],1)]),s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fas fa-plus q-icon-plus-position",size:"12px",color:"grey-1"}}),s("q-badge",{staticClass:"badge_style_have",attrs:{rounded:"",floating:"",color:"primary","text-color":"white",label:"收款"}})],1)],1)],1),s("div",{staticClass:"q-pl-md col flex items-center"},[s("span",{staticClass:"text-bold font-size-subtitle-1 q-mr-xs"},[t._v("\n              "+t._s(e.contact_name)+"\n            ")]),t.canEdit?s("div",{staticClass:"cursor-pointer",on:{click:function(i){return t.delMemberOrder(e.order_id,e.contact_name)}}},[s("q-avatar",{staticClass:"g-button",attrs:{size:"24px","text-color":"white"}},[s("q-icon",{staticClass:"avator-icon-reset",staticStyle:{"align-content":"center"},attrs:{name:"fas fa-trash-alt",size:"13px",color:"gray-6"}})],1)],1):t._e()])]),s("div",{staticClass:"col q-mb-sm row reverse"},[s("div",{staticClass:"flex items-center subtotal_price no-wrap"},[s("div",{staticClass:"flex reverse-wrap justify-end"},[s("span",{class:[t.orderOthers.group_buy_follower_order_coupons[e.order_id]||e.product_coupon.total_discount||e.product_voucher.total_discount?"text-del text-gray-3 q-mr-xs":"text-dark"]},[t._v("\n                $"+t._s(t.singlePeoplePrice(e.product_simple))+"\n              ")]),t.orderOthers.group_buy_follower_order_coupons[e.order_id]||e.product_coupon.total_discount||e.product_voucher.total_discount?s("span",{staticClass:"text-dark"},[t._v("\n                $"+t._s(t.getFollowerEndPrice(e))+" \n              ")]):t._e(),s("span",{staticClass:"text-dark"},[t._v("\n                / "+t._s(t.getAmount(e.product_simple))+"\n                "+t._s(t.$t("order.item"))+"\n              ")])]),t.showMoreBtn&&"orderListInfo"!==t.$route.name&&2===t.orderInfo.order_type?s("div",{staticClass:"shopping-more-btn cursor-pointer",on:{click:function(e){return t.togglefollowerOrderList(i)}}},[s("q-icon",{staticClass:"shopping-icon",class:{active:t.showFollowerOrderListAll[i]},attrs:{name:"fas fa-chevron-down",size:"12px",color:"primary"}})],1):t._e()])])]),e.invalid_product_simple&&e.invalid_product_simple.length&&t.showFollowerOrderListAll[i]?s("message-block",{staticClass:"q-mt-sm",attrs:{blockColor:"background-color: #F9A62814;",content:["菜單更新：「"+t.handleInvalidProductSimple(e.invalid_product_simple)+"」無法訂購，請刪除此團員單。"],iconColor:"warning",icon:"fas fa-exclamation-circle"}}):t._e(),e.member_remark||(t.followerCouponText(e)||e.contact_method_remark)&&(t.showFollowerOrderListAll[i]||"orderListInfo"===t.$route.name)?s("div",{staticClass:"q-px-md q-py-sm q-mb-sm text-gray-2 message-section"},[e.member_remark?s("small",{staticClass:"text-gray-2",staticStyle:{"word-break":"break-all"}},[t._v("\n          留言："+t._s(e.member_remark)+"\n          "),s("br")]):t._e(),t.followerCouponText(e)&&(t.showFollowerOrderListAll[i]||"orderListInfo"===t.$route.name)?s("div",{class:{"bg-light-secondary q-pt-xs q-px-sm border-m-around":e.has_invalid_coupon,"nd-bg-violet-red-1 nd-p-2":t.checkCalcModeforfollower.some((function(t){return t.followerId===e.order_id&&t.showWarning}))}},[s("small",[s("q-icon",{staticClass:"q-ml-none q-mr-xs",staticStyle:{top:"-1px",left:"2px","margin-top":"0px","margin-bottom":"0px"},attrs:{name:"fas fa-ticket-alt"}}),s("span",{staticClass:"q-ml-sm"},[t._v("\n              "+t._s(t.followerCouponText(e))+"，共折 "+t._s(t.followerCount_access(e))+" 元\n            ")]),s("br"),t.checkCalcModeforfollower.some((function(t){return t.followerId===e.order_id&&t.showWarning}))?s("span",{staticClass:"nd-ml-3 text-secondary"},[t._v("自備飲料杯折扣無法與其他優惠併用")]):t._e()],1),e.has_invalid_coupon?s("span",[s("br"),s("small",{staticClass:"text-secondary line-height-small q-pl-lg"},[t._v("有無效的優惠券")])]):t._e()]):t._e(),e.contact_method_remark&&(t.showFollowerOrderListAll[i]||"orderListInfo"===t.$route.name)?s("small",[s("q-icon",{staticClass:"q-mr-xs q-ml-none",staticStyle:{top:"-1px",left:"2px","margin-top":"0px","margin-bottom":"0px"},attrs:{name:"fas fa-phone"}}),t._v("\n          "+t._s(e.contact_method_remark)+"\n        ")],1):t._e()]):t._e(),!1===t.showFollowerList(i)?s("div",{staticClass:"q-mb-md"},t._l(e.product_simple,(function(o,r){return s("div",{key:"follower-prod-"+i+"-"+r,staticClass:"flex justify-between prod-list"},[s("div",{staticClass:"full-width q-pa-md"},[s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"text-bold q-py-xs"},[s("div",{staticClass:"d-flex row"},[s("div",{staticClass:"text-bold q-mr-sm"},[t._v("\n                    "+t._s(t.getProdName(o.name,o))+"\n                  ")]),t.isDisTime_prod(o)?s("div",{staticClass:"soldout-label bg-secondary self-center"},[t._v("\n                    查看停賣時段\n                  ")]):o.is_disabled||t.isDisTime_prod(o)&&3!==t.orderInfo.order_type?s("div",{staticClass:"q-my-xs q-mr-sm i-m-none inline-block",staticStyle:{height:"15px",width:"38px",top:"2px"}}):t._e()])])]),s("prod-detail",{staticClass:"col prod-detail-font",attrs:{prodSimple:o,disableList:t.disableList,storeInfo:t.storeInfo,orderType:t.orderInfo.order_type,orderInfo:t.orderInfo,orderOthers:t.orderOthers,orderAttach:t.orderAttach}})],1),r+1!==t.showListAmount(e.product_simple.length)&&e.product_simple.length>1?s("div",{staticClass:"q-px-md full-width"}):t._e()])})),0):t._e()],1)})),0):t._e(),t.orderOthers.order_info.product_simple.length||t.followerList.length?t._e():s("div",{staticClass:"flex flex-center",staticStyle:{height:"150px"}},[t._v("\n    趕快去加購商品吧！\n  ")]),t.canEdit&&2===t.orderInfo.order_type&&20!==this.orderInfo.group_buying_status?s("div",{staticClass:"flex flex-center text-center q-mt-lg"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer bg-white border-around text-gray-2 font-size-caption",attrs:{disabled:!t.can_refresh},on:{click:t.refreshOrder}},[s("q-icon",{staticClass:"text-gray-2 shopping-icon",attrs:{name:"fas fa-sync-alt",size:"15px"}}),t._v("\n      重新取得團員訂單\n    ")],1)]):t._e(),t.showMoreBtn&&"orderListInfo"!==t.$route.name&&2===t.orderInfo.order_type?s("div",{staticClass:"flex flex-center text-center q-mt-sm q-mb-sm"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"shopping-more-all-btn border border-color-primary shopping-more-btn cursor-pointer",on:{click:t.toggleOrderList}},[s("span",[t._v(t._s(t.showMoreBtnText))]),s("q-icon",{staticClass:"shopping-icon",attrs:{name:this.showFollowerListShow&&this.showOrderListAll?"fas fa-chevron-up":"fas fa-chevron-down",size:"12px",color:"primary"}})],1)]):t._e(),t.prod_id&&t.show.modal_prod?s("div",[s("menu-modal",{attrs:{disableList:t.disableList,editProd:t.edit_prod,getOrderInfo:t.getOrderInfo,iconList:t.iconList,itemSetUid:t.item_set_uid,imgList:t.imgList,layout:t.layout,menu:t.menu,menuInfo:t.menuInfo,modalShow:t.show,orderId:t.$route.params.order_id,orderInfo:t.orderInfo,orderOthers:t.orderOthers,orderAttach:t.orderAttach,prodId:t.prod_id,storeInfo:t.storeInfo,useCoupon:t.useCoupon,promotionList:t.promotion_list},on:{clearEditProd:t.clearEditProd}})],1):t._e(),s("q-dialog",{staticClass:"flex flex-center column",model:{value:t.show.modal_follower,callback:function(e){t.$set(t.show,"modal_follower",e)},expression:"show.modal_follower"}},[s("q-card",{staticClass:"bg-white nidin-modal min-h-none"},["orderListInfo"!==t.$route.name?s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer text-right",on:{click:function(e){t.show.modal_follower=!1}}},[s("q-icon",{attrs:{name:"fas fa-times-circle",color:"secondary",size:"18px"},on:{click:function(e){t.show.modal_service=!1}}})],1):t._e(),s("div",{staticClass:"flex justify-between q-mb-sm"},[s("div",{staticClass:"flex col"},[s("div",{staticClass:"col-auto flex flex-center"},[s("q-avatar",[s("q-img",{attrs:{src:t.follower_info.contact_mugshot||t.nidinImg,ratio:1}})],1)],1),s("div",{staticClass:"font-size-subtitle-2 q-pl-md col flex items-center"},[s("span",{staticClass:"text-bold cursor-pointer"},[t._v(t._s(t.follower_info.contact_name))]),s("br")])]),s("div",{staticClass:"col-auto q-pr-sm flex flex-center"},[t.canEdit?t._e():s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer flex items-center text-bold",on:{click:function(e){return t.updateMoney(t.follower_info)}}},[s("q-icon",{staticClass:"q-mr-xs",staticStyle:{bottom:"-1px"},attrs:{name:"monetization_on",size:"20px",color:t.follower_info.is_collect_money?"warning":"grey-5"}}),t.follower_info.product_simple?s("span",{staticClass:"q-mr-sm"},[t._v(t._s(t.singlePeoplePrice(t.follower_info.product_simple)))]):t._e()],1)])]),s("div",[s("hr",{staticClass:"q-my-md"}),s("div",{staticClass:"flex"},[s("div",{staticClass:"font-size-subtitle-1 q-ml-sm"},[t.follower_info.contact_method_remark?s("small",[s("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-phone"}}),t._v("  "+t._s(t.follower_info.contact_method_remark)),s("br")],1):t._e(),t.follower_info.member_remark?s("small",[s("q-icon",{staticClass:"q-mr-sm",attrs:{name:"message"}}),t._v("  "+t._s(t.follower_info.member_remark)),s("br")],1):t._e(),s("small",[s("q-icon",{staticClass:"q-mr-sm",staticStyle:{top:"-1px"},attrs:{name:"monetization_on",color:t.follower_info.is_collect_money?"warning":"grey-8",size:"18px"}}),t._v(" "+t._s(t.collectMoney(t.follower_info.is_collect_money))),s("br")],1),t.followerCoupon.length?s("small",[s("q-icon",{staticClass:"q-mr-sm",staticStyle:{top:"-1px"},attrs:{name:"fas fa-ticket-alt"}}),t._v("  使用"+t._s(t.followerCoupon.length)+"張優惠券，共折"+t._s(t.followerCount)+"元\n              "),s("br")],1):t._e()])])])])],1),s("q-dialog",{attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.alert_show.single_coupon,callback:function(e){t.$set(t.alert_show,"single_coupon",e)},expression:"alert_show.single_coupon"}},[s("q-card",{staticClass:"q-card w-100 flex column no-wrap bg-gray-6 full-height",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("div",{staticClass:"nd-px-4 nd-pt-4 nd-pb-2 bg-white"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.alert_show.single_coupon=!1}}}),s("div",{staticClass:"text-weight-medium font-size-subtitle-1"},[t._v("\n          可使用的券\n        ")]),s("div",{staticClass:"font-size-caption nd-pt-4"},[s("div",[t._v("最多可使用 "+t._s(t.canUseLimit)+" 張")])])]),t.appliable_prod_voucher.length&&t.appliable_prod_coupon.length?s("q-tabs",{staticClass:"category-select-block bg-white",attrs:{"active-color":"primary",align:"justify",dense:""},model:{value:t.selectTicketType,callback:function(e){t.selectTicketType=e},expression:"selectTicketType"}},t._l(t.tab_opt,(function(e){return s("q-tab",{key:e.value,attrs:{name:e.value}},[t._v("\n          "+t._s(e.label)+"\n          "),t.selectCouponsAmount[e.value]?s("span",{staticClass:"flex font-size-caption product-amount bg-primary text-white"},[t._v("\n            "+t._s(t.selectCouponsAmount[e.value])+"\n          ")]):t._e()])})),1):t._e(),s("q-card-section",{staticClass:"col-shrink scroll q-pa-none bg-gray-6"},[s("div",{staticClass:"nd-p-4"},[s("div",["voucher"===t.selectTicketType?[t.exceedVouchers.length?s("div",{staticClass:"nd-mb-2"},[s("message-block",{attrs:{iconColor:"warning",blockColor:"background-color: #F9A82814",content:["若使用面額大於消費金額時，差額無法返還。"],icon:"fas fa-exclamation-circle"}})],1):t._e(),t._l(t.appliable_prod_voucher,(function(e,i){return s("div",{key:"voucher-"+i,class:{"q-pb-sm":i!==t.appliable_prod_voucher.length-1}},[s("nd-voucher-card",{attrs:{voucherInfo:e,brandName:t.storeInfo.brand_name,clickVoucher:t.clickVoucher,chooseCodes:t.voucher_codes[""+e.voucher_set_code+e.voucher_group_id],edit:!t.ticketCanUse}})],1)}))]:t._l(t.appliable_prod_coupon,(function(e,i){return s("div",{key:"coupon-"+e.coupon_item_id,class:{"q-pb-sm":i!==t.appliable_prod_coupon.length-1}},[s("coupon-card-v2",{attrs:{singleCouponInfo:e,clickCoupon:t.clickCoupon,chooseCodes:t.coupon_codes,edit:!t.ticketCanUse}})],1)}))],2)])]),s("q-card-actions",{staticClass:"col-auto row q-mt-auto nd-pt-2 border-top bg-white"},[s("div",{staticClass:"col-12 text-center"},[t.storeInfo.has_membership?s("div",{staticClass:"text-secondary nd-pb-2"},[t._v("\n            使用單品券/配料券的商品無法再參與點數折抵。\n          ")]):t._e(),t.showNotReturnWarning?s("div",{staticClass:"text-secondary nd-pb-2"},[t._v("\n            若使用面額大於消費金額時，差額無法返還。\n          ")]):t._e(),s("q-btn",{class:["full-width btn-primary",{disabled:t.ticketCanUse}],attrs:{disabled:t.show.btn_spinner||t.selectCouponsAmount.total>t.canUseLimit},on:{click:function(e){return t.saveOrderInfo()}}},[t.show.btn_spinner?s("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):t.selectCouponsAmount.total>t.canUseLimit?s("span",[t._v("\n              超過可使用數量\n              "),t.selectCouponsAmount.total?s("span",[t._v("\n                ("+t._s(t.selectCouponsAmount.total)+")\n              ")]):t._e()]):s("span",[t._v("\n              "+t._s(t.$t("common.confirm"))+"\n              "),t.selectCouponsAmount.total?s("span",[t._v("\n                ("+t._s(t.selectCouponsAmount.total)+")\n              ")]):t._e()])],1)],1)])],1)],1)],1)},O=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block q-pa-md prod-list q-mb-md"},[i("div",{staticClass:"text-bold q-py-xs"},[t._v("\n        無商品\n      ")])])}],E=(i("5df3"),i("4f7f"),i("4db1")),S=i.n(E),k=(i("8615"),i("551c"),i("20d6"),i("0fc9")),Y=i("266c"),Q=i("2093"),U=i.n(Q),q=i("8ca0"),$=i("8154"),P=i("45889"),G={name:"ProductListV2",mixins:[y["a"],g["a"]],components:{"prod-detail":k["a"],"menu-modal":Y["a"],"coupon-card-v2":q["a"],"nd-voucher-card":$["a"],"message-block":P["a"],"i-li":N["a"],"nd-icon":function(){return Promise.resolve().then(i.bind(null,"5473"))}},props:{menu:Object,menuInfo:Object,orderInfo:Object,storeInfo:Object,orderOthers:Object,followerList:Array,showError:Object,layout:Number,iconList:Object,imgList:[Array,Object],disableList:Object,updateOrder:Function,getCoupons:Function,useCoupon:Object,updateAllDiscount:Function,memberdiscount:Object,orderAttach:Object,cupDisableActivity:Boolean,ishasCupDiscount:Boolean,ishasCupAmount:Boolean,isCupInvaild:Boolean,ishasCupActivity:Boolean},data:function(){return{alert_show:{single_coupon:!1},show:{modal_store_info:!1,modal_prod:!1,modal_follower:!1,close:!1},prod_id:0,edit_prod:{},item_set_uid:0,follower_info:{},can_refresh:!0,appliable_prod_coupon:[],coupon_codes:[],coupon_codes_all:[],coupon_class:{},coupon_class_opt:{name:"",label:"優惠券活動"},save_coupon_codes:[],times:0,use_limit:0,product_id:null,showOrderListAll:!0,showFollowerListShow:!1,showFollowerOrderListAll:[],listLimit:0,appliable_prod_voucher:[],voucher_codes:{},voucher_codes_all:{},use_vouchers_limit:0,selectTicketType:"coupon",save_voucher_codes:[],promotion_list:{},canUseLimit:0,tab_opt:[{value:"coupon",label:"優惠券"},{value:"voucher",label:"電子票券"}],showMoreCupInfo:!1,isSInfohasCupActivity:!1,cupInvaild:!1,orderInfoNeedUpdate:!1,removeFollowerCoupons:!1,isCupDiscountCombable:!0}},methods:{getAmount:function(t){var e=0;return t.forEach((function(t){e+=t.amount})),e},getProdName:function(t,e){var i=0;if(e.product_id&&(i=e.product_id),i&&this.newProdSettingList){var s=this.newProdSettingList[i];if(s&&s.alias_list.length)return s.alias_list[0]}return t},showListAmount:function(t){return this.showOrderListAll||"orderListInfo"===this.$route.name?t:this.listLimit},showFollowerList:function(t){return!this.showFollowerOrderListAll[t]&&"orderListInfo"!==this.$route.name},toggleGrouperList:function(){this.showOrderListAll||2!==this.orderInfo.order_type?this.showOrderListAll=!1:(this.getOrderInfo(),this.showOrderListAll=!0)},toggleOrderList:function(){var t=this;this.showFollowerListShow&&this.showOrderListAll||2!==this.orderInfo.order_type?(this.followerList.forEach((function(e,i){t.showFollowerOrderListAll[i]=!1})),this.showFollowerListShow=!1,this.showOrderListAll=!1):(this.followerList.forEach((function(e,i){t.showFollowerOrderListAll[i]=!0})),this.showOrderListAll=!0,this.showFollowerListShow=!0,this.getOrderInfo())},togglefollowerOrderList:function(t){if(this.showFollowerOrderListAll[t]||0===this.showFollowerOrderListAll[t])this.showFollowerOrderListAll[t]=!1,this.showFollowerListShow=!1,this.getOrderInfo();else{this.showFollowerOrderListAll[t]=!0;var e=[];this.showFollowerOrderListAll.forEach((function(t){!0===t&&e.push(t)})),e.length===this.showFollowerOrderListAll.length&&(this.showFollowerListShow=!0),this.getOrderInfo()}},clearEditProd:function(t){t&&(this.edit_prod=void 0)},uesTicketNumber:function(t){var e=0;return this.orderOthers.order_info.product_coupon.item_list[t]&&(e+=this.orderOthers.order_info.product_coupon.item_list[t].coupon_count),this.orderOthers.order_info.product_voucher.item_list[t]&&(e+=this.orderOthers.order_info.product_voucher.item_list[t].voucher_count),e},clickCoupon:function(t,e){this.show.btn_spinner=!0;var i=this.coupon_codes.findIndex((function(e){return t===e}));i>-1?(this.coupon_codes.splice(i,1),this.coupon_codes_all.splice(i,1),this.show.btn_spinner=!1):(this.coupon_codes.push(t),this.coupon_codes_all.push(e),this.show.btn_spinner=!1)},clickVoucher:function(t,e){this.show.btn_spinner=!0;var i=e.voucher_set_code+e.voucher_group_id;t.length?(this.$set(this.voucher_codes,i,t),this.$set(this.voucher_codes_all,i,e)):(Object.keys(this.voucher_codes).includes(i)&&(this.voucher_codes=_.omit(this.voucher_codes,i)),Object.keys(this.voucher_codes_all).includes(i)&&(this.voucher_codes_all=_.omit(this.voucher_codes_all,i))),this.show.btn_spinner=!1},saveOrderInfo:function(){var t=this,e={coupons:[],vouchers:[],total_discount:0};this.save_coupon_codes=[],this.save_coupon_codes=_.cloneDeep(this.coupon_codes),this.coupon_codes_all.forEach((function(t){e.coupons.push({code:t.code,discount:t.unit_discount}),e.total_discount+=t.unit_discount})),this.save_voucher_codes=[];var i=function(i){t.voucher_codes[i].forEach((function(s){t.save_voucher_codes.push(s),e.vouchers.push({code:s,discount:t.voucher_codes_all[i].unit_discount}),e.total_discount+=t.voucher_codes_all[i].unit_discount}))};for(var s in this.voucher_codes)i(s);this.updateSingleProductCoupon(e),this.alert_show.single_coupon=!1,this.coupon_codes=[],this.coupon_codes_all=[],this.voucher_codes={},this.voucher_codes_all={}},isShowFollowerDefault:function(){var t=d()(c.a.mark((function t(){var e=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){for(var i=function(t){e.showFollowerOrderListAll[t]=!1,e.disableList.schedule&&e.followerList[t].product_simple.forEach((function(i){var s=e.disableList.schedule.product_open[i.product_id];if(i.product_id&&s)for(var o=s.setting_list,r=0;r<o.length;r++){var n=o[r],a=e.disableList.setting_list[n].is_applicable;a&&(e.showFollowerOrderListAll[t]=!0)}}))},s=0;s<e.followerList.length;s++)i(s);t()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),isDisTime:function(t){if(this.disableList.schedule&&t.product_id){var e=this.disableList.schedule.product_open[t.product_id];if(e)for(var i=e.setting_list,s=0;s<i.length;s++){var o=i[s],r=this.disableList.setting_list[o].is_applicable;if(r)return!0}}return!1},isDisTime_prod:function(t){var e=this.isDailyDisTime_prod(t);if(e)return!0;if(this.disableList.schedule&&t.product_id){var i=this.disableList.schedule.product_open[t.product_id];if(i)for(var s=i.setting_list,o=0;o<s.length;o++){var r=s[o],n=this.disableList.setting_list[r].is_applicable;if(3===this.orderInfo.order_type)return!0;if(n)return!0}}return!1},isDailyDisTime_prod:function(t){if(!t||!t.product_id)return!1;var e=this.disableList.todaySchedule;if(!e||"object"!==n()(e))return!1;var i=Object.keys(e.product_open||{}).map(Number),s=i.includes(t.product_id);if(s)return!0;var o=3==t.type,r=o?"blocks":"adjusts",a=o?"items":"options",c=o?"product_id":"option_id",u=t[r]&&Array.isArray(t[r])?t[r].map((function(t){return t[a]})).flat():[],d=u&&Array.isArray(u)?u.map((function(t){return t[c]})).flat():[],l=o?"item":"option",M=d.some((function(t){var i=Object.values(e[l]||{}).map((function(t){return Object.keys(t||{})})).flat().map(Number);return!!i.includes(t)}));if(M)return!0;if(o){var h=S()(u),p=Object.keys(e.option||{}).map((function(t){return S()(Object.keys(e.option[t]||{}))})).flat().map(Number),m=h.map((function(t){return t.adjusts.map((function(t){return t.options.map((function(t){return t.option_id}))}))}));m=_.flattenDeep(m);var g=S()(new Set(m)),f=g.some((function(t){return p.includes(t)}));return f}return!1},setDefault:function(){this.save_coupon_codes=[],"orderListInfo"!==this.$route.name&&(this.$set(this.useCoupon,"coupon_codes",this.save_coupon_codes),this.$set(this.useCoupon,"coupon_money",0))},getFollowerEndPrice:function(t){var e=this.orderOthers.group_buy_follower_order_coupons[t.order_id],i=t.product_coupon?t.product_coupon.total_discount:0,s=t.product_voucher?t.product_voucher.total_discount:0,o=this.singlePeoplePrice(t.product_simple)||0,r=0;return e&&e.forEach((function(t){1===t.discount_type&&(r+=t.discount_value),2===t.discount_type&&(r+=t.money)})),i&&(r+=i),s&&(r+=s),o-r>0?(this.$store.commit("order/setCouponMoney",r),o-r):0},onlyUpdateGb:function(t,e){var i=this,s=this.$route.params.order_id,o="/order/"+s+"/groupBuyingStatus";this.putDataH(o,t).then((function(t){e&&e(t)})).catch((function(t){e&&(t.data.status===i.$config.timeError&&i.$q.dialog({class:"nidin-dialog",title:i.$t("dialog.notice"),message:t.data.description,ok:{label:i.$t("dialog.ok"),color:"primary",textColor:"white"},html:!0}).onOk((function(){i.step=1})),e(t))}))},updateGBstatus:function(){var t=this,e=this.orderInfo.group_buying_status,i=10;10===e&&(i=20);var s={group_buying_status:i};this.onlyUpdateGb(s,(function(){t.$set(t.orderInfo,"group_buying_status",i);var e="關閉",s="accent";10===i&&(s="positive",e="開啟"),t.$q.notify({message:"已"+e+"揪團功能",color:s,timeout:2500,position:"bottom"})}))},addFriend:function(){this.show.modal_follower=!1},refreshOrder:function(){var t=this;this.can_refresh=!1,this.$q.notify({message:"已重新讀取訂單",color:"positive",timeout:2500,position:"bottom"}),setTimeout((function(){t.can_refresh=!0}),2500),this.updateListLimit(),this.getOrderInfo()},delMemberOrder:function(t,e){var i=this;if(t&&(this.follower_info.order_id=t,this.follower_info.contact_name=e),this.follower_info.order_id){var s=this.follower_info.contact_name,o=this.follower_info.order_id;this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"刪除"+s+"的訂單嗎？",ok:{label:this.$t("dialog.delete"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){i.showListAmount(),i.delMember(o,s)}))}},delMember:function(t,e){var i=this,s=this.$route.params.order_id,o="/carts/"+s+"/subOrder/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.show.modal_follower=!1,i.$q.notify({icon:"check_circle",message:"成功刪除"+e+"的訂單",color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},collectMoney:function(t){return t?"已付款囉":"還沒付款"},openMemberModal:function(t){this.follower_info=t,this.show.modal_follower=!0},updateMoney:function(t){var e=this,i=this.$route.params.order_id,s="/order/"+i+"/subOrderCollectStatus",o={};t.is_collect_money?o.disable=t.order_id:o.enable=t.order_id,this.putDataH(s,o).then((function(i){if(200===i.data.status){var s=t.contact_name+"還未付款！",r="accent";o.disable||(s=t.contact_name+"已付款！團長辛苦囉～",r="positive"),e.$q.notify({avatar:t.contact_mugshot,message:s,color:r,timeout:2500,position:"bottom"}),t.is_collect_money=!t.is_collect_money}})).catch((function(t){}))},delItemSet:function(t){var e=this,i=t.item_set_uid,s=t.name;this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"刪除"+this.getProdName(s,t)+"嗎？",ok:{label:this.$t("dialog.delete"),color:"primary",textColor:"white"},cancel:this.$t("dialog.cancel")}).onOk((function(){e.delProd(i,s);var o=[{item_id:t.product_id,item_name:s,item_brand:e.orderInfo.brand_name||"unknow",price:t.price,quantity:t.amount}];e.setGATag("remove_from_cart",t.product_id,{currency:"TWD",value:t.price*t.amount,items:o})}))},delProd:function(t,e){var i=this,s=this.$route.params.order_id,o="/carts/"+s+"/productItem/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.$q.notify({icon:"check_circle",message:"成功刪除"+e,color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},getOrderInfo:function(){var t=this,e=this.$route.params.order_id,i="/order/"+e+"/info";this.getDataH(i,null).then((function(e){200===e.data.status&&(t.$set(t.orderInfo,"total_paid_money",e.data.order_info.basic.total_paid_money),t.$set(t.orderInfo,"total_money",e.data.order_info.basic.total_money),t.$set(t.orderInfo,"money",e.data.order_info.basic.money),t.$set(t.orderInfo,"total_amount",e.data.order_info.basic.total_amount),t.$set(t.orderInfo,"amount",e.data.order_info.basic.amount),t.$set(t.orderOthers.order_info,"allowance",e.data.order_info.allowance),t.$set(t.orderOthers.order_info,"plastic_info",e.data.order_info.plastic_info),t.$set(t.orderOthers.order_info,"product_coupon",e.data.order_info.product_coupon),t.$set(t.orderOthers.order_info,"product_voucher",e.data.order_info.product_voucher),t.$set(t.orderOthers.order_info,"product",e.data.order_info.product),t.$set(t.orderOthers.order_info,"product_simple",e.data.order_info.product_simple),e.data.order_info.invalid_product_simple&&t.$set(t.orderOthers.order_info,"invalid_product_simple",e.data.order_info.invalid_product_simple),t.$set(t.orderOthers.order_info,"delivery_total_money",e.data.order_info.delivery_total_money),t.$set(t.orderOthers,"group_buy_follower_order_list",e.data.group_buy_follower_order_list),t.$set(t.orderOthers,"group_buy_follower_order_coupons",e.data.group_buy_follower_order_coupons),t.$store.commit("order/setProductCouponMoney",e.data.order_info.product_coupon.total_discount||0),t.$store.commit("order/setProductVoucherMoney",e.data.order_info.product_voucher.total_discount||0),t.$store.commit("order/setAllowance",e.data.order_info.allowance.total_allowance||0),t.updateAllDiscount({}))})).catch((function(t){}))},openProdModal:function(t,e){var i=this;if(!this.canEdit||e.is_disabled)this.show.modal_prod=!1;else if(!this.showDisIcon){var s=this.orderOthers.order_info.product.find((function(e){if(t===e.item_set_uid)return i.item_set_uid=t,e}));this.edit_prod=s,this.prod_id=s.product_id,this.show.modal_prod=!0}},setTime:function(){var t=d()(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){t()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),singlePeoplePrice:function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];e+=s.price*s.amount}return this.roundingNum(this.orderInfo.rounding_type,e)},setDefaultInfo:function(){var t=this.storeInfo.delivery_info;if(this.storeInfo.delivery_info){var e=this.storeInfo.delivery_info.find((function(t){return t.is_default}));e="undefined"===typeof e?t[0].delivery_type:e.delivery_type,this.orderInfo.delivery_type=e}else this.showError.contact_service=!0;var i=this.storeInfo.trade_types;i?this.orderInfo.trade_type=i[0].type:this.showError.contact_service=!0},showTicketModal:function(t,e){var i=this;this.memberdiscount.total_discount?this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"訂單已使用會員卡折扣，<br>與「單品折扣」不併用喔！<br>請問是否變更為「單品折扣」?",ok:{label:this.$t("dialog.change_discount"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},html:!0}).onOk((function(){i.canUseLimit=e.amount,i.getProductDiscount(t)})):(this.canUseLimit=e.amount,this.getProductDiscount(t)),this.product_id=t},getProductDiscount:function(t){var e=this,i=this.$route.params.order_id,s="/carts/"+i+"/productItem/"+t+"/applicableDiscountItems";this.getDataH(s,null).then((function(t){200===t.status&&(e.appliable_prod_coupon=t.data.coupon.applicable_coupons,e.coupon_codes=[],e.coupon_codes_all=[],e.appliable_prod_coupon.forEach((function(t){20===t.status&&(e.coupon_codes.push(t.code),e.coupon_codes_all.push(t))})),e.use_limit=t.data.coupon.usage_limit,e.appliable_prod_coupon&&(e.alert_show.single_coupon=!0),e.appliable_prod_voucher=t.data.voucher.applicable_vouchers,e.voucher_codes={},e.voucher_codes_all={},e.appliable_prod_voucher.forEach((function(t){t.voucher_item_list.forEach((function(i){if(20===i.status){var s=t.voucher_set_code+t.voucher_group_id;Object.keys(e.voucher_codes).includes(s)?e.voucher_codes[s].push(i.code):(e.$set(e.voucher_codes,s,[i.code]),e.$set(e.voucher_codes_all,s,t))}}))})),e.use_vouchers_limit=t.data.voucher.usage_limit,e.appliable_prod_voucher&&(e.alert_show.single_coupon=!0),e.selectTicketType=e.appliable_prod_voucher.length&&!e.appliable_prod_coupon.length?"voucher":"coupon")})).catch((function(t){}))},updateSingleProductCoupon:function(t){var e=this,i=this.$route.params.order_id,s="/carts/"+i+"/productItem/"+this.product_id+"/discountItem";this.postDataH(s,t).then((function(t){200===t.data.status&&e.getOrderInfo()})).catch((function(t){})),this.$emit("updateDiscount")},updateListLimit:function(){2===this.orderInfo.order_type&&this.followerList.length&&(this.listLimit=0)},followerCoupon_access:function(t){var e=this.orderOthers.group_buy_follower_order_coupons,i=t.product_coupon.total_discount,s=t.order_id;if("undefined"!==typeof s){var o=function(){var o=[];if(e&&i>0){for(var r in t.product_coupon.item_list)t.product_coupon.item_list[r].list.forEach((function(t){o.push(t)}));return e[s]?{v:[].concat(S()(e[s]),o)}:{v:o}}if(e&&0===i){if(e[s])return{v:e[s]}}else if(!e&&i>0){if(e&&i>0)for(var n in t.product_coupon.item_list)n.list.forEach((function(t){o.push(t)}));return{v:o}}}();if("object"===n()(o))return o.v}return[]},followerVoucher_access:function(t){var e=this.orderOthers.group_buy_follower_order_vouchers,i=t.product_voucher.total_discount,s=t.order_id;if("undefined"!==typeof s){var o=function(){var o=[];if(e&&i>0){for(var r in t.product_voucher.item_list)t.product_voucher.item_list[r].list.forEach((function(t){o.push(t)}));return e[s]?{v:[].concat(S()(e[s]),o)}:{v:o}}if(e&&0===i){if(e[s])return{v:e[s]}}else if(!e&&i>0){if(e&&i>0)for(var n in t.product_voucher.item_list)n.list.forEach((function(t){o.push(t)}));return{v:o}}}();if("object"===n()(o))return o.v}return[]},followerCouponText:function(t){var e="",i=[],s=this.followerCoupon_access(t),o=this.followerVoucher_access(t);return s.length&&i.push("".concat(s.length,"張優惠券")),o.length&&i.push("".concat(o.length,"張電子票券")),i.length&&(e="使用",e+=i.join("、")),e},followerCount_access:function(t){var e=0;return this.followerCoupon_access(t).length&&this.followerCoupon_access(t).forEach((function(t){t.unit_discount?e+=t.unit_discount:e+=t.money})),this.followerVoucher_access(t).length&&this.followerVoucher_access(t).forEach((function(t){e+=t.unit_discount})),e},handleInvalidProductSimple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],i=[],s=[];return e=t.filter((function(t){if(t&&t.name)return t})),i=e.map((function(t){return t.name})),i.forEach((function(t){-1===s.indexOf(t)&&s.push(t)})),s.join("、")},messageEvent:function(t){this.show.close=t.close,this.deleteChangeProductInfoInCart()},deleteChangeProductInfoInCart:function(){var t=this.$route.params.order_id,e="/carts/".concat(t,"/invalidProduct");this.delDataH(e).then((function(){})).catch((function(t){}))},clickMoreCupInfo:function(){this.showMoreCupInfo=!0},checkCupDiscountActivity:function(){var t=this.storeInfo,e=this.orderOthers.order_info.product_simple;if(t.cup_activity&&Object.keys(t.cup_activity).length?this.isSInfohasCupActivity=!0:this.isSInfohasCupActivity=!1,e&&Object.keys(e).length){var i=e.find((function(t){return 1===t.cup_is_invalid}));this.cupInvaild=!!i}},handleDelCupDiscount:function(t){this.orderInfoNeedUpdate=t},setCupDiscountWaring:function(){this.removeFollowerCoupons||(this.removeFollowerCoupons=!0,this.$emit("update:removeFollowerCoupons",this.removeFollowerCoupons))}},created:function(){var t=d()(c.a.mark((function t(){var e=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.appliable_prod_coupon.length&&(this.coupon_class=this.couponClassList[0]),t.next=3,this.setDefault();case 3:return t.next=5,this.checkCupDiscountActivity();case 5:return t.next=7,this.setTime().then((function(){e.orderInfo.delivery_type||e.setDefaultInfo()}));case 7:this.canEdit&&this.getPromotionProducts(this.storeInfo).then((function(t){e.promotion_list=t})),this.$store.getters["order/prodCupDiscountUseCorrect"];case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=d()(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.updateListLimit(),this.orderOthers&&this.orderOthers.order_info&&this.orderOthers.order_info.invalid_product_simple&&(this.show.close=!!this.orderOthers.order_info.invalid_product_simple.length);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{ticketCanUse:function(){return"voucher"===this.selectTicketType&&0===this.use_vouchers_limit||"coupon"===this.selectTicketType&&0===this.use_limit},hasTicketDiscount:function(){return this.orderOthers.order_info.product_coupon.total_discount||this.orderOthers.order_info.product_voucher.total_discount},newProdSettingList:function(){var t=this.$q.localStorage.getItem("Nidin_"+this.storeInfo.id+"_prod_setting");return this.prodSettingList?this.prodSettingList:t||[]},showMoreBtnText:function(){return this.showFollowerListShow&&this.showOrderListAll||2!==this.orderInfo.order_type?this.showFollowerListShow&&this.showOrderListAll?this.$t("menu.info_hide"):"展開":"展開所有訂單"},showMoreBtn:function(){return 20!==this.orderInfo.group_buying_status&&2===this.orderInfo.order_type||(this.products.length>this.listLimit||!!this.followerList.find((function(t){return t.product_simple.length>2})))},exceedVouchers:function(){return this.appliable_prod_voucher.length?this.appliable_prod_voucher.filter((function(t){return[1,101].includes(t.discount_type)&&t.discount_value>t.unit_discount})).map((function(t){return t.voucher_set_code+t.voucher_group_id})):[]},showNotReturnWarning:function(){var t=this;if(this.alert_show.single_coupon&&this.exceedVouchers.length){var e=Object.keys(this.voucher_codes);return e.some((function(e){return t.exceedVouchers.includes(e)}))}return!1},couponMoney:function(){for(var t=0,e=0;e<this.coupon_codes_all.length;e++){var i=this.coupon_codes_all[e];1===i.discount_type&&i.discount_value&&(t+=i.discount_value),2===i.discount_type&&i.discount_value&&(t+=i.money),101===i.discount_type&&i.discount_value&&(t+=i.discount_value)}return t},canUseCoupon:function(){return this.appliable_prod_coupon.length&&this.use_limit},couponAmount:function(){return this.coupon_codes.length||0},voucherAmount:function(){var t=0;return Object.values(this.voucher_codes).forEach((function(e){t+=e.length})),t},selectCouponsAmount:function(){return{coupon:this.couponAmount,voucher:this.voucherAmount,total:this.couponAmount+this.voucherAmount}},products:function(){return this.$store.commit("order/setProductCouponMoney",this.orderOthers.order_info.product_coupon.total_discount),this.$store.commit("order/setProductVoucherMoney",this.orderOthers.order_info.product_voucher.total_discount),this.orderOthers.order_info.product||this.orderOthers.order_info.product_simple},nidinImg:function(){return U.a},followerCount:function(){var t=0;return this.followerCoupon.length&&this.followerCoupon.forEach((function(e){t+=e.money})),t},followerCoupon:function(){var t=this.orderOthers.group_buy_follower_order_coupons,e=this.follower_info.order_id;return"undefined"!==typeof e&&t&&t[e]?t[e]:[]},canEdit:function(){if("orderListInfo"===this.$route.name)return!1;var t=this.menuInfo.version.stamp.toString(),e=this.orderInfo.menu_ver_stamp.toString();return this.orderInfo.menu_id===this.menuInfo.menu_id&&t===e&&20!==this.$store.state.order.gb_brief.group_buying_status},openTime:function(){if(this.storeInfo.order_start_time){var t=this.getTime(2,this.storeInfo.order_start_time,"HH:mm"),e=this.getTime(2,this.storeInfo.order_end_time,"HH:mm");return t+" ~ "+e}return""},showDisIcon:function(){var t=this,e=this.disableList.product[this.categoryId],i=!1;return e&&e.forEach((function(e){e.product_id===t.prodId&&(i=!0)})),i},couponClassList:function(){var t=this.appliable_prod_coupon,e=[];return t.length&&t.forEach((function(t){var i={label:t.name,value:t.code};e.push(i)})),e},productCouponUse:function(t){return!!this.orderOthers.order_info.product_coupon.item_list[t]},cupActivityTime:function(){var t=this.storeInfo.cup_activity.start_time?this.getTime(1,this.storeInfo.cup_activity.start_time,"YYYY/MM/DD"):"",e=this.storeInfo.cup_activity.end_time?this.getTime(1,this.storeInfo.cup_activity.end_time,"YYYY/MM/DD"):"";return t&&e?t+" - "+e:""},checkCalcModeforfollower:function(){var t=this,e=this.storeInfo,i=this.orderOthers,s=this.useCoupon?this.useCoupon.coupon_money:null,o=this.orderAttach.appliable_discount.total_discount||null,r=i.order_info.product_coupon?i.order_info.product_coupon.total_discount:null,n="";if(i&&i.order_info&&i.order_info.product_simple&&i.order_info.product_simple.length){var a=i.order_info.product_simple;n=a.find((function(t){return t.cup_amount>0}))}if(i&&i.group_buy_follower_order_list&&Object.keys(i.group_buy_follower_order_list).length){var c=i.group_buy_follower_order_list||null;return this.followerList.map((function(a){var u=!1,d=i.group_buy_follower_order_coupons&&i.group_buy_follower_order_coupons[a.order_id],l=a.product_simple?a.product_simple.find((function(t){return t.cup_amount>0})):null,M=null;if(a.product_coupon&&a.product_coupon.total_discount>0&&(M=a.product_coupon),e.cup_activity&&0===e.cup_activity.calc_mode&&(l&&d&&Object.keys(d).length>0?u=!0:n&&(d&&Object.keys(d).length>0||M)?u=!0:(s||o||r)&&l&&(u=!0),c)){var h=c.find((function(t){return t.product_simple.find((function(t){return t.cup_amount>0}))}));h&&(d||M)&&(u=!0)}return u&&t.setCupDiscountWaring(),{followerId:a.order_id,showWarning:u}}))}return[]},isCupDiscountCombine:function(){var t=this.storeInfo;if(!t)return!0;if(t&&t.cup_activity&&Object.keys(t.cup_activity).length&&void 0!==t.cup_activity.calc_mode){if(0===t.cup_activity.calc_mode||"0"===t.cup_activity.calc_mode)return!1;if(2===t.cup_activity.calc_mode||"2"===t.cup_activity.calc_mode)return!0}}},watch:{"appliable_prod_coupon.length":function(){this.coupon_class=this.couponClassList[0]},coupon_class:function(){this.setDefault()},"disableList.schedule.product_open":function(t){Object.keys(t).length&&(this.isShowFollowerDefault(),this.getOrderInfo())},orderInfoNeedUpdate:function(t){this.$emit("update:delCupDiscount",t)},orderAttach:function(t){t&&this.checkCalcModeforfollower},useCoupon:function(t){t&&this.checkCalcModeforfollower}}},Z=G,H=(i("661a"),i("2877")),B=Object(H["a"])(Z,b,O,!1,null,"42f75da3",null),R=B.exports,W=i("8ca3"),F=i("95da"),V=i("1edd"),J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isMilkshop?i("div",[i("nd-message-block",{staticClass:"q-mb-md",attrs:{blockColor:t.milkshop.message.blockColor,iconColor:"warning",content:t.milkshop.message.content,icon:"fas fa-exclamation-circle"}})],1):t._e()])},X=[],K={name:"NdBrandMilkshop",props:{brand:Number},components:{"nd-message-block":P["a"]},data:function(){return{milkshop:{id:{prod:[2],dev:[32]},message:{blockColor:"background-color: #F9A82814",content:["提醒：網路訂餐及實體優惠不共用。"]}}}},computed:{PROD:function(){return!0},DEV:function(){return!1},isMilkshop:function(){return this.DEV?-1!==this.milkshop.id.dev.indexOf(this.brand):!!this.PROD&&-1!==this.milkshop.id.prod.indexOf(this.brand)}}},tt=K,et=Object(H["a"])(tt,J,X,!1,null,null,null),it=et.exports;m.a.config.autoSetContainer=!0,l["default"].use(m.a);var st={name:"NdOrderListV2",inject:["reload"],mixins:[y["a"],f["a"],g["a"]],components:{"b-radio-list":I["a"],"copy-gb":j["a"],"coupon-detail":T["a"],"delivery-info":w["a"],"delivery-service":L["default"],"delivery-time":A["a"],"i-li":N["a"],"input-label":x["a"],"money-detail":z["a"],"nd-brand-milkshop":it,"order-activity":F["a"],"order-discount":V["a"],"order-info-detail":C["a"],"product-list":R,"shipping-block":D["a"],"store-detail":v["a"],"trade-info-detail":W["a"]},props:{activitylist:Array,creditList:Array,disableList:Object,followerList:Array,getDisableProd:Function,getStoreInfoOrderDiscount:Function,getOrderInfoOrderDiscount:Function,iconList:Object,imgList:[Array,Object],layout:Number,memberApplication:Object,menu:Object,menuInfo:Object,npobanList:Array,orderAttach:Object,orderdiscount_select:Object,orderInfo:Object,orderOthers:Object,point_application:Object,remarkList:Array,showError:Object,storeInfo:Object,updateOrder:Function,useCoupon:Object,ishasCupDiscount:Boolean,ishasCupAmount:Boolean,isCupInvaild:Boolean,ishasCupActivity:Boolean},data:function(){return{date:h()().format("YYYY-MM-DD"),appliable_coupon:[],appliable_discount:{total_discount:0,list:[]},application_point:{application_id:null,match_amount:null,match_point:null,point_id:null,total_discount:null},applicationMembercard:{total_discount:null},discountAttendOption:0,orderDiscountList:[],orderActivityDiscountList:[],gb_link:"",is_discountable:0,is_gb:!1,item_set_uid:0,max_apply_times:null,max_apply_times_ignore_self_discount:null,memberCard_discount:{discount_list:[],membership_group_id:null,membership_id:null},memberCardDiscount:{},membership_id:null,multiAppliableDiscount:{list:[],matchable_list:[]},need_plastic_bag:!1,need_special_item:!1,plasticAmount:null,point_discount:[],pointdiscount:{total_discount:0},pointOpt:{icon:"arrow",notInput:!0,required:!1,textColor:"text-black",type:"text"},postDeliveryTypeOrderInfoCount:0,share_code:"",show:{btn_spinner:!1,modal_gb:!1,modal_service:!1,vip:!1,reusable_cup_dialog:!1,discount_dialog:!1,chooseDiscount:!1},use_point:0,show_special_item:!1,cup_applicable_discount:{},orderInfoNeedUpdate:!1,removeFollowerCoupons:!1,deliveryWaySupportCupDiscount:!0,radioDiscountType:1,showShippingFeeDialog:!1}},methods:{getMemberCardInfo:function(){var t=d()(c.a.mark((function t(){var e,i,s,o,r,n=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.memberCard_discount,i=e.membership_group_id,s=e.membership_id,o=e.membership_name,i){t.next=3;break}return t.abrupt("return");case 3:return r="/membership/group/".concat(i),t.next=6,this.getData(r,null).then((function(t){if(t){var e=t.data;if(e&&e.membership_discount){var i=e.membership_discount[s];i&&(n.memberCardDiscount=i[0],n.memberCardDiscount.membership_name=o,n.memberCardDiscount.membership_id=s)}}})).catch((function(t){}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkGB:function(){this.is_gb?this.show.modal_gb=!0:(this.is_gb=!0,this.toGroupBuy())},checkHasCoupon:function(t){!t||this.orderdiscount_select.show||this.cupDisableActivity||(this.orderdiscount_select.show="coupon")},clickPoint:function(t){this.orderOthers.order_info.point_application=[],this.application_point.application_id=this.point_discount[0]&&this.point_discount[0].application_list[0]?this.point_discount[0].application_list[0].application_id:null,this.application_point.point_id=this.point_discount.length&&this.point_discount[0].point_id?this.point_discount[0].point_id:0,this.application_point.match_amount=t/this.unit_amount,this.application_point.match_point=t,this.application_point.total_discount=Number(this.unit_money)*Number(this.application_point.match_amount),this.point_application.application_id=this.application_point.application_id,this.point_application.point_id=this.application_point.point_id,this.point_application.match_amount=this.application_point.match_amount,this.point_application.match_point=this.application_point.match_point,this.point_application.total_discount=this.application_point.total_discount,this.orderOthers.order_info.point_application.push(this.application_point)},clickService:function(){this.show.modal_service=!0},clickVip:function(){try{this.$set(this.applicationMembercard,"total_discount",this.memberCard_discount.discount_list[0].total_discount),this.memberApplication.discount_id=this.memberCard_discount.discount_list[0].discount_id,this.memberApplication.membership_group_id=this.memberCard_discount.membership_group_id,this.memberApplication.membership_id=this.memberCard_discount.membership_id,this.memberApplication.total_discount=this.memberCard_discount.discount_list[0].total_discount}catch(t){this.$q.dialog({class:"nidin-dialog",title:"Oops!",message:"出現一些狀況，建議登入在進入此訂單"})}},copyLink:function(){var t=this;this.$copyText(this.gb_link).then((function(e){t.$q.notify(t.$t("notify.copied_link"))}),(function(){})).catch((function(t){}))},delItemSet:function(t){var e=this,i=t.item_set_uid,s=t.name;this.$q.dialog({class:"nidin-dialog",title:e.$t("dialog.notice"),message:"刪除"+s+"嗎？",ok:{label:this.$t("dialog.delete"),color:"primary",textColor:"white"},cancel:e.$t("dialog.cancel")}).onOk((function(){e.delProd(i,s)}))},deliveryTrigger:function(){var t=d()(c.a.mark((function t(e,i){var s,o=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={address:e.address||"",address_area_code:e.address_area_code||this.orderInfo.delivery_area_code||0,address_city_code:e.address_city_code||this.orderInfo.delivery_city_code||0,address_formatted:e.address_formatted||"",address_short:e.address_short||this.orderInfo.delivery_address_short||"",delivery_distance:e.delivery_distance||0,delivery_duration:e.delivery_duration||0,delivery_latitude:e.delivery_latitude||0,delivery_location:e.delivery_location||"",delivery_longitude:e.delivery_longitude||0,delivery_type:e.delivery_type||0,distance_service_model:e.distance_service_model||this.storeInfo.distance_service_model||0,distance_service_vendor:e.distance_service_vendor||this.$store.state.order.distance_service_vendor||0,distance_service_vendor_info:JSON.stringify(e.distance_service_vendor_info||{}),src_type:e.src_type||null,delivery_src_type:e.delivery_src_type||null},t.next=4,this.updateOrder(s,function(){var t=d()(c.a.mark((function t(e){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==e.data.status){t.next=4;break}return t.next=3,o.updateAllDiscount({getStoreOrderInfo:!0,from:"deliveryTrigger"});case 3:o.checkCupAmountValid();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{component:this.$options.name,function:"deliveryTrigger",time:this.moment().format("HH:mm:ss"),payload:{}});case 4:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),deliveryLabel:function(t,e,i){var s="",o=1;return this.isToday&&(s=e,o=2,i&&1!==t&&(s+="~"+(e+i))),this.$tc("order.order_time",o,{type:this.deliveryName(t),time:s})},delProd:function(t,e){var i=this,s=this.$route.params.order_id,o="/carts/"+s+"/productItem/"+t;this.delDataH(o,null).then((function(t){200===t.data.status&&(i.$q.notify({icon:"check_circle",message:"成功刪除"+e,color:"positive",timeout:2500,position:"bottom"}),i.getOrderInfo())})).catch((function(t){}))},getCoupons:_.debounce(d()(c.a.mark((function t(){var e,i,s=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/appliableCoupons",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&(s.appliable_coupon=[],s.useCoupon.coupon_codes=[],s.useCoupon.coupon_money=0,t.data.appliable_coupon_class.forEach((function(t){t.usage_limit>0&&s.appliable_coupon.push(t)})))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)}))),500),getMemberDiscount:_.debounce(d()(c.a.mark((function t(){var e,i,s=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/applicableMembershipDiscounts",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&t.data.list.length>0&&t.data.list.forEach((function(t){t.discount_list.length&&(2===t.usage_type&&t.store_id===s.storeInfo.store_key?(s.show.vip=!0,s.memberCard_discount=t):t.brand_id===s.storeInfo.brand_id&&(s.show.vip=!0,s.memberCard_discount=t),"membercard"===s.orderdiscount_select.show&&s.clickVip())}))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)}))),500),getOrderDiscount:_.debounce(d()(c.a.mark((function t(){var e,i,s,o=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/appliableDiscount",s={is_auto_reset:1},t.next=5,this.getDataH(i,s).then((function(t){200===t.data.status&&(o.appliable_discount=t.data.appliable_discount,o.orderDiscountList=t.data.valid_discount_list,o.orderActivityDiscountList=t.data.discount_list,o.discountAttendOption=t.data.discount_attend_option,o.multiAppliableDiscount=t.data.multi_appliable_discount,o.$set(o.orderAttach,"appliable_discount",o.appliable_discount))})).catch((function(t){}));case 5:case"end":return t.stop()}}),t,this)}))),500),getOrderInfo:function(){var t=this,e=this.$route.params.order_id,i="/order/"+e+"/info";this.getDataH(i,null).then((function(e){200===e.data.status&&(t.$set(t.orderInfo,"total_money",e.data.order_info.basic.total_money),t.$set(t.orderInfo,"money",e.data.order_info.basic.money),t.$set(t.orderInfo,"total_amount",e.data.order_info.basic.total_amount),t.$set(t.orderInfo,"amount",e.data.order_info.basic.amount),t.$set(t.orderOthers.order_info,"product",e.data.order_info.product),t.$set(t.orderOthers.order_info,"product_coupon",e.data.order_info.product_coupon),t.$set(t.orderOthers.order_info,"product_simple",e.data.order_info.product_simple),t.$set(t.orderOthers,"group_buy_follower_order_list",e.data.group_buy_follower_order_list))})).catch((function(t){}))},getPointDiscount:_.debounce(d()(c.a.mark((function t(){var e,i,s=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/applicablePoints",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&t.data.list.length>0&&t.data.list.forEach((function(t){t.brand_id===s.storeInfo.brand_id&&(s.point_discount.length||s.point_discount.push(t),s.is_discountable=t.is_discountable,t.application_list&&t.application_list[0]&&t.application_list[0].result&&(s.max_apply_times=t.application_list[0].result.max_apply_times||null,s.max_apply_times_ignore_self_discount=t.application_list[0].result.max_apply_times_ignore_self_discount||null),s.application_point.match_point||s.clickPoint(0))}))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)}))),500),getShareByOrderId:function(){var t=this,e=this.$route.params.order_id,i="/carts/"+e+"/share";this.getDataH(i,null).then((function(e){200===e.data.status&&t.setGBLink(e.data.share_code,!0)})).catch((function(t){}))},hasDelivery:function(t){return this.storeInfo.delivery_info.find((function(e){return t===e.delivery_type}))},scrollToElement:function(){window.scrollTo(0,this.$refs.product_div.offsetTop)},setDefaultInfo:function(){var t=d()(c.a.mark((function t(){var e,i,s,o,r,n,a;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.orderInfo,i=this.storeInfo,s=i.delivery_info,o=s.find((function(t){return t.is_default})),s.length)if(r=this.$q.sessionStorage.getItem(this.cacheKeyDeliveryInfo),r)for(n in r)this.$set(e,n,r[n]),"distance_service_vendor"===n&&this.$store.commit("order/setDistanceServiceVendor",r[n]);else e.delivery_type?(e.delivery_type,e.delivery_type):"undefined"===typeof o?this.$set(e,"delivery_type",s[0].delivery_type):this.$set(e,"delivery_type",o.delivery_type);else this.showError.contact_service=!0;return a=i.trade_types,a.length||(this.showError.contact_service=!0),t.next=9,this.setPlasticBag();case 9:this.setSpecialItem();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setGBLink:function(t,e){this.share_code=t;var i=window.location.href.split("/"),s=i[0]+"//"+i[2]+"/gb/menu/"+this.storeInfo.id+"/"+this.share_code;this.isUnique&&(s+="?",this.isUStore&&(s=s+"u_store_id="+this.isUStore),this.isUBrand&&(s=s+"u_brand_code="+this.isUBrand)),this.gb_link=s,e||(this.show.modal_gb=!0)},setPlasticBag:function(){var t=d()(c.a.mark((function t(){var e,i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=!1,i=this.$q.sessionStorage.has("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag")?this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag"):"","boolean"===typeof i?(e=i,this.$q.sessionStorage.remove("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag")):i&&Object.keys(i).length?(this.need_plastic_bag=i[0].need_plastic_bag,this.orderAttach.need_plastic_bag=i[0].need_plastic_bag,this.orderAttach.plastic_amount=i[0].plastic_amount):3!==this.orderInfo.order_type&&(e=this.storeInfo.delivery_way_plastic_selected.includes(this.orderInfo.delivery_type),this.orderAttach.need_plastic_bag=e,this.orderAttach.plastic_amount=this.plasticAmount);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setPoint:function(t,e){var i="minus"===e?-1*Math.abs(t):Math.abs(t);if(this.pointUseError){var s=this.application_point.match_point%this.unit_amount;this.use_point=s&&"minus"===e?this.application_point.match_point-s:this.application_point.match_point-s+i}else this.use_point+i<=0?this.use_point=0:this.use_point+i>this.point_use_able?this.use_point=this.point_use_able:this.use_point=this.use_point+i;this.clickPoint(this.use_point)},setPlasticAmount:function(t,e){this.plasticBagAmountUseError?"minus"===e&&this.plasticAmount>9999&&(this.plasticAmount=Math.max(1,1e4-t)):this.plasticBagAmountUseError||("minus"===e?this.plasticAmount=Math.max(1,this.plasticAmount-t):"plus"===e&&(this.plasticAmount=Math.min(9999,this.plasticAmount+t)),this.orderInfo.plastic_amount=this.plasticAmount,this.orderOthers.order_info.plastic_info.amount=this.plasticAmount)},updatePlasticAmount:function(){var t=this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag"),e=[];if(this.plasticAmount){this.orderAttach.need_plastic_bag=this.need_plastic_bag,this.orderAttach.plastic_amount=this.plasticAmount;var i=Number(this.storeInfo.plastic_info.price),s=Number(this.plasticAmount);this.orderOthers.order_info.plastic_info.amount=t[0].plastic_amount,this.orderOthers.order_info.plastic_info.money=i*s,e.push({delivery_type:this.orderInfo.delivery_type,need_plastic_bag:this.orderAttach.need_plastic_bag,plastic_amount:this.orderAttach.plastic_amount}),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag",e)}},singlePeoplePrice:function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];e+=s.price*s.amount}return e},toGroupBuy:function(){var t=this,e=this.$route.params.order_id,i="/carts/"+e+"/toGroupBuy";this.postDataH(i,null).then((function(e){if(200===e.data.status){var i=e.data.group_buy_info.group_buy_list[0];t.$set(t.orderInfo,"order_type",2),t.$set(t.orderInfo,"group_buying_status",10),t.setGBLink(i.share_code)}})).catch((function(t){}))},updateAllDiscount:function(){var t=d()(c.a.mark((function t(e){var i,s,o,r,n;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.clearPoint,s=void 0!==i&&i,o=e.getStoreOrderInfo,r=void 0!==o&&o,n=e.from,void 0===n?"":n,3===this.orderInfo.order_type){t.next=7;break}return s&&(this.use_point=0),t.next=5,this.getOrderDiscount();case 5:r?(this.getStoreInfoOrderDiscount(),this.getOrderInfoOrderDiscount()):(this.getPointDiscount(),this.getMemberDiscount()),this.getCupDiscount();case 7:this.getCoupons();case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),updateOrderInfo:function(t){this.$emit("update:order-info",t)},postDeliveryTypeOrderInfo:function(){var t=this;if(!this.orderInfo.delivery_reserv_time||3===this.orderInfo.delivery_type&&(!this.orderInfo.delivery_reserv_start_time||!this.orderInfo.delivery_reserv_end_time))return this.postDeliveryTypeOrderInfoCount<3&&setTimeout((function(){t.postDeliveryTypeOrderInfo()}),1e3),void(this.postDeliveryTypeOrderInfoCount=this.postDeliveryTypeOrderInfoCount+1);var e=null;1===this.orderInfo.delivery_type||2===this.orderInfo.delivery_type?this.orderInfo&&this.orderInfo.delivery_reserv_time&&(e={delivery_type:this.orderInfo.delivery_type,delivery_reserv_start_time:this.orderInfo.delivery_reserv_date+" "+this.orderInfo.delivery_reserv_time},this.updateOrder(e,function(){var e=d()(c.a.mark((function e(i){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==i.data.status){e.next=4;break}return e.next=3,t.updateAllDiscount({getStoreOrderInfo:!0,from:"postDeliveryTypeOrderInfo"});case 3:t.checkCupAmountValid();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{component:this.$options.name,function:"postDeliveryTypeOrderInfo",time:this.moment().format("HH:mm:ss"),payload:{msg:"自取、內用"}})):3===this.orderInfo.delivery_type&&this.orderInfo.delivery_address&&(e={address:this.orderInfo.delivery_address,address_area_code:this.orderInfo.delivery_area_code,address_city_code:this.orderInfo.delivery_city_code,address_formatted:this.orderInfo.delivery_address_formatted,address_short:this.orderInfo.delivery_address_short,delivery_distance:this.orderInfo.delivery_distance,delivery_duration:this.orderInfo.delivery_duration,delivery_latitude:this.orderInfo.delivery_latitude,delivery_location:this.orderInfo.delivery_location,delivery_longitude:this.orderInfo.delivery_longitude,delivery_reserv_end_time:this.orderInfo.delivery_reserv_end_time,delivery_reserv_start_time:this.orderInfo.delivery_reserv_start_time,delivery_type:this.orderInfo.delivery_type,distance_service_model:this.storeInfo.distance_service_model,distance_service_vendor:this.$store.state.order.distance_service_vendor,distance_service_vendor_info:this.orderInfo.distance_service_vendor_info},this.updateOrder(e,function(){var e=d()(c.a.mark((function e(i){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==i.data.status){e.next=4;break}return e.next=3,t.updateAllDiscount({getStoreOrderInfo:!0,from:"postDeliveryTypeOrderInfo"});case 3:t.checkCupAmountValid();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{component:this.$options.name,function:"postDeliveryTypeOrderInfo",time:this.moment().format("HH:mm:ss"),payload:{msg:"外送"}})),e||(e={delivery_type:this.orderInfo.delivery_type}),this.$q.sessionStorage.set(this.cacheKeyDeliveryInfo,e)},askBeforeUsePoint:function(){var t=0===this.point_use_able&&this.default_point>0;this.askChange("point",t,this.isAttendDiscount)},askBeforeUseMemberDiscount:function(){var t=d()(c.a.mark((function t(){var e,i=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMembercardDisabled){t.next=2;break}return t.abrupt("return");case 2:if(this.preVipDiscount.is_applicable){t.next=4;break}return t.abrupt("return");case 4:e=!!this.orderOthers.order_info.product_coupon.total_discount,e||this.isAttendDiscount?this.askChange("membercard",e,this.isAttendDiscount,(function(){i.clickVip(),i.orderOthers.order_info.membership_discount=i.memberCardDiscount})):(this.orderdiscount_select.show="membercard",this.$nextTick((function(){i.clickVip(),i.orderOthers.order_info.membership_discount=i.memberCardDiscount})));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),askChange:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"membercard",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=[],n="membercard"===e?"會員卡折扣":"點數折扣";i&&r.push("單品折扣"),s&&r.push("現折活動");var a="訂單已使用".concat(r.join("、"),"，<br>與「").concat(n,"」不併用喔！<br>請問是否變更為「").concat(n,"」?")+'<br><span class="text-secondary">若選擇「變更折扣」會同時清除全部'.concat(r.join("、"),"設定。</span>");this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:a,ok:{label:this.$t("dialog.change_discount"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"},html:!0}).onOk(d()(c.a.mark((function r(){return c.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!i){r.next=3;break}return r.next=3,t.removeCartProductCoupon();case 3:if(!s){r.next=6;break}return r.next=6,t.removeCartDiscount();case 6:t.show.btn_spinner=!0,setTimeout((function(){o(),t.orderdiscount_select.show=e,t.show.btn_spinner=!1}),500);case 8:case"end":return r.stop()}}),r)}))))},removeCartProductCoupon:function(){var t=d()(c.a.mark((function t(){var e,i,s=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/carts/".concat(e,"/removeProductCoupon"),t.next=4,this.postDataH(i,null).then((function(t){200===t.data.status&&(s.getOrderInfo(),s.updateAllDiscount({from:"removeCartProductCoupon"}))}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeCartDiscount:function(){var t=d()(c.a.mark((function t(){var e,i,s,o=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={discount_attend_option:9,discount_money:0,discount_list:[]},i=this.$route.params.order_id,s="/order/"+i+"/applyDiscount",t.next=5,this.postDataH(s,e).then(function(){var t=d()(c.a.mark((function t(e){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:200===e.data.status&&(o.getOrderInfo(),o.updateAllDiscount({from:"removeCartDiscount"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setSpecialItem:function(){var t=d()(c.a.mark((function t(){var e,i,s;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.storeInfo,i=[],s=this.$q.sessionStorage.has("Nidin_"+this.$route.params.order_id+"_order_info_specialItem")?this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_order_info_specialItem"):"",s&&_.isPlainObject(s)&&Object.keys(s).length?this.need_special_item=s[0].value:!e.store_special_item_setting.length&&s&&_.isArray(s)&&s.length?(this.$q.sessionStorage.remove("Nidin_"+this.$route.params.order_id+"_order_info_specialItem"),this.$set(this.orderAttach,"need_special_item",[])):!s&&e.store_special_item_setting&&e.store_special_item_setting.length?(i=e.store_special_item_setting.map((function(t){return{setting_id:t.setting_id,value:1===t.default_value}})),this.need_special_item=1===i[0].value,this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info_specialItem",i),this.$set(this.orderAttach,"need_special_item",i)):!this.orderAttach.need_special_item&&s&&Array.isArray(s)&&s.length>0&&(this.need_special_item=s[0].value,this.orderAttach.need_special_item=s);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setInitPasticBagAmount:function(){var t=this.$q.sessionStorage.has("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag")?this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag"):"",e=[];if(this.storeInfo.plastic_info&&this.storeInfo.plastic_info.is_plastic_amount_adjustable&&this.need_plastic_bag){if(t&&t.length&&t[0].plastic_amount)this.plasticAmount=t[0].plastic_amount,e.push({delivery_type:this.orderInfo.delivery_type,need_plastic_bag:this.need_plastic_bag,plastic_amount:this.plasticAmount});else{var i=Math.ceil(this.orderInfo.total_amount/this.storeInfo.plastic_info.plastic_unit);this.plasticAmount=this.orderOthers.order_info.plastic_info.amount||i,e.push({delivery_type:this.orderInfo.delivery_type,need_plastic_bag:this.need_plastic_bag,plastic_amount:this.plasticAmount})}this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag",e)}},getCupDiscount:function(){var t=d()(c.a.mark((function t(){var e,i,s=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.order_id,i="/order/"+e+"/applicableCupDiscount",t.next=4,this.getDataH(i,null).then((function(t){200===t.data.status&&(s.cup_applicable_discount=t.data.cup_applicable_discount,s.$set(s.orderAttach,"cup_applicable_discount",s.cup_applicable_discount))})).catch((function(t){}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleDelCupDiscount:function(t){this.orderInfoNeedUpdate=t},initCupDeliveryType:function(){var t,e,i,s,o=this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_delivery_info");if(this.ishasCupAmount&&!o){var r=null===(t=this.orderInfo)||void 0===t?void 0:t.delivery_type,n=null===(e=this.storeInfo)||void 0===e?void 0:null===(i=e.cup_activity)||void 0===i?void 0:i.usage_order_delivery_way,a=null===(s=this.storeInfo)||void 0===s?void 0:s.delivery_info;if(r&&n&&n.length&&a&&a.length){var c=a.filter((function(t){return n.includes(t.delivery_type)&&21!==t.delivery_type}));!n.includes(r)&&c&&c.length&&(this.orderInfo.delivery_type=c[0].delivery_type)}}},handleDisabledClick:function(t){if(this.isMembercardDisabled)return t.preventDefault(),void t.stopPropagation()},handleRemoveFollowerCoupons:function(t){this.removeFollowerCoupons=t},checkCupAmountValid:function(){var t=this.storeInfo,e=this.orderOthers,i=this.orderInfo,s=e.order_info.product_simple||[],o=e.group_buy_follower_order_list||[];if(t.cup_activity&&Object.keys(t.cup_activity).length&&i.delivery_type&&(s.length||o.length)){var r,n=!1,a=!1;o.length>0&&(a=o.some((function(t){return t.product_simple&&t.product_simple.find((function(t){return t.cup_amount>0}))}))),s.length>0&&(n=s.find((function(t){return t.cup_amount>0})));var c=null===t||void 0===t?void 0:null===(r=t.cup_activity)||void 0===r?void 0:r.usage_order_delivery_way;c&&c.includes(i.delivery_type)?this.deliveryWaySupportCupDiscount=!0:(n||a)&&(3===i.delivery_type&&i.delivery_address||3!==i.delivery_type)&&(3!==i.order_type&&(this.show.reusable_cup_dialog=!0),this.deliveryWaySupportCupDiscount=!1)}},checkCalcMode:function(){var t,e,i=0===(null===(t=this.storeInfo)||void 0===t?void 0:null===(e=t.cup_activity)||void 0===e?void 0:e.calc_mode)||!1;i&&this.othersTotalDiscount>0&&this.cupTotalDiscount>0&&"menu"!==this.$route.name&&"menuOrder"!==this.$route.name&&"gbMenu"!==this.$route.name&&"gbMenuOrder"!==this.$route.name&&(this.show.chooseDiscount=!0)},saveDiscount:function(){1===this.radioDiscountType?this.removeOrderAppliedDiscount():this.forceRemoveOrderCupDiscount()},removeOrderAppliedDiscount:function(){var t=this,e=this.$route.params.order_id,i="/carts/"+e+"/removeOrderAppliedDiscount";this.postDataH(i,null).then(function(){var e=d()(c.a.mark((function e(i){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:200===i.data.status&&t.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){}))},forceRemoveOrderCupDiscount:function(){var t=this,e="/order/"+this.orderInfo.order_id+"/invalidCupProduct?is_force=1";this.delDataH(e,null).then((function(e){200===e.data.status&&t.reload()})).catch((function(t){}))}},mounted:function(){var t=d()(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.setDefaultInfo(),2!==this.orderInfo.order_type&&3!==this.orderInfo.order_type||(this.getShareByOrderId(),this.is_gb=!0),"reorder"===this.$route.query.f&&this.postDeliveryTypeOrderInfo(),t.next=5,this.updateAllDiscount({});case 5:if(3===this.orderInfo.order_type){t.next=13;break}return t.next=8,this.setSpecialItem();case 8:return t.next=10,this.getCupDiscount();case 10:this.orderAttach.need_plastic_bag!==this.need_plastic_bag&&(this.need_plastic_bag=this.orderAttach.need_plastic_bag),this.orderAttach.need_special_item&&this.orderAttach.need_special_item.length&&this.orderAttach.need_special_item[0].value!==this.need_special_item&&(this.need_special_item=this.orderAttach.need_special_item[0].value),this.initCupDeliveryType();case 13:this.checkCalcMode();case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{isAttendDiscount:function(){return this.appliable_discount.total_discount>0},preVipDiscount:function(){if(this.memberCard_discount.discount_list&&this.memberCard_discount.discount_list.length){var t=this.memberCard_discount.discount_list[0],e=t.is_applicable,i=t.quota_type,s=t.current_quota_value,o=t.target_quota_value,r=t.discount_name,n="",a="",c=o-s;e?this.hasFollowerCoupon?(a="已參加其它優惠，無法再選擇會員卡折扣。",e=0):n=r:1===i?n="商品金額需達$".concat(o,"，再湊$").concat(c,"可折扣"):2===i&&(n="商品份數需達".concat(o,"，再湊").concat(c,"份可折扣"));var u=!e||this.hasFollowerCoupon||this.orderOthers.order_info.product_coupon.total_discount;return u&&"membercard"===this.orderdiscount_select.show&&(this.orderdiscount_select.show=null),{is_applicable:e,message:n,disableText:a,current_quota_value:s,target_quota_value:o}}return{is_applicable:null,message:null}},amount:function(){return this.point_discount.length&&this.point_discount[0].amount?this.point_discount[0].amount:null},discountOrder:function(){return 0!==this.orderOthers.order_info.discount.list.length?this.orderOthers.order_info.discount.list:null},discountStore:function(){return this.storeInfo.discount_today_info?this.storeInfo.discount_today_info:null},hasFollowerCoupon:function(){var t=this.orderOthers.group_buy_follower_order_coupons&&Object.keys(this.orderOthers.group_buy_follower_order_coupons).length,e=!1;return this.orderOthers.group_buy_follower_order_list&&this.orderOthers.group_buy_follower_order_list.length&&(e=this.orderOthers.group_buy_follower_order_list.some((function(t){return t.product_coupon.total_discount>0}))),t||e},cacheKeyDeliveryInfo:function(){var t="";return this.$route.params.order_id&&(t="Nidin_".concat(this.$route.params.order_id,"_delivery_info")),t},canEdit:function(){var t=this.menuInfo.version.stamp.toString(),e=this.orderInfo.menu_ver_stamp.toString();return this.orderInfo.menu_id===this.menuInfo.menu_id&&t===e&&20!==this.$store.state.order.gb_brief.group_buying_status},cantOrder:function(){var t=this.storeInfo;if(t)return!t.trade_types.length||!t.delivery_info.length},openTime:function(){if(this.storeInfo.order_start_time){var t=this.getTime(2,this.storeInfo.order_start_time,"HH:mm"),e=this.getTime(2,this.storeInfo.order_end_time,"HH:mm");return t+" ~ "+e}return""},orderType:function(){switch(this.orderInfo.order_type){case 2:return this.$t("common.group_buying");case 3:return this.$t("common.with_group");default:return!1}},point_step:function(){var t=this.point_discount[0]?this.point_discount[0].application_list[0].unit_amount:1;return t||1},point_use_able:function(){var t,e,i;if(!this.max_apply_times)return 0;var s=(null===(t=this.orderInfo)||void 0===t?void 0:t.money)||0,o=(null===(e=this.orderAttach)||void 0===e?void 0:null===(i=e.cup_applicable_discount)||void 0===i?void 0:i.total_match_amount)||0,r=this.max_apply_times*this.unit_amount,n=this.max_apply_times*this.unit_money;if(o&&s){if(s>=n+o)return r;if(n>=o){var a=Math.floor((n-o)/this.unit_money)*this.unit_amount;return a}if(n<o){var c=Math.floor((s-o)/this.unit_money),u=(c>=this.max_apply_times?this.max_apply_times:c)*this.unit_amount;return u}}return this.max_apply_times*this.unit_amount||0},default_point:function(){var t,e,i;if(!this.max_apply_times_ignore_self_discount)return 0;var s=(null===(t=this.orderInfo)||void 0===t?void 0:t.money)||0,o=(null===(e=this.orderAttach)||void 0===e?void 0:null===(i=e.cup_applicable_discount)||void 0===i?void 0:i.total_match_amount)||0,r=this.max_apply_times_ignore_self_discount*this.unit_amount,n=this.max_apply_times_ignore_self_discount*this.unit_money;if(o&&s){if(s>=n+o)return r;if(n>=o){var a=Math.floor((n-o)/this.unit_money)*this.unit_amount;return a}if(n<o){var c=Math.floor((s-o)/this.unit_money),u=(c>=this.max_apply_times_ignore_self_discount?this.max_apply_times_ignore_self_discount:c)*this.unit_amount;return u}}return this.max_apply_times_ignore_self_discount*this.unit_amount||0},pointUseError:function(){if(this.is_discountable&&this.amount){var t=/^[0-9]*$/;if(!t.test(this.application_point.match_point))return"只能輸入正整數。";if(this.point_use_able<this.application_point.match_point)return"最多可使用".concat(this.point_use_able,"點。");if(this.application_point.match_point%this.unit_amount!==0)return"最低需輸入".concat(this.unit_amount,"或輸入").concat(this.unit_amount,"的倍數。")}return""},plasticBagAmountUseError:function(){var t=1===this.storeInfo.plastic_info.is_plastic_amount_adjustable;if(0===this.plasticAmount)return this.plasticAmount=1,"";if(this.plasticAmount&&this.plasticAmount<1)return this.plasticAmount=1,"";if(this.plasticAmount&&this.plasticAmount>9999)return"最多可輸入 9999 個。";if(this.plasticAmount){var e=/^[0-9]*$/;if(!e.test(this.plasticAmount))return"只能輸入正整數。"}else if(!this.plasticAmount&&this.need_plastic_bag&&t)return"只能輸入正整數。";return""},unit_amount:function(){return this.point_discount.length&&this.point_discount[0].application_list&&this.point_discount[0].application_list.length&&this.point_discount[0].application_list[0].unit_amount?this.point_discount[0].application_list[0].unit_amount:null},unit_money:function(){return this.point_discount.length&&this.point_discount[0].application_list&&this.point_discount[0].application_list.length&&this.point_discount[0].application_list[0].unit_money?this.point_discount[0].application_list[0].unit_money:null},isToday:function(){var t=this.moment().format("YYYY-MM-DD"),e=this.orderInfo,i="";return e.delivery_reserv_date&&(i=e.delivery_reserv_date),i===t},isMembercardDisabled:function(){return void 0===this.cupDisableActivity||void 0===this.preVipDiscount||(this.cupDisableActivity||!this.preVipDiscount.is_applicable)},cupDisableActivity:function(){var t=this.orderAttach,e=this.orderOthers,i=this.storeInfo;if(!t)return!0;var s=!!(e&&e.group_buy_head_order_info&&"object"===n()(e.group_buy_head_order_info)&&Object.keys(e.group_buy_head_order_info).length>0);if(!(i&&i.cup_activity&&Object.keys(i.cup_activity).length))return!1;if(!s){var o=t&&t.cup_applicable_discount&&Object.keys(t.cup_applicable_discount).length&&t.cup_applicable_discount.total_amount&&t.cup_applicable_discount.total_amount>0;return!(!o||0!==i.cup_activity.calc_mode)&&(this.$emit("update:orderDiscountSelect",null),!0)}if(e.order_info.product_simple&&e.order_info.product_simple.length>0){var r=e.order_info.product_simple;if(r){var a=r.find((function(t){return t.cup_amount>0}));return!(!a||0!==i.cup_activity.calc_mode)&&(this.$emit("update:orderDiscountSelect",null),!0)}}},radioDiscountTypeList:function(){return[{label:"保留自備飲料杯折扣",value:1,address:"將同時清除"+this.checkOrderDiscountText()},{label:"保留其他折扣",value:2,address:"將清除全部自備飲料杯數量及折扣"}]},cupTotalDiscount:function(){var t,e;return(null===(t=this.orderAttach)||void 0===t?void 0:null===(e=t.cup_applicable_discount)||void 0===e?void 0:e.total_discount)||0},othersTotalDiscount:function(){return this.odCoupon+this.odVoucher+this.odProductCoupon+this.odStoreDiscount||0},showCupDiscountRuleYellowBlock:function(){var t,e,i=0===(null===(t=this.storeInfo)||void 0===t?void 0:null===(e=t.cup_activity)||void 0===e?void 0:e.calc_mode)||!1;return!!(i&&this.cupTotalDiscount>0)},shippingFeeType:function(){return this.orderInfo&&this.orderInfo.shipping_fee_type?Number(this.orderInfo.shipping_fee_type):0}},watch:{need_plastic_bag:function(t){var e=this,i=[];if(t){if(t){this.setInitPasticBagAmount();var s=this.$q.sessionStorage.has("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag")?this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag"):"";if("boolean"===typeof s)this.$q.sessionStorage.remove("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag");else try{Array.isArray(s)?i=s:"object"===n()(s)&&null!==s&&(i=[s])}catch(o){}i.forEach((function(i){i.delivery_type===e.orderInfo.delivery_type&&(i.need_plastic_bag=t,!0)})),i.push({delivery_type:this.orderInfo.delivery_type,need_plastic_bag:t,plastic_amount:this.plasticAmount}),this.need_plastic_bag=!0,this.$set(this.orderAttach,"need_plastic_bag",i[0].need_plastic_bag),this.$set(this.orderAttach,"plastic_amount",i[0].plastic_amount),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag",i)}}else this.plasticAmount=null,this.orderAttach.need_plastic_bag=!1,this.orderAttach.plastic_amount=null,i.push({delivery_type:this.orderInfo.delivery_type,need_plastic_bag:this.orderAttach.need_plastic_bag,plastic_amount:this.orderAttach.plastic_amount}),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info_plasticbag",i)},need_special_item:function(t){var e=this.storeInfo,i=[],s=!1,o=this.$q.sessionStorage.has("Nidin_"+this.$route.params.order_id+"_order_info_specialItem")?this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_order_info_specialItem"):"";e.store_special_item_setting.length&&"object"===n()(o)&&o.length&&(i=o,i.forEach((function(i){i.setting_id===e.store_special_item_setting[0].setting_id&&(i.value=t,s=!0)})),s||i.push({setting_id:e.store_special_item_setting[0].setting_id,value:t}),this.$set(this.orderAttach,"need_special_item",i),this.$q.sessionStorage.set("Nidin_"+this.$route.params.order_id+"_order_info_specialItem",i))},"orderAttach.need_plastic_bag":function(t){this.need_plastic_bag=t},"orderAttach.need_special_item":{deep:!0,handler:function(t){if(t.length>0){var e=t[0].value;this.need_special_item=e}}},"orderdiscount_select.show":function(t){t&&this.cupDisableActivity&&(this.orderdiscount_select.show=null),this.use_point=0,this.application_point={application_id:null,point_id:null,match_amount:null,match_point:0,total_discount:0},this.clickPoint(0),this.applicationMembercard={},this.useCoupon.coupon_codes=[],this.useCoupon.coupon_money=0},"orderInfo.delivery_type":function(t,e){var i=this;setTimeout((function(){i.postDeliveryTypeOrderInfo(),i.setPlasticBag()}),100)},plasticAmount:function(t){this.updatePlasticAmount()},"show.modal_gb":function(){this.show.modal_gb&&(this.copyLink(),20===this.orderInfo.group_buying_status&&this.$refs.product_list.updateGBstatus())},memberCard_discount:function(){this.getMemberCardInfo()},appliable_discount:{handler:function(t,e){if(0===e.total_discount&&t.total_discount>0){var i="";"membercard"===this.orderdiscount_select.show?(i="會員卡折扣",this.orderdiscount_select.show=null):"point"===this.orderdiscount_select.show&&(i="點數折扣",this.use_point=0,this.application_point={application_id:null,point_id:null,match_amount:null,match_point:0,total_discount:0},this.clickPoint(0)),i&&this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:"訂單已參加優惠活動，與「".concat(i,"」不併用喔！"),ok:{label:this.$t("dialog.ok"),color:"primary",textColor:"white"}})}},deep:!0},"application_point.match_point":function(t){t&&(this.pointUseError||(this.use_point=t,this.clickPoint(t)))},pointUseError:function(t){this.$emit("pointUseError",t)},plasticBagAmountUseError:function(t){this.$emit("plasticBagAmountUseError",t)},orderInfoNeedUpdate:function(t){this.$emit("update:delCupDiscount",t)},removeFollowerCoupons:function(t){this.$emit("update:removeFollowerCoupons",t)}}},ot=st,rt=(i("a40b"),Object(H["a"])(ot,s,o,!1,null,"72000e32",null));e["a"]=rt.exports},cb13:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"cursor-pointer":t.canUseCoupon},on:{click:t.showCouponModal}},[s("input-label",{attrs:{value:t.saveCouponCodesText,opt:t.opt}}),s("q-dialog",{attrs:{maximized:t.$q.screen.lt.sm},model:{value:t.show.modal_coupon_info_detail,callback:function(e){t.$set(t.show,"modal_coupon_info_detail",e)},expression:"show.modal_coupon_info_detail"}},[s("q-card",{staticClass:"q-card w-100 flex column no-wrap bg-gray-6",class:{"overflow-hidden":t.$q.screen.lt.sm}},[s("div",{staticClass:"bg-white"},[s("div",{staticClass:"q-pa-md"},[s("img",{staticClass:"nidin-close",attrs:{src:i("49c2"),alt:"close_icon"},on:{click:function(e){t.show.modal_coupon_info_detail=!1}}}),s("div",{staticClass:"text-weight-medium font-size-subtitle-1"},[t._v("\n            可使用的優惠券\n          ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.couponClassList.length>1,expression:"couponClassList.length > 1"}],staticClass:"q-px-md q-pb-sm"},[s("i-select",{staticStyle:{margin:"0"},attrs:{opt:t.coupon_class_opt,list:t.couponClassList},model:{value:t.coupon_class,callback:function(e){t.coupon_class=e},expression:"coupon_class"}})],1),s("div",{staticClass:"q-px-md q-pb-sm"},[s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"b-color font-size-caption flex items-center",on:{click:function(e){t.showCouponDes=!t.showCouponDes}}},[s("div",[t._v("規則說明")]),s("q-icon",{staticClass:"q-ma-none q-pl-xs",attrs:{name:t.showCouponDes?"fas fa-chevron-up":"fas fa-chevron-down",size:"10px"}})],1)]),s("q-slide-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCouponDes,expression:"showCouponDes"}],staticClass:"text-grey-9 font-size-caption"},[s("ul",{staticClass:"disc-list"},[s("li",[t._v("說明："+t._s(t.choseCouponList.description))]),t.showDeliveryType||t.showOrderType||t.showOrderMethod?s("li",[t._v("\n                  使用條件\n                  "),s("ul",{staticClass:"disc-list"},[t.showDeliveryType?s("li",[t._v("\n                      "+t._s(t.$t("coupon.delivery_type"))+"\n                      "+t._s(t.deliveryName(t.showDeliveryType))+"\n                      "),s("br")]):t._e(),t.showOrderType?s("li",[t._v("\n                      "+t._s(t.$t("coupon.order_type"))+"\n                      "+t._s(t.orderTypeName(t.showOrderType))+"\n                      "),s("br")]):t._e(),t.showOrderMethod?s("li",[t._v("\n                      "+t._s(t.$t("coupon.order_method"))+"\n                      "+t._s(t.orderMethodName(t.showOrderMethod))+"\n                      "),s("br")]):t._e()])]):t._e()])])])],1)]),s("q-card-section",{staticClass:"col-shrink scroll q-pa-none"},[s("div",[s("div",{staticClass:"text-grey-9 q-pa-md font-size-caption"},[s("span",{staticClass:"text-secondary font-size-caption"},[t._v("可使用"),s("span",{staticClass:"text-underline font-size-caption"},[t._v("面額小於或等於當下購物車應付金額")]),t._v("的優惠券。")]),s("span",{staticClass:"font-size-caption"},[t._v("如目前購物車應付金額為 50 元，則可使用面額 ≦ 50 元的優惠券。")]),s("div",{staticClass:"font-size-caption"},[t._v("【最多可選 "+t._s(t.canUseLimit)+" 張優惠券】")])]),s("div",{staticClass:"q-px-md q-pb-md coupons"},[s("q-infinite-scroll",{ref:"loading",attrs:{offset:250},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[s("div",{staticClass:"row justify-center q-my-md"},[s("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},t._l(t.appliableCouponsShow,(function(e,i){return s("div",{key:"coupon-"+e.coupon_item_id,class:{"q-pb-sm":i!==t.choseCouponListAppliableCouponsLength-1}},[s("coupon-card-v2",{attrs:{singleCouponInfo:e,clickCoupon:t.clickCoupon,chooseCodes:t.coupon_codes,edit:!0}})],1)})),0)],1)])]),s("q-card-actions",{staticClass:"row q-pt-md q-mt-auto border-top bg-white"},[s("div",{staticClass:"col-12 text-right"},[s("q-btn",{staticClass:"btn-primary full-width",class:t.calcTotalMoney<0?"bg-d-gray":"b-bg-secondary",attrs:{disabled:t.show.btn_spinner||t.calcTotalMoney<0},on:{click:function(e){return t.saveOrderInfo()}}},[t.show.btn_spinner?s("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):t.calcTotalMoney<0?s("span",[t._v("優惠券面額超過訂單應付金額")]):t.coupon_codes.length?s("span",[t._v("選擇 "+t._s(t.coupon_codes.length)+" 張優惠券")]):s("span",[t._v(t._s(t.$t("common.confirm")))])],1)],1)])],1)],1)],1)},o=[],r=(i("7f7f"),i("7514"),i("967e")),n=i.n(r),a=(i("96cf"),i("fa84")),c=i.n(a),u=i("4db1"),d=i.n(u),l=(i("20d6"),i("791e")),M=i("8ca0"),h=i("3175"),p=i("11b0"),m=i("f95b"),g={mixins:[l["a"]],components:{"coupon-card-v2":M["a"],"i-radio-list":h["a"],"i-select":p["a"],"input-label":m["a"]},props:{appliableCoupon:Array,useCoupon:Object,orderOthers:Object,orderAttach:Object},data:function(){return{appliableCouponsCache:[],appliableCouponsShow:[],show:{btn_spinner:!1,modal_coupon_info_detail:!1},coupon_codes:[],coupon_codes_all:[],coupon_class:{},coupon_class_opt:{name:"",label:"優惠券活動"},save_coupon_codes:[],times:0,showCouponDes:!1}},methods:{clickCoupon:function(t,e){this.show.btn_spinner=!0;var i=this.coupon_codes.findIndex((function(e){return t===e}));i>-1?(this.coupon_codes.splice(i,1),this.coupon_codes_all.splice(i,1),this.show.btn_spinner=!1):this.coupon_codes.length+1>this.canUseLimit?(this.coupon_codes=[],this.coupon_codes_all=[],this.coupon_codes.push(t),this.coupon_codes_all.push(e),this.show.btn_spinner=!1):(this.coupon_codes.push(t),this.coupon_codes_all.push(e),this.show.btn_spinner=!1)},showCouponModal:function(){this.canUseCoupon&&(this.show.modal_coupon_info_detail=!0)},saveOrderInfo:function(){this.save_coupon_codes=[],this.save_coupon_codes=JSON.parse(JSON.stringify(this.coupon_codes)),this.$set(this.useCoupon,"coupon_codes",this.save_coupon_codes),this.$set(this.useCoupon,"coupon_money",this.couponMoney),this.show.modal_coupon_info_detail=!1},setDefault:function(){this.save_coupon_codes=[],this.$set(this.useCoupon,"coupon_money",0),this.$set(this.useCoupon,"coupon_codes",this.save_coupon_codes)},onLoad:function(t,e){var i=this;this.appliableCouponsCache.length>0?setTimeout((function(){var t=i.appliableCouponsCache.length,s=t>=20?20:t,o=i.appliableCouponsCache.splice(0,s);i.appliableCouponsShow=[].concat(d()(i.appliableCouponsShow),d()(o)),e()}),1e3):this.$refs.loading.stop()}},created:function(){var t=c()(n.a.mark((function t(){return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.appliableCoupon.length&&(this.coupon_class=this.couponClassList[0]),t.next=3,this.setDefault();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{couponMoney:function(){for(var t=0,e=0;e<this.coupon_codes_all.length;e++){var i=this.coupon_codes_all[e];1===i.discount_type&&i.unit_discount&&(t+=i.unit_discount),2===i.discount_type&&i.unit_discount&&(t+=i.unit_discount)}return t},canUseCoupon:function(){return this.appliableCoupon.length&&this.canUseLimit},canUseLimit:function(){var t=0;this.choseCouponList.appliable_coupons&&(t=this.choseCouponListAppliableCouponsLength);var e=this.choseCouponList.usage_limit;return t?t<e?t:e:0},choseCouponList:function(){var t=this,e=this.appliableCoupon.find((function(e){return e.code===t.coupon_class.value}));return e||{}},choseCouponListAppliableCouponsLength:function(){var t=0;return this.choseCouponList&&this.choseCouponList.appliable_coupons&&Array.isArray(this.choseCouponList.appliable_coupons)&&(t=this.choseCouponList.appliable_coupons.length),t},couponClassList:function(){var t=this.appliableCoupon,e=[];return t.length&&t.forEach((function(t){var i={label:t.name,value:t.code};e.push(i)})),e},saveCouponCodesText:function(){return this.save_coupon_codes.length?"使用".concat(this.save_coupon_codes.length,"張優惠券"):""},opt:function(){var t=this.canUseCoupon?"點我使用優惠券":"無可用優惠券",e=!this.canUseCoupon,i=this.canUseCoupon?"arrow":"";return{type:"text",placeholder:t,required:!1,disable:e,icon:i,notInput:!0}},calcTotalMoney:function(){var t=this.coupon_codes_all?this.coupon_codes_all.map((function(t){return t.unit_discount})):[],e=this.orderAttach.total_money+this.useCoupon.coupon_money,i=t.reduce((function(t,e){return t+e}),0);return e-i},showDeliveryType:function(){return this.choseCouponList&&this.choseCouponList.appliable_coupons&&this.choseCouponList.appliable_coupons.length&&this.choseCouponList.appliable_coupons[0].strategy_data&&this.choseCouponList.appliable_coupons[0].strategy_data.basic&&this.choseCouponList.appliable_coupons[0].strategy_data.basic.delivery_type?this.choseCouponList.appliable_coupons[0].strategy_data.basic.delivery_type:null},showOrderType:function(){return this.choseCouponList&&this.choseCouponList.appliable_coupons&&this.choseCouponList.appliable_coupons.length&&this.choseCouponList.appliable_coupons[0].strategy_data&&this.choseCouponList.appliable_coupons[0].strategy_data.basic&&this.choseCouponList.appliable_coupons[0].strategy_data.basic.order_type?this.choseCouponList.appliable_coupons[0].strategy_data.basic.order_type:null},showOrderMethod:function(){return this.choseCouponList&&this.choseCouponList.appliable_coupons&&this.choseCouponList.appliable_coupons.length&&this.choseCouponList.appliable_coupons[0].strategy_data&&this.choseCouponList.appliable_coupons[0].strategy_data.basic&&this.choseCouponList.appliable_coupons[0].strategy_data.basic.order_method?this.choseCouponList.appliable_coupons[0].strategy_data.basic.order_method:null}},watch:{choseCouponList:function(t){t&&t["appliable_coupons"]&&(this.appliableCouponsCache=t["appliable_coupons"].map((function(t){return t})),this.appliableCouponsShow=this.appliableCouponsCache.splice(0,20))},canUseLimit:function(){this.coupon_codes=[],this.coupon_codes_all=[]},"appliableCoupon.length":function(){this.coupon_class=this.couponClassList[0]},coupon_class:function(){this.setDefault()},"useCoupon.coupon_codes.length":function(){0===this.useCoupon.coupon_codes.length&&(this.save_coupon_codes=[],this.coupon_codes=[],this.coupon_codes_all=[])},canUseCoupon:function(t){t&&this.$emit("checkHasCoupon",!0)}}},_=g,f=i("2877"),y=Object(f["a"])(_,s,o,!1,null,null,null);e["a"]=y.exports},cc60:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0yNC4zNzg2IDE5LjE0MUMyNC40NjI4IDE5LjA1NjggMjQuNTMyOSAxOC45NzI2IDI0LjU3NSAxOC44NjA0QzI0LjU3NSAxOC44NjA0IDI0LjU3NSAxOC44NjA0IDI0LjU3NSAxOC44NDY0QzI0LjU3NSAxOC44MzIzIDI0LjU3NSAxOC44MTgzIDI0LjU4OTEgMTguODA0M0MyNC42MzEyIDE4LjcwNiAyNC42NDUyIDE4LjYwNzggMjQuNjU5MiAxOC41MDk2QzI0LjY1OTIgMTguNDgxNSAyNC42NTkyIDE4LjQzOTQgMjQuNjU5MiAxOC40MTE0QzI0LjY1OTIgMTguMzI3MiAyNC42NDUyIDE4LjI0MyAyNC42MTcxIDE4LjE1ODhDMjQuNjAzMSAxOC4xMzA3IDI0LjYwMzEgMTguMTAyNiAyNC41ODkxIDE4LjA3NDZDMjQuNTQ3IDE3Ljk3NjQgMjQuNDkwOSAxNy44NzgxIDI0LjQyMDcgMTcuNzkzOUwxNy40NzQ3IDEwLjA2MjFDMTcuMTIzOSA5LjY1NTIxIDE2LjQ5MjQgOS42MTMxMSAxNi4wODU1IDkuOTc3OTVDMTUuNjc4NiAxMC4zNDI4IDE1LjY1MDUgMTAuOTYwMiAxNi4wMTUzIDExLjM2NzFMMjEuNDg3OSAxNy40NzEySDUuOTgyMjZDNS40MzUgMTcuNDcxMiA1IDE3LjkyMDIgNSAxOC40NTM1QzUgMTguOTg2NyA1LjQzNSAxOS40MzU3IDUuOTgyMjYgMTkuNDM1N0gyMS4yMzU0TDE2LjA1NzQgMjQuNDE3MkMxNS42NjQ1IDI0Ljc5NjEgMTUuNjUwNSAyNS40MTM1IDE2LjAyOTQgMjUuODA2NEMxNi4yMjU4IDI2LjAwMjggMTYuNDc4NCAyNi4xMDExIDE2LjczMSAyNi4xMDExQzE2Ljk2OTUgMjYuMTAxMSAxNy4yMjIxIDI2LjAwMjggMTcuNDE4NiAyNS44MjA0TDI0LjM1MDUgMTkuMTQxQzI0LjM2NDYgMTkuMTU1MSAyNC4zNjQ2IDE5LjE0MSAyNC4zNzg2IDE5LjE0MVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0yOS43MTEgNEgxOS44MDQyQzE5LjI1NyA0IDE4LjgyMiA0LjQzNSAxOC44MjIgNC45ODIyNkMxOC44MjIgNS41Mjk1MiAxOS4yNTcgNS45NjQ1MiAxOS44MDQyIDUuOTY0NTJIMjguNzI4OFYyOS44NzU1SDE5LjgwNDJDMTkuMjU3IDI5Ljg3NTUgMTguODIyIDMwLjMxMDUgMTguODIyIDMwLjg1NzhDMTguODIyIDMxLjQwNTEgMTkuMjU3IDMxLjg0MDEgMTkuODA0MiAzMS44NDAxSDI5LjcxMUMzMC4yNTgzIDMxLjg0MDEgMzAuNjkzMyAzMS40MDUxIDMwLjY5MzMgMzAuODU3OFY0Ljk4MjI2QzMwLjY5MzMgNC40MzUgMzAuMjU4MyA0IDI5LjcxMSA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},ceb1:function(t,e,i){},cfb6:function(t,e,i){t.exports=i.p+"img/f_pay.75a2d7f0.jpg"},cfdc:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width flex flex-center",class:[2===t.type?"col full-height text-white":"",{"b-bg-secondary":2===t.type&&!t.showBtn.disable},{"border-around":t.$q.screen.gt.sm&&!t.showLeftBtn},{"bg-line":"problems"===t.$route.name},{"bg-d-gray":2===t.type&&t.showBtn.disable}]},[i("div",{staticClass:"text-center text-bold flex flex-center",class:[2===t.type?"q-py-md full-width full-height":"btn-primary q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"b-bg-secondary":2!==t.type&&!t.showBtn.disable},{"bg-line":"problems"===t.$route.name},{"bg-d-gray ":2!==t.type&&t.showBtn.disable}],style:2===t.type?"":"height: 71.141px",on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v(t._s(t.showBtn.name))])],1)])},o=[],r=(i("6762"),i("2fdb"),i("7f7f"),i("c5f6"),{name:"NdRightBtn",props:{type:Number,cantEdit:Boolean,show:Object,doEvent:Function,couponAmount:Number,step:Number,showLeftBtn:Boolean},data:function(){return{btns:{1:{name:"送出回饋",event:"crFeedback",disable:!1},2:{name:this.$t("account.faq"),event:"lineService",disable:!1},3:{name:"新增卡片",event:"bindingCards",disable:!1},4:{name:"轉贈 1 張優惠券",event:"transCoupon",disable:!1},5:{name:"新增特商店",event:"crDesignated",disable:!1},6:{name:this.$t("footer_lg.buying"),event:"gotoStore",disable:!1},7:{name:"修改密碼",event:"changePassword",disable:!1},8:{name:"重設密碼",event:"forgetPassword",disable:!1},9:{name:"重設密碼",event:"resetPassword",disable:!1},10:{name:this.$t("order.step_next"),event:"goStepNext",disable:!1},11:{name:"確定申請退款",event:"refund",disable:!1},12:{name:this.$t("coupon.use"),event:"goOrder",disable:!1}}}},computed:{showSpinner:function(){return!!this.show&&this.show.btn_spinner},showBtn:function(){var t=this.$route.name;return t?"feedback"===t?this.btns[1]:"problems"===t?this.btns[2]:"Payment"===t?this.btns[3]:"CouponDetail"===t?this.btns[12]:t.toLowerCase().includes("coupon")?this.btns[4]:"designated"===t?this.btns[5]:"ustoreV1"===t||"storeV1"===t||"MemberCardIntro"===t?this.btns[6]:"editPassword"===t?this.btns[7]:"voucherReturn"===t&&2===this.step?this.btns[11]:"voucherReturn"===t?this.btns[10]:t.indexOf("ForgetPassword")>-1||t.indexOf("OnSiteForgotPassword")>-1?this.$route.query.reset_token?this.btns[9]:this.btns[8]:{}:{}}},watch:{couponAmount:function(){this.couponAmount?this.btns[4].name="轉贈 "+this.couponAmount+" 張優惠券":this.btns[4].name="轉贈 1 張優惠券"}}}),n=r,a=i("2877"),c=Object(a["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports},d077:function(t,e,i){},d11c:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcgMTQuMzQzM0wxMi41NjI4IDlMNyAzLjY0NUw4LjcxMjU1IDJMMTYgOUw4LjcxMjU1IDE2TDcgMTQuMzQzM1oiIGZpbGw9IiM5Njk2OTYiLz4KPC9zdmc+Cg=="},d6bf:function(t,e,i){"use strict";var s=i("0a09"),o=i.n(s);o.a},d6f9:function(t,e,i){"use strict";var s=i("b0ec"),o=i.n(s);o.a},d8ae:function(t,e,i){},d8c3:function(t,e,i){t.exports=i.p+"img/member_empty.14bde252.png"},d8f6:function(t,e,i){"use strict";var s=i("54cf"),o=i.n(s);o.a},d916:function(t,e,i){"use strict";var s=i("41ac"),o=i.n(s);o.a},e1d3f:function(t,e,i){},e1f8:function(t,e,i){},e303:function(t,e,i){"use strict";var s=i("d077"),o=i.n(s);o.a},e6a7:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5ZyW5bGkXzEiIGRhdGEtbmFtZT0i5ZyW5bGkIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDIzLjg0IDIzLjg0Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTtzdHJva2U6IzAwMDEwMDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjEuM3B4O308L3N0eWxlPjwvZGVmcz48dGl0bGU+aTwvdGl0bGU+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMjAuMjIsOC45NWE4LjMsOC4zLDAsMSwwLTExLjksNy40N3YzLjE4YTMuNiwzLjYsMCwwLDAsNy4yLDBWMTYuNDFBOC4yOSw4LjI5LDAsMCwwLDIwLjIyLDguOTVaIi8+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iOC40OSIgeTE9IjE4LjE4IiB4Mj0iMTUuMjEiIHkyPSIxOC4xOCIvPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iOC45NiIgY3k9IjkuNDEiIHI9IjEuNjIiLz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSIxMC42NiIgeTE9IjE3LjMyIiB4Mj0iMTAuNjYiIHkyPSI5Ljc5Ii8+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSIxNC4yOSIgY3k9IjkuNDEiIHI9IjEuNjIiLz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSIxMi42IiB5MT0iMTcuMzIiIHgyPSIxMi42IiB5Mj0iOS43OSIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjEwLjU5IiB5MT0iOS40MSIgeDI9IjEyLjY3IiB5Mj0iOS40MSIvPjwvc3ZnPg=="},e72b:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDExMzMuODYgODUwLjM5Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6I2VhNjM2Mzt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmRpbl9wcm9kPC90aXRsZT48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik04MzIuODUsNDkwLjg3bC0uMi02LjUzQTcyLjA2LDcyLjA2LDAsMCwwLDc3Nyw0MTMuNjVsLS4wNS0xLjhoMEM3NzIuMTksMzQwLjUxLDczMCwyODQuNTYsNjY3LjMxLDI1Mi41MWwtMjIuMDUtOC40M2MtLjA3LTIuNDUuNi0yMC03LjEzLTMwLjM1YTU4LjM5LDU4LjM5LDAsMCwwLTUxLjkzLTI1LjEzcy04LjktMjcuODUtNDUuOC0xOUM1MDkuOSwxNzcsNDkwLDE4NS4yMiw0OTMuNzcsMjIwLjQ3YTEwNi43NSwxMDYuNzUsMCwwLDAsNC42NywxMmMtODIuMjgsMjMuNDEtMTM2LDkyLjQ5LTE0Mi42LDE3Ny4ybC0uNjEsMS4zOGE3Mi4wNiw3Mi4wNiwwLDAsMC01NC4xNSw2OS4ybC0uMTMsNi41NHMtMTYuNTYsMTczLjU3LDI1Ny4zMiwxNzMuOGgwbDYuODYtLjIxLDEuOTEtLjA2Qzg0Ni44OSw2NjcuMjgsODMyLjg1LDQ5MC44Nyw4MzIuODUsNDkwLjg3WiIvPjxwYXRoIGQ9Ik0zNjUuMDgsNDA3LjU4bC0xOC40NC0xLjY4YzcuNTUtODMuMjEsNjYtMTU0LjcxLDE0OC44OS0xODIuMTVsNS44MiwxNy41OEM0MjYuNjIsMjY2LjA3LDM3MS44NiwzMzIuODgsMzY1LjA4LDQwNy41OFoiLz48cGF0aCBkPSJNNzc3LjUyLDQyMS43MWE5LjI2LDkuMjYsMCwwLDEtOS41MS04LjY0Yy00LjctNzAuMzgtNTkuNzItMTQwLjY5LTEyNS4yNi0xNjAuMDZBOS4yNiw5LjI2LDAsMSwxLDY0OCwyMzUuMjRjNzMuNjgsMjEuNzksMTMzLjIyLDk3LjcsMTM4LjQ5LDE3Ni41OWE5LjI2LDkuMjYsMCwwLDEtOC42Miw5Ljg2WiIvPjxwYXRoIGQ9Ik01MDAuNzUsMjQ0YTM4LjEzLDM4LjEzLDAsMCwxLTEzLjY2LTE5LjQyLDMwLjYxLDMwLjYxLDAsMCwxLS42NC0zLjNsLS4wOS0yLjg5YTUzLjMzLDUzLjMzLDAsMCwxLS4xOC01LjgzLDQ2LjQxLDQ2LjQxLDAsMCwxLDEuNTUtMTEuNzEsNTIuODMsNTIuODMsMCwwLDEsMTEtMjEsNjQuNjUsNjQuNjUsMCwwLDEsMTguMDktMTQuNSw3OS4yLDc5LjIsMCwwLDEsNDMuNy05LjExLDQ3Ljc3LDQ3Ljc3LDAsMCwxLDIzLjI5LDcuOCw0Niw0NiwwLDAsMSwxNS43OSwxOS4zaDBBOS4yNiw5LjI2LDAsMCwxLDU4Mi42OCwxOTFoMGEyNi45MSwyNi45MSwwLDAsMC0yMy45My0xNi41NSw2My43Myw2My43MywwLDAsMC0zNC4xOSw2LjQ4LDM4Ljc4LDM4Ljc4LDAsMCwwLTIzLjMyLDMyLjU4LDM4LjEyLDM4LjEyLDAsMCwwLS4xNCw0LjI1bC4wNywyLjE4YTE2LjMzLDE2LjMzLDAsMCwwLDAsMS42MywzMy4zOSwzMy4zOSwwLDAsMCw3LjE0LDE0LjU1di4yN2E1LjU5LDUuNTksMCwxLDEtNy45NCw3Ljg3WiIvPjxwYXRoIGQ9Ik01NjAuNzQsMTk1LjI5YTQ0LjgzLDQ0LjgzLDAsMCwxLDE0LjA4LTEwLjIzLDUzLjg3LDUzLjg3LDAsMCwxLDE3LjI2LTQsODAuMTgsODAuMTgsMCwwLDEsOC43Ny0uMjYsNTUuMjMsNTUuMjMsMCwwLDEsOC44NywxLjUzLDU3LjE0LDU3LjE0LDAsMCwxLDE2LjU2LDYuOTEsNTkuOTEsNTkuOTEsMCwwLDEsMjMuNywyNyw1OC41NSw1OC41NSwwLDAsMSw0LjUxLDE3Ljc0bC4yNSw4LjM4YTEwLjg5LDEwLjg5LDAsMCwxLTIuNTksOC4yLDcuOSw3LjksMCwwLDEtMTAuODYsMS4zMWgwbC0xLjU3LTEuMzJhOS4xNSw5LjE1LDAsMCwxLTMuMTYtNy4zMmwtLjIyLTcuMjRhNTUuODMsNTUuODMsMCwwLDAtMy4wOS0xMi4yMiw0My41Nyw0My41NywwLDAsMC0xNS43NC0xOS41OCwzOS4yMiwzOS4yMiwwLDAsMC0xMS42MS01LjQ4LDUzLjQ5LDUzLjQ5LDAsMCwwLTEzLjM2LTIuMjEsNDksNDksMCwwLDAtMTMuMjguNjcsNDEuNjcsNDEuNjcsMCwwLDAtMTIuNTQsNS4zNGgwYTQuNjMsNC42MywwLDAsMS01LjY3LTcuMTlaIi8+PHBhdGggZD0iTTU2OCw1NTYuNDJhMjI3LjM5LDIyNy4zOSwwLDAsMS0yNC4xNC0uNDhjLTUyLjc2LTQtOTAuMzMtMjQuNzctMTIwLjE0LTQ0LjVBOS4yNiw5LjI2LDAsMCwxLDQzMy45Miw0OTZjMjcuODIsMTguNDMsNjIuNzksMzcuNzcsMTExLjMyLDQxLjQ4QzU5MS4zMSw1NDEsNjU3LDUyNi45MSw2ODguNjYsNTA2LjcyYTkuMjYsOS4yNiwwLDEsMSwxMCwxNS42MUM2NjguODYsNTQxLjI5LDYxNC40NSw1NTUsNTY4LDU1Ni40MloiLz48ZWxsaXBzZSBjeD0iNDc1LjY5IiBjeT0iNDE0LjM3IiByeD0iMjcuMTgiIHJ5PSIyMC4yMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTcuNTggODg2Ljc3KSByb3RhdGUoLTg5LjU1KSIvPjxlbGxpcHNlIGN4PSI2MzUuMTgiIGN5PSI0MTUuNjIiIHJ4PSIyNy4xOCIgcnk9IjIwLjIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTQuNTYgMTA0Ny41MSkgcm90YXRlKC04OS41NSkiLz48cGF0aCBkPSJNNTgxLjQ2LDQ3My40NmE3LjU3LDcuNTcsMCwwLDEtNy42LTUuODdjLS40NS0xLjgzLTQuOTUtMTguMDctMjIuNzUtMTcuNTNsLS42OSwwYy0xMC44OC41OC0xNC4xNCwxNC44NC0xNC4xOCwxNWE3LjU3LDcuNTcsMCwxLDEtMTQuNzktMy4yNmMyLjEtOS41MiwxMC4zOS0yNS45LDI4LjE2LTI2Ljg0LDI1LjE0LTEuNiwzNi41MywxOC41MywzOSwyOS4yMmE3LjU3LDcuNTcsMCwwLDEtNS42OCw5LjA4QTcuNDgsNy40OCwwLDAsMSw1ODEuNDYsNDczLjQ2WiIvPjxjaXJjbGUgY2xhc3M9ImNscy0yIiBjeD0iNzU5LjEiIGN5PSI0ODEuNDIiIHI9IjM0LjY0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzEuNyAxMjM2LjcpIHJvdGF0ZSgtODkuNTUpIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTIiIGN4PSIzNjcuMDgiIGN5PSI0NzguNTEiIHI9IjMyLjc5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE0LjMxIDg0MS44KSByb3RhdGUoLTg5LjU1KSIvPjxwYXRoIGQ9Ik00MDMsNTIyLjE1YTQ1LjQ4LDQ1LjQ4LDAsMCwwLDkuNjktOS4zOSw1NC40Nyw1NC40NywwLDAsMCw3LjQ3LTEyLjY1LDYxLjg3LDYxLjg3LDAsMCwwLDQuOTMtMzBjLTEuOC0xOS45NC0xNi43Mi0zNy42NC0zNS40MS00Ni42MWE1MS4zMSw1MS4zMSwwLDAsMC01NS44OCw4LjIyLDY0Ljc2LDY0Ljc2LDAsMCwwLTE3Ljg5LDI0LjYzLDY3LjcsNjcuNywwLDAsMC00LjE5LDE0Ljc4LDExMS43MSwxMTEuNzEsMCwwLDAtLjg3LDE2LjM3bDAsLjc2YTk2LjY4LDk2LjY4LDAsMCwwLDAsOS43Yy4xLDMuNDMuNDgsNi44NS45MSwxMC4yN2ExMzIuNTIsMTMyLjUyLDAsMCwwLDQuMjUsMjAsMTM1LjYyLDEzNS42MiwwLDAsMCwxNy40OCwzNy42MiwxNjIuMTUsMTYyLjE1LDAsMCwwLDYyLjg5LDU0LjI4LDI5MCwyOTAsMCwwLDAsODIsMjUuNDMsNTM4LjE5LDUzOC4xOSwwLDAsMCw4Ny4zOCw2LjQ2LDksOSwwLDAsMSwuMDUsMThoLS40NGE1NTUuNTYsNTU1LjU2LDAsMCwxLTkwLTUuOTUsMzAxLjY0LDMwMS42NCwwLDAsMS04Ny4zOS0yNi42OCwxODEuNTksMTgxLjU5LDAsMCwxLTcwLjgyLTYwLjY0LDE1NS4yMywxNTUuMjMsMCwwLDEtMTkuOTMtNDMsMTUyLDE1MiwwLDAsMS01LTIzLjIzLDEyMiwxMjIsMCwwLDEtLjc0LTI0LjQ0bDAsLjc2LjIyLTkuMDVhODMuMDYsODMuMDYsMCwwLDEsNi40OC0yOS4xMyw4NC4xNSw4NC4xNSwwLDAsMSwyMy4xMy0zMS44MSw3NC44NCw3NC44NCwwLDAsMSwzNi41LTE2LjYzLDcxLjI0LDcxLjI0LDAsMCwxLDIwLjU0LS4wNyw3MC40Myw3MC40MywwLDAsMSwxOS40Miw2LjIzLDg2LjMzLDg2LjMzLDAsMCwxLDMwLjc3LDI0Ljc0LDcxLjI0LDcxLjI0LDAsMCwxLDE0LjIxLDU3LjMzLDg1LDg1LDAsMCwxLTUuNjQsMTksNTYuOTIsNTYuOTIsMCwwLDEtMTAuOTIsMTcuNDQsMzIuMjQsMzIuMjQsMCwwLDEtMTkuNTksMTAsNi43NSw2Ljc1LDAsMCwxLTQuNzgtMTIuMTJaIi8+PHBhdGggZD0iTTY5OC42Myw1MzUuNzlhNDMuNTcsNDMuNTcsMCwwLDEtMTIuMDktMTYsNzkuMzYsNzkuMzYsMCwwLDEtNS42NC0xOC45LDg2LjY2LDg2LjY2LDAsMCwxLDEuNzYtMzkuMzRBODEuNyw4MS43LDAsMCwxLDgzNi4yOSw0NTNhODMuNjEsODMuNjEsMCwwLDEsNS4zOCwxOS40LDEyNywxMjcsMCwwLDEsMSwxOS4xbDAtLjkzYTEyMi4wNiwxMjIuMDYsMCwwLDEtMS4zOSwyNC40LDE1Mi4xMywxNTIuMTMsMCwwLDEtNS4zLDIzLjE2LDE1NS4yMywxNTUuMjMsMCwwLDEtMjAuNTEsNDIuNTgsMTgxLjY1LDE4MS42NSwwLDAsMS03MS42LDU5LjY1LDMwMS42OSwzMDEuNjksMCwwLDEtODguMDYsMjUuMjIsNTU1LjU2LDU1NS41NiwwLDAsMS05MC4xNiw0LjUyaC0uNDRhOSw5LDAsMCwxLC4zMy0xOEE1MzguMjQsNTM4LjI0LDAsMCwwLDY1Myw2NDdhMjkwLDI5MCwwLDAsMCw4Mi4zNy0yNC4yOCwxNjIuMTUsMTYyLjE1LDAsMCwwLDYzLjc5LTUzLjA5LDEzNS42MiwxMzUuNjIsMCwwLDAsMTgtMzcuMjdBMTMyLjQ3LDEzMi40NywwLDAsMCw4MjIsNTEyLjEzYy41LTMuMzkuODgtNi44NCwxLjExLTEwLjI4YTk2LjQ1LDk2LjQ1LDAsMCwwLC4xNC05LjdsMC0uNzZhMTA4Ljk0LDEwOC45NCwwLDAsMC0uNDktMTYuMzMsNjQuMDUsNjQuMDUsMCwwLDAtNC4yNS0xNC41OCw2Mi40Nyw2Mi40NywwLDAsMC0xMTcuNjgsNi4yNyw2OCw2OCwwLDAsMC0xLjQ2LDMwLjk0LDE0Ni40NiwxNDYuNDYsMCwwLDAsOS43MiwyOS42MnYuNDlhNi44MSw2LjgxLDAsMCwxLTEwLjY2LDcuOVoiLz48L3N2Zz4="},e737:function(t,e,i){"use strict";var s=i("612a"),o=i.n(s);o.a},e830:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["full-width flex flex-center",2===t.type?"col full-height text-white":"",{"b-bg-secondary":2===t.type&&!t.showBtn.disable},{"bg-d-gray":2===t.type&&t.showBtn.disable}]},[i("div",{staticClass:"text-center text-bold flex flex-center",class:[2===t.type?"q-py-md full-width full-height":"btn-primary q-btn q-btn--rectangle",{"cursor-pointer":!t.showBtn.disable},{"b-bg-secondary ":2!==t.type&&!t.showBtn.disable},{"bg-d-gray ":2!==t.type&&t.showBtn.disable}],style:2===t.type?"":"height: 71.141px",attrs:{disabled:t.showSpinner},on:{click:function(e){return t.doEvent(t.showBtn.event)}}},[t.showSpinner?i("q-spinner-dots",{attrs:{color:"white",size:"25px"}}):i("span",{staticClass:"text-bold"},[t._v(t._s(t.showBtn.name))])],1)])},o=[],r=(i("5df3"),i("4f7f"),i("4db1")),n=i.n(r),a=(i("8615"),i("6762"),i("2fdb"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("8993")),c=i.n(a),u=(i("7f7f"),i("7514"),i("55dd"),i("c5f6"),{name:"VendorOrderListRightBtn",props:{step:Number,type:Number,doEvent:Function,orderInfo:Object,storeInfo:Object,cantEdit:Boolean,show:Object,orderAttach:Object,orderOthers:Object,disableList:Object},data:function(){return{btns:{1:{name:this.$t("order.step_next"),event:"goStepNext",disable:!1},2:{name:this.$t("status.cant_delivery"),event:"",disable:!0},3:{name:this.$t("status.store_closed"),event:"",disable:!0},4:{name:this.$t("status.store_unopen"),event:"",disable:!0},5:{name:this.$t("status.store_closed_today"),event:"",disable:!0},6:{name:this.$t("status.store_accept_pause"),event:"",disable:!0},7:{name:this.$t("order.address_empty"),event:"",disable:!0},8:{name:this.$t("order.payment_method_empty"),event:"",disable:!0},9:{name:this.$t("order.step_next"),event:"checkOrder",disable:!1},10:{name:"送單給團長",event:"checkGBOrder",disable:!1},11:{name:this.$t("order.delivery_type_limt_out"),event:"",disable:!0},12:{name:3===this.storeInfo.store_mode?"查看發送狀態":"查看訂單",event:"goOrderListInfo",disable:!1},13:{name:this.$t("order.trade"),event:"trade",disable:!1},14:{name:"重新點餐",event:"goStore",disable:!1},15:{name:this.$t("order.cancel_order"),event:"cancelOrder",disable:!1},16:{name:"聯絡門市",event:"editOrder",disable:!1},17:{name:"未加入商品",event:"",disable:!0},18:{name:"門市休息中",event:"",disable:!0},19:{name:"未移除完售商品",event:"",disable:!0},20:{name:"取餐資訊有誤",event:"",disable:!0},21:{name:"發票或統一編號資訊有誤",event:"",disable:!0},22:{name:"未填寫桌號",event:"",disable:!0},23:{name:this.$t("order.step_prod"),event:"orderProd",disable:!1}}}},computed:{productDisabled:function(){var t=this;if(this.orderOthers.order_info){var e=this.orderOthers.order_info.product,i=this.orderOthers.group_buy_follower_order_list;if(e)return e.some((function(e){return!!t.isDisTime(e)||(!!e.is_disabled||(1===e.type?e.adjusts.some((function(t){return t.is_disabled?t.is_disabled:t.options.some((function(t){if(t.is_disabled)return!0}))})):3===e.type?e.blocks.some((function(t){if(t.is_disabled)return!0})):void 0))}));i&&i.some((function(e){return e.product_simple.some((function(e){return!!t.isDisTime(e)||(!!e.is_disabled||void 0)}))}))}return!1},cantOrder:function(){var t=this.storeInfo;return t?!t.trade_types.length||!t.delivery_info.length:0},errorMessage:function(){return this.$store.state.cart.error_message},showSpinner:function(){return!!this.show&&this.show.btn_spinner},deliveryPriceGap:function(){return this.$q.sessionStorage.getItem("Nidin_"+this.$route.params.order_id+"_gap")},deliveryRank:function(){var t=[];if(this.step){var e=this.storeInfo.delivery_info.filter((function(t){return 3===t.delivery_type})).sort((function(t,e){return t.order_min_distance_m-e.order_min_distance_m}));e.forEach((function(i,s){var o={};s<e.length-1?(o={order_min_distance_m:i.order_min_distance_m,order_max_distance_m:e[s+1].order_min_distance_m,order_min_price:e[s+1].order_min_price},t.push(o)):1===e.length&&(o={order_min_distance_m:i.order_min_distance_m,order_max_distance_m:null,order_min_price:i.order_min_price},t.push(o))}))}return t},deliveryTotalPaid:function(){var t=this.orderInfo,e=this.orderOthers&&this.orderOthers["order_info"]&&this.orderOthers["order_info"]["delivery_total_money"]&&this.orderOthers["order_info"]["delivery_total_money"][t.delivery_type]>=0?this.orderOthers["order_info"]["delivery_total_money"][t.delivery_type]:null,i=null!==e?e:t.total_paid_money||this.orderAttach.total_money,s=this.$store.getters["order/couponMoney"],o=this.$store.getters["order/allowance"],r=this.$store.getters["order/productCouponMoney"],n=this.$store.getters["order/pointDiscount"],a=this.$store.getters["order/memberDiscount"],c=this.$store.getters["order/storeDiscount"];return s&&(i-=s),o&&(i-=o),r&&(i-=r),c&&(i-=c),n&&(i-=n),a&&(i-=a),i},showBtn:function(){var t=this.storeInfo,e=this.orderInfo,i=this.storeInfo.max_delivery_distance_m,s=this.deliveryRank[0]||{order_min_price:0},o=0,r=100*Math.floor(e.delivery_distance/100),n=r||0,a=JSON.parse(JSON.stringify(this.deliveryRank)).reverse(),c=a.find((function(t){return t.order_min_distance_m<n}));c||(c=a.find((function(t,e){return e===a.length-1}))),o=c?c.order_min_price:0;var u=o-this.deliveryTotalPaid;return this.$store.commit("cart/setDeliveryInfoErrorMessage",""),this.step?this.cantEdit?this.btns[14]:1===this.step?(3===e.delivery_type&&this.deliveryTotalPaid<o&&2===t.delivery_stage_limit_type&&this.$store.commit("cart/setDeliveryInfoErrorMessage","還差".concat(u,"元才不易被退單")),3===e.order_type?e.total_amount?this.btns[10]:this.btns[17]:20===t.order_status?this.btns[6]:3===e.delivery_type&&i&&n>i?(this.$store.commit("cart/setDeliveryInfoErrorMessage",this.btns[11].name),this.btns[11]):3===e.delivery_type&&this.deliveryTotalPaid<s.order_min_price?(1===this.storeInfo.delivery_stage_limit_type&&(u=s.order_min_price-this.deliveryTotalPaid),this.btns[2].name=this.$t("order.delivery_type_limt",{money:u,type:this.$t("order.delivery")}),this.$store.commit("cart/setDeliveryInfoErrorMessage",this.btns[2].name),this.btns[2]):3===e.delivery_type&&this.deliveryTotalPaid<o&&2===t.delivery_stage_limit_type?(this.btns[2].name=this.$t("order.delivery_type_limt",{money:u,type:this.$t("order.delivery")}),this.$store.commit("cart/setDeliveryInfoErrorMessage",this.btns[2].name),this.btns[2]):t.is_off_day&&!t.is_off_allow_order?this.btns[3]:t.is_preparing&&!t.is_preparing_allow_order?this.btns[4]:t.is_close&&!t.is_close_allow_order?this.btns[5]:this.cantOrder?this.btns[18]:e.total_amount?this.productDisabled?this.btns[19]:4===t.store_mode?this.$store.state.cart.table_no?this.btns[23]:this.btns[22]:this.btns[1]:this.btns[17]):2===this.step?1===e.status||2===e.status?this.btns[13]:20===t.order_status?this.btns[6]:this.productDisabled?this.btns[19]:3===e.order_type?this.btns[12]:t.is_off_day&&!t.is_off_allow_order?this.btns[3]:t.is_preparing&&!t.is_preparing_allow_order?this.btns[4]:t.is_close&&!t.is_close_allow_order?this.btns[5]:this.errorMessage.name||this.errorMessage.phone?this.btns[20]:this.errorMessage.carrier_id||this.errorMessage.email||this.errorMessage.ein?this.btns[21]:this.btns[9]:3===this.step?this.orderInfo.status>=99?this.btns[12]:this.btns[22]:this.btns[1]:100===this.orderInfo.status||31===this.orderInfo.status?this.btns[15]:110===this.orderInfo.status?this.btns[16]:this.btns[1]}},methods:{isDisTime:function(t){if(this.disableList.schedule&&t.product_id){var e=this.disableList.schedule.product_open[t.product_id];if(e)for(var i=e.setting_list,s=0;s<i.length;s++){var o=i[s],r=this.disableList.setting_list[o].is_applicable;if(r)return!0}}return!1},isDailyDisProd:function(t){var e=this.disableList.todaySchedule;if(!e||"object"!==c()(e))return!1;var i=Object.keys(e.product_open||{}).map(Number),s=i.includes(t.product_id);if(s)return!0;var o=3==t.type,r=o?"blocks":"adjusts",a=o?"items":"options",u=o?"product_id":"option_id",d=t[r];if(!d)return!1;d=d.map((function(t){return t[a]})).flat();var l=d.map((function(t){return t[u]})).flat(),M=o?"item":"option",h=l.some((function(t){var i=Object.values(e[M]||{}).map((function(t){return Object.keys(t||{})})).flat().map(Number);return!!i.includes(t)}));if(h)return!0;if(o){var p=n()(d),m=Object.keys(e.option||{}).map((function(t){return n()(Object.keys(e.option[t]||{}))})).flat().map(Number),g=p.map((function(t){return t.adjusts.map((function(t){return t.options.map((function(t){return t.option_id}))}))}));g=_.flattenDeep(g);var f=n()(new Set(g)),y=f.some((function(t){return m.includes(t)}));return y}return!1}}}),d=u,l=i("2877"),M=Object(l["a"])(d,s,o,!1,null,null,null);e["a"]=M.exports},e90c:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["q-mt-md",{"shoping-list-card-radius":!t.$q.screen.lt.sm},{"shoping-list-card":"VoucherOrderListInfo"!==t.$route.name}]},["VoucherOrderListInfo"!==t.$route.name?i("div",{staticClass:"font-size-subtitle-1 text-weight-bold q-mb-md"},[t._v("\n    "+t._s(t.$t("order.order_summary"))+"\n  ")]):t._e(),i("hr",{staticClass:"q-mb-lg"}),i("div",{staticClass:"flex justify-between items-center q-mb-sm"},[i("div",{staticClass:"col"},[t._v("\n      "+t._s(t.$t("order.item_prod"))+"\n       \n      x"+t._s(t.showAmount)+"\n    ")]),i("div",{staticClass:"col-auto text-right"},[t._v("\n      $"+t._s(t.showMoney)+"\n    ")])]),i("hr",{staticClass:"q-mt-lg q-mb-md"}),i("div",{staticClass:"flex justify-between items-center text-secondary"},[i("div",{staticClass:"col font-size-subtitle-1 text-weight-bold"},[t._v("\n      "+t._s(t.$t("order.amounts_payable"))+"\n    ")]),i("div",{staticClass:"col-auto font-size-subtitle-1 text-weight-bold text-right"},[t._v("\n      $"+t._s(t.totalPaid)+"\n    ")])])])},o=[],r=i("791e"),n={name:"VoucherMoneyDetail",mixins:[r["a"]],props:{orderAttach:Object,orderInfo:Object,orderOthers:Object,storeInfo:Object},data:function(){return{modal_prod_info:[],modal_prod_info_group:[],show:{btn_spinner:!1}}},computed:{showAmount:function(){return this.orderInfo.total_amount},showMoney:function(){return this.orderInfo.total_money},totalPaid:function(){var t=this.showMoney;return this.$set(this.orderAttach,"total_money",t),t}}},a=n,c=i("2877"),u=Object(c["a"])(a,s,o,!1,null,null,null);e["a"]=u.exports},e980:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nd-home-v2-banner"},[t.bannerList.length?i("div",{staticClass:"fullscreen-banner row items-center",style:"height: "+t.bannerHeight},[i("hooper",{ref:"banner-list",style:"height: "+t.bannerHeight,attrs:{settings:t.bannerSetting},on:{slide:function(e){return t.slideHooper(e)}}},[t._l(t.bannerList,(function(e,s){return i("slide",{key:"banner-"+s,staticClass:"cursor-pointer",attrs:{"render-key":e.id}},[i("q-img",{attrs:{"img-class":{"nd-rounded-[8px]":t.$q.screen.lt.md&&!t.isMenu},contain:t.$q.screen.lt.sm&&!t.isMenu,src:e.image,ratio:1e3/460},on:{click:function(i){return t.opentab({banner:e,index:s,type:"banner"})}}})],1)})),i("hooper-pagination",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"})],2),t.$q.screen.gt.sm?i("div",{staticClass:"page-btn left"},[i("q-btn",{staticClass:"button-shadow",attrs:{round:"",padding:"3px",size:"9px",color:"white","text-color":"grey-8",icon:"fas fa-chevron-left"},on:{click:function(e){return e.preventDefault(),t.prevPage("banner-list")}}})],1):t._e(),t.$q.screen.gt.sm?i("div",{staticClass:"page-btn right"},[i("q-btn",{staticClass:"button-shadow",attrs:{round:"",padding:"3px",size:"9px",color:"white","text-color":"grey-8",icon:"fas fa-chevron-right"},on:{click:function(e){return e.preventDefault(),t.nextPage("banner-list")}}})],1):t._e()],1):t._e(),t.showTag?i("nd-home-v2-tag",{attrs:{tags:t.tags}}):t._e(),t.showShadow?i("div",{staticClass:"nd-home-v2-banner-shadow"},[i("div",{staticClass:"nd-home-v2-banner-shadow-container"})]):t._e()],1)},o=[],r=(i("a481"),i("791e")),n=i("2e77"),a=(i("955f"),{name:"NdHomeV2Banner",mixins:[r["a"]],components:{hooper:n["a"],"hooper-pagination":n["b"],slide:n["c"],"nd-home-v2-tag":function(){return i.e(65).then(i.bind(null,"cccc"))}},props:{bannerList:{type:Array,default:function(){return[]}},showShadow:{type:Boolean,default:!0},isMenu:{type:Boolean,default:!1}},data:function(){return{bannerSetting:{autoPlay:!0,breakpoints:{1200:{itemsToShow:2},600:{itemsToShow:1.2}},centerMode:!0,itemsToShow:1,infiniteScroll:!0,mouseDrag:!1,playSpeed:4e3,wheelControl:!1},currentSlide:0}},computed:{bannerHeight:function(){var t=this.$q.screen.width;return t<400?"180px":t>=400&&t<600?"183px":t>=600&&t<700?"250px":t>=700&&t<880?"280px":t>=880&&t<1024?"300px":t>=1024&&t<1560?"330px":t>=1560&&t<1920?"350px":t>=1920&&t<2560?"400px":"490px"},tags:function(){var t=[];if(!Array.isArray(this.bannerList))return t;var e=this.bannerList.length,i=this.currentSlide;return e===i?i=0:-1===i&&(i=e-1),this.bannerList[i]&&Array.isArray(this.bannerList[i].tag_list)&&(t=this.bannerList[i].tag_list),t},showTag:function(){return this.bannerList.some((function(t){return t.tag_list&&t.tag_list.length}))}},methods:{nextPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t;null===e?this.$refs[i].slideNext():(i+=e,this.$refs[i][0].slideNext())},opentab:function(t){var e=t.banner,i=void 0===e?null:e,s=t.index,o=void 0===s?0:s,r=t.type,n=void 0===r?"banner":r;if(i&&i.url&&i.url.trim()){i.url&&"string"===typeof i.url&&i.url.indexOf(!0)&&(i.url=i.url.replace("order.nidin.shop",window.location.host));var a="banner"===n?"click_banner":"click_fixads";if(this.setGATag(a),this.setGATag("".concat(a,"_%"),o+1,{url:i.url||null,image:i.image||null}),1===i.href_open_type)1===i.url_get_type?window.open(i.url):2===i.url_get_type&&window.open(i.url);else{if(2!==i.href_open_type)return;1===i.url_get_type?window.open(i.url,"_self"):2===i.url_get_type&&this.$router.push(i.url)}}},prevPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t;null===e?this.$refs[i].slidePrev():(i+=e,this.$refs[i][0].slidePrev())},slideHooper:function(t){this.currentSlide=t.currentSlide}}}),c=a,u=(i("e737"),i("2877")),d=Object(u["a"])(c,s,o,!1,null,"26e503b1",null);e["default"]=d.exports},e999:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[!t.isExtend||t.isOverlay?i("div",{staticClass:"absolute flex full-width"},[i("div",{staticClass:"q-ml-auto bg-white top"},[i("q-btn",{attrs:{flat:"",round:"",color:"grey-8",icon:t.isExtend?"keyboard_arrow_up":"keyboard_arrow_down"},on:{click:function(e){t.isExtend=!t.isExtend,t.toggleOverlay(!t.isOverlay)}}})],1)]):t._e(),i("div",{class:{"q-px-md":["problems","OnSiteProblems"].includes(t.$route.name)}},[t.isExtend?i("div",{class:["text-weight-medium q-py-sm",{"text-center":t.isExtend&&t.isOverlay}]},[t._v("\n      問題分類\n    ")]):t._e(),i("div",{class:["q-pb-sm",{"flex no-wrap scroll":!t.isExtend}]},t._l(t.list,(function(e,s){return i("q-chip",{key:s,ref:"chip_"+s,refInFor:!0,class:s===t.currentChip?"b-bg text-white":"bg-gray-6 text-gray-2",attrs:{clickable:""},on:{click:function(){return t.changeChip(s)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])})),1)])])},o=[],r=(i("c5f6"),{name:"NdFaqCategory",props:{isOpen:Boolean,list:Array,closeCategory:Boolean,active:Number},data:function(){return{isExtend:!0,isOverlay:!1,currentChip:0}},methods:{changeChip:function(t){this.$emit("showMask",!1),this.isExtend=!1,this.isOverlay=!1,this.currentChip=t,this.$emit("update",t)},toggleOverlay:function(t){this.isOverlay=t,this.$emit("showMask",t)}},watch:{isOpen:function(t){this.isOverlay||(this.isExtend=t)},closeCategory:function(t){t&&(this.isExtend=!1,this.toggleOverlay(!1))},isExtend:function(t){this.$emit("extend",t)},active:function(t){this.currentChip=t}}}),n=r,a=(i("7e8a"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"1151459a",null);e["a"]=c.exports},ef40:function(t,e,i){},f05d:function(t,e,i){"use strict";var s=i("914b"),o=i.n(s);o.a},f117:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAYCAYAAAB0kZQKAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIaADAAQAAAABAAAAGAAAAACZuXjNAAADMUlEQVRIDe1VX0hTURj/7u0qtn8uVzlnhhoscKCmRrOkfEmiCIpK80FIe1B7ioroKZ0vEqnRi38SLLBUsChKoexBo0gjN+dEwUm5wlxWytQZZm63e864p9vdnW4SRdCBc8/v+33f+c5vZ+d8hwLUjtxUqxhvGQVsNgCVijnRx9VeRBj7tUaYeWWB6T4L4YTA2FoLmsx0TPVP2uCG+TaYnTZhiACzJgYJiGQ83b7FKYFTGvbmlXACBqSdIvbhaBeYntWIWH+TVq3zlAf69eLwifaOoAXML7mhurdBnELSpimgsiU9EuTsiF2ClaZGv7wF99KCtFPE0kBBiogLaM6FIMLsHAyYR+ygxcTfsP+L4Hed4QE/7knSQqfpIG+C+kQTwaokPSQU5XM1IA3CVEqY7jUDRVHAKBWgMuhBeH2L0wsA9dHpN+SA6jWJoAxXYK6suwrGZsZxbj8RZEUJYCg7h9nvc/PQd7I0YLESTq16WQ8W5xCmkIjWY7WwXbMNLuwuheKOi5hf05lA9SJQtRQKEGOWZQll53aIbyHtBD8pFAEZuhTQKbWwISIScg2HcQpUyhvMzXw6oFWyMGIgsHWTgtiuhSWChUBjTBOaK+L+yUHosD+FZttdyL93Bsdm6JKhOqeczKMrTxmBFxK3UQ6Xcn8uUNc5TAIRQGcBtYTT+RC9fy/G/IdRyrkDKudNyTFGsZnwOmU0wcz7z26w1eYBGpPjo7Dj3Sc3XGkfgJaeMRKIwOD5CpDF6UCbsw8SOSGof51wgmxLDI4brqiBuRHfnMn5KXC6p6Ako+CXHOg1Rb6WofuEZ9BiqGcZtJic5f6CIccMCRACtBPjTW24C3kp/MjexT3hd6Rcfhw5mC+GP/o5/xSxpiv6u8X9OyLQrQmloRIeSgtqJ7IMvtMfTOKoXTvwuxJMLIrxeulbq4pANaSy0BhUTlQnDJd970tQE1i4bi197FhRBHpRn189Cmp5+Ko518dqIbOtHr+mKNjDer4FnsTOArAmS8mTsyiGUhxvzJYKXl5mHIsPCh1CX2fszlQvxaqFHMI0S7kOfXhtFfKpdQfiORt1/xaxaLUW9rh4xw+UrgHMcesjtAAAAABJRU5ErkJggg=="},f139:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAeCAYAAABTwyyaAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAALqADAAQAAAABAAAAHgAAAADQe764AAAGX0lEQVRYCaVYXWxURRT+5t67d3+6bbflb8tPuw1paYPUFQ2CMbEkqBgSpdYEkAT3wRB8oiYmyo/QRowvJrQPmuhTG1CIES0PBmNCaKIPatAUMOEnwW4FrNC/bZeWdvfeO5653Xt7d7u0u9tJ2nPmzDlnvjl75szMZcixXa2t3QlZfoFxHgZjATILp0x7wXmMM9YLw+hpuHnzfDaXo63hwLgiv8Y4dgp7Tn7YDI0RTflAd4mmny9r7Y1l8+GUMWcnk+8LhQIPPZ6DBKqFFAXYBRsHYrS4dv/UVEd1NBob+CQcSurycYBFFjS2FXinS9bbKg71Rm1RBvNY4Ffr6iIUmZO5As7wC6h83Pes63dXpXvbnLEcBYyhdc2Ry23Z1LMCv1Zf307KB7MZLCjjHNJyQA6SJuWFslSFGnQRLy1oml2BdxZr+ruZ6TMHOEW6k3LurexOFpbKQYOAp7tVyhWoK90EPl2+sLcZDUq/3hJN2+oEnxYGEenFgJb8AvRcONqIBm04OXcgRwktNxxX5JNOdRu4mdOFpgd5ZC4OuVq4zh7VxH8J6BO6c+48eRbpP7GxxTIyZxHVI+719lEnp8phGTupUm2AFWcHbekxlcFT46N0n1/P0s+kVEJjJbpeLVLGjDiVvJzLXaYz0WdeDubPNpIu4wkOY1xLF+bRE3V/XFbMqJvAKfntnyAPP7aqmdc5brzkUOG5LiakaehMICpORCbL34tOQY1Knms9LT2Pn99T44XkkQuazjTivEki0I2Fe6CVF5F1HqDFXMbDxWxSmhNolOieEV4UcF/+1vpkfsBdK2rh39hsT0Q7KixR0oRsSQEMUyhNUm3tZ5csdl4qNmk+TQmsgrfmeduEM16lUK/KlhBTvns3SrZtg7u6GmMXLqBo0yZz+PaePShrakL5rl3giQSi+/fD29CAlcc+QHLoLqZu/wWlfAUq277Cv+0tCO7/CJLXj8GzJ+FeUwPfE1vgqVqH/uN7UfHOx3CvrsTQd4egrtpA0Xwd0BN4cOYgyl95n3JhJv8nrpxH2UvvwUg+gjExYsNkYCH7ALKkktsNfXQU0QMHUNbcjL5IBJLPB09tLcYvXsT99nbIgQD8mzfDW1cHbfA+Br/+FCM/dFLyaviHgJVufYMOm3FMXPmZJn4TTPVA9hbh75btKG1sRmKgDwNf7EJy8DYe3erBWM/ntMgAPKFnwNxFpny4+whKnotg9GIH4r+etuDZVADvt3spRovFaIUT4MkkjMlJk5e8Xqw8fBje+nok7twxwQ+dOoXYj+dQeawLcnEpWVMs3HTAuOheQvz0vT6M/nTG9Do9EDWpRAvgiUniZ9JFRFQNroM2epfACx9AcjhqUqb6SPcR8bQdHY2D94vNGXXI5mWN6WmU7tgBV1Bc/YCl+/ahvGkftJEH0MeGKcK/oOrEWYxd+haupRUo274XSmBJms+xS+dQ9FQjgm+fphQKg2vT8K1/GXLJijQ90Xl4+RssefU4/E/PbkwhZ5xFWb5XWOZymb+EcCCaVKZAXjN7qIho8+S0OcYU0tVmx0wh/VMrVCjLqRxRaplNoq1m8ZaSRSXKdyO9CtFDpUPiut5j6eRCRfo4mxGjyY3ZKmGBFjrZQAu55BdgUqCFwMmLvrNlgBZDNFuPmTx0MxTvvpkEcxrlyMur6fFQnpsy80hU2goo/in3lN9jVUf/CJhVhdC35zZtdi1DVCp6+eTS1GX0GlpM48zEagKnh207XRnHCvXHJxl4fGFrycNoE4qjo7Amol2ia7PAxWucPi1ECnM3Y6Xdpd9t3qBzqKs9lODppS2/OXmr9XyzD6CGW7e6yUlHfo4c2hqDFhX97OjVoEp1euZEdFjlwfKuqqN/2iltAxceNly/3kIp05WHtzRVHmcwBuZGVDyWlWXiUCqwcX6FXvotTus04GKg4caNCJGCI68PMuj3hCfR6K5Om1FdRSlScONdxbreaKWI5WZueFIj5ic3SRKfKgork4oR921Rf1vMByEqVG1VH15utcA66ZyIW4Mi54unpkJU5tryqTimLtn449OVa7+89qJL1qop8nmmH+8Sdo8DLTA+NuLWAiyaeuI1ph4eAbrHP2mOUf4RjVG/V5zCqU1umdlUfPSMu6Sd4Ez8BehOHaYrWakocXT36KULCPng3cVJozszLWwnDuZ//x4vNeQehA8AAAAASUVORK5CYII="},f3cd:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWcluWxpF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTA2LjQgMTAxLjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEwNi40IDEwMS40OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cgkuc3Qxe2ZpbGw6I0VBNjM2Mzt9Cjwvc3R5bGU+Cjx0aXRsZT5kaW48L3RpdGxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDAuOCw2MC42bC0wLjEtMS4yYy0wLjEtNi4yLTQuNC0xMS41LTEwLjQtMTIuOGwwLTAuM2wwLDBsMCwwbDAsMGMtMS4xLTEzLjEtOS0yMy4yLTIwLjYtMjguOWwtNC4xLTEuNQoJCWMwLTAuNCwwLjEtMy43LTEuNC01LjZjLTIuMi0zLjEtNS44LTQuOC05LjYtNC41YzAsMC0xLjctNS4xLTguNS0zLjRDNDAuNiw0LDM3LDUuNiwzNy43LDEyYzAuMywwLjcsMC42LDEuNSwwLjksMi4yCgkJYy0xNSw0LjUtMjQuNywxNy40LTI1LjYsMzNsLTAuMSwwLjNDNy4xLDQ5LDMuMSw1NC4zLDMuMSw2MC4zbDAsMS4yYzAsMC0yLjUsMzEuOSw0Ny44LDMxLjFsMCwwbDEuMy0wLjFsMC4zLDAKCQlDMTAzLjksOTMsMTAwLjgsNjAuNiwxMDAuOCw2MC42eiIvPgoJPHBhdGggZD0iTTE0LjcsNDYuN2wtMy40LTAuM2MxLjEtMTUuMywxMS43LTI4LjYsMjYuOC0zMy45bDEuMSwzLjJDMjUuNiwyMC42LDE1LjcsMzMsMTQuNyw0Ni43eiIvPgoJPHBhdGggZD0iTTkwLjQsNDguMWMtMC45LDAtMS42LTAuNy0xLjctMS42Yy0xLjEtMTIuOS0xMS40LTI1LjYtMjMuNS0yOWMtMC45LTAuMy0xLjQtMS4yLTEuMi0yLjFjMC4zLTAuOSwxLjItMS40LDIuMS0xLjIKCQljMTMuNiwzLjgsMjQuNywxNy41LDI2LDMyYzAuMSwwLjktMC42LDEuOC0xLjYsMS44QzkwLjUsNDguMSw5MC40LDQ4LjEsOTAuNCw0OC4xeiIvPgoJPHBhdGggZD0iTTM5LjEsMTYuM2MtMS4yLTAuOS0yLjEtMi4xLTIuNi0zLjVjLTAuMS0wLjItMC4xLTAuNC0wLjEtMC42bDAtMC41YzAtMC40LTAuMS0wLjcsMC0xLjFjMC0wLjcsMC4xLTEuNCwwLjMtMi4yCgkJYzAuMy0xLjQsMS0yLjgsMi0zLjljMC45LTEuMSwyLTIsMy4zLTIuN2MyLjQtMS40LDUuMi0yLDgtMS44YzEuNSwwLjEsMywwLjUsNC4zLDEuNGMxLjMsMC45LDIuMywyLjEsMywzLjVsMCwwCgkJYzAuNCwwLjksMCwxLjktMC45LDIuMmMtMC44LDAuNC0xLjgsMC0yLjItMC44bDAsMGMtMC44LTEuOC0yLjUtMi45LTQuNC0zYy0yLjItMC4yLTQuMywwLjMtNi4zLDEuM2MtMS45LDAuOS0zLjMsMi41LTMuOSw0LjUKCQljLTAuMSwwLjUtMC4yLDEtMC4zLDEuNWMwLDAuMywwLDAuNSwwLDAuOGwwLDAuNGMwLDAuMSwwLDAuMiwwLDAuM2MwLjIsMSwwLjcsMS45LDEuNCwyLjdsMCwwYzAuNCwwLjQsMC40LDEsMCwxLjUKCQlDNDAuMSwxNi43LDM5LjQsMTYuOCwzOS4xLDE2LjNMMzkuMSwxNi4zeiIvPgoJPHBhdGggZD0iTTUwLDcuMmMwLjctMC44LDEuNi0xLjUsMi42LTEuOWMxLTAuNCwyLjEtMC43LDMuMi0wLjhjMC41LTAuMSwxLjEtMC4xLDEuNi0wLjFjMC42LDAsMS4xLDAuMSwxLjYsMC4zCgkJQzYwLDQuOSw2MSw1LjMsNjIsNS45YzEuOSwxLjEsMy41LDIuOCw0LjQsNC45YzAuNSwxLDAuOCwyLjEsMC45LDMuMmwwLjEsMS41YzAuMSwwLjUtMC4xLDEuMS0wLjUsMS41Yy0wLjUsMC42LTEuNCwwLjctMiwwLjNsMCwwCgkJbC0wLjMtMC4yYy0wLjQtMC4zLTAuNi0wLjgtMC42LTEuM0w2NCwxNC40Yy0wLjEtMC44LTAuMy0xLjUtMC42LTIuMmMtMC42LTEuNC0xLjYtMi43LTIuOS0zLjVjLTAuNy0wLjQtMS40LTAuOC0yLjEtMQoJCWMtMC44LTAuMi0xLjYtMC4zLTIuNS0wLjRjLTAuOC0wLjEtMS42LDAtMi40LDAuMmMtMC44LDAuMi0xLjYsMC42LTIuMywxbDAsMGMtMC40LDAuMi0wLjksMC4xLTEuMi0wLjNDNDkuNyw3LjksNDkuOCw3LjUsNTAsNy4yCgkJTDUwLDcuMnoiLz4KCTxwYXRoIGQ9Ik01MC4yLDczLjVjLTAuOCwwLTEuNiwwLTIuMy0wLjFjLTkuNy0wLjYtMTYuNy00LjMtMjIuMi03LjhjLTAuOC0wLjUtMS0xLjYtMC41LTIuM2MwLjUtMC44LDEuNi0xLDIuMy0wLjUKCQljNS4yLDMuMywxMS42LDYuNywyMC42LDcuM2M4LjUsMC41LDIwLjUtMi4zLDI2LjItNi4xYzAuOC0wLjUsMS44LTAuMywyLjQsMC41YzAuNSwwLjgsMC4zLDEuOC0wLjUsMi40CgkJQzcwLjQsNzAuNyw1OS4yLDczLjUsNTAuMiw3My41eiIvPgoJPGVsbGlwc2UgdHJhbnNmb3JtPSJtYXRyaXgoMSAtOC4zNDE0MDNlLTAzIDguMzQxNDAzZS0wMyAxIC0wLjM5NjUgMC4yODc1KSIgY3g9IjM0LjMiIGN5PSI0Ny43IiByeD0iMy43IiByeT0iNSIvPgoJPGVsbGlwc2UgdHJhbnNmb3JtPSJtYXRyaXgoMSAtOC4zNDE0MDNlLTAzIDguMzQxNDAzZS0wMyAxIC0wLjM5MzQgMC41MzE4KSIgY3g9IjYzLjYiIGN5PSI0Ny40IiByeD0iMy43IiByeT0iNSIvPgoJPHBhdGggZD0iTTUzLjgsNTguMmMtMC42LDAtMS4yLTAuNC0xLjMtMS4xYy0wLjEtMC4zLTEtMy40LTQuNC0zLjFjLTIsMC4xLTIuNiwyLjgtMi42LDIuOGMtMC4yLDAuOC0wLjksMS4yLTEuNiwxLjEKCQljLTAuOC0wLjItMS4yLTAuOS0xLjEtMS42YzAuNC0xLjgsMS44LTQuOCw1LjEtNWM0LjYtMC4zLDYuOCwzLjMsNy4yLDUuMmMwLjIsMC43LTAuMywxLjUtMSwxLjdDNTQsNTguMiw1My45LDU4LjIsNTMuOCw1OC4yeiIvPgoJPGVsbGlwc2UgdHJhbnNmb3JtPSJtYXRyaXgoMSAtOC4zNDE0MDNlLTAzIDguMzQxNDAzZS0wMyAxIC0wLjQ5MDIgMC43Mjk3KSIgY2xhc3M9InN0MSIgY3g9Ijg3LjIiIGN5PSI1OS4xIiByeD0iNi40IiByeT0iNi40Ii8+Cgk8ZWxsaXBzZSB0cmFuc2Zvcm09Im1hdHJpeCgxIC04LjM0MTQwM2UtMDMgOC4zNDE0MDNlLTAzIDEgLTAuNDk3OSAwLjEyOTQpIiBjbGFzcz0ic3QxIiBjeD0iMTUuMyIgY3k9IjU5LjgiIHJ4PSI2IiByeT0iNiIvPgoJPHBhdGggZD0iTTIyLDY3LjdjMC43LTAuNSwxLjMtMS4xLDEuOC0xLjhjMC41LTAuNywxLTEuNSwxLjMtMi4zYzAuNy0xLjcsMS0zLjYsMC44LTUuNWMtMC40LTMuNy0zLjItNi45LTYuNi04LjUKCQljLTMuNC0xLjUtNy41LTAuOS0xMC4yLDEuN2MtMS40LDEuMi0yLjUsMi44LTMuMiw0LjZjLTAuMywwLjktMC42LDEuOC0wLjcsMi43Yy0wLjEsMS0wLjEsMi0wLjEsM2wwLDAuMWMwLDAuNiwwLDEuMiwwLDEuOAoJCWMwLDAuNiwwLjEsMS4zLDAuMiwxLjlDNS40LDY2LjYsNS43LDY3LjgsNiw2OWMwLjcsMi40LDEuOSw0LjgsMy4zLDYuOWMzLDQuMiw3LDcuNiwxMS43LDkuOGM0LjgsMi4yLDkuOSwzLjcsMTUuMSw0LjQKCQljNS4zLDAuNywxMC43LDEuMSwxNi4xLDAuOWMwLjksMCwxLjYsMC44LDEuNiwxLjdjMCwwLjgtMC43LDEuNS0xLjUsMS42bC0wLjEsMGMtNS41LDAuMi0xMS4xLTAuMS0xNi41LTAuOAoJCWMtNS42LTAuNy0xMS0yLjMtMTYuMS00LjZDMTQuMyw4Ni40LDkuNyw4Mi43LDYuNCw3OGMtMS43LTIuNC0yLjktNS0zLjgtNy44Yy0wLjQtMS40LTAuOC0yLjgtMS00LjJjLTAuMi0xLjUtMC4zLTMtMC4yLTQuNWwwLDAuMQoJCWwwLTEuN2MwLTEuOCwwLjQtMy43LDEuMS01LjRjMC45LTIuMywyLjMtNC4zLDQuMi01LjljMS45LTEuNiw0LjItMi43LDYuNy0zLjJjMS4yLTAuMiwyLjUtMC4yLDMuOC0wLjFjMS4yLDAuMiwyLjQsMC42LDMuNiwxLjEKCQljMi4yLDEsNC4yLDIuNSw1LjcsNC40YzIuNCwyLjksMy40LDYuOCwyLjgsMTAuNWMtMC4yLDEuMi0wLjUsMi40LTEsMy41Yy0wLjQsMS4yLTEuMSwyLjMtMiwzLjJjLTAuOSwxLTIuMiwxLjctMy42LDEuOQoJCWMtMC43LDAuMS0xLjMtMC40LTEuNC0xLjFjLTAuMS0wLjQsMC4xLTAuOSwwLjUtMS4xTDIyLDY3Ljd6Ii8+Cgk8cGF0aCBkPSJNNzYuMyw2OS4zYy0xLTAuOC0xLjctMS44LTIuMy0yLjljLTAuNS0xLjEtMC45LTIuMy0xLjEtMy41Yy0wLjUtMi40LTAuNC00LjksMC4yLTcuMmMyLjItOCwxMC41LTEyLjcsMTguNS0xMC40CgkJYzQuMywxLjIsNy45LDQuMyw5LjcsOC40YzAuNSwxLjEsMC44LDIuMywxLDMuNWMwLjIsMS4yLDAuMiwyLjMsMC4yLDMuNWwwLTAuMmMwLjEsMS41LDAsMy0wLjIsNC41Yy0wLjIsMS40LTAuNSwyLjktMC45LDQuMwoJCWMtMC44LDIuOC0yLDUuNS0zLjYsNy45Yy0zLjMsNC44LTcuNyw4LjYtMTMsMTEuMmMtNS4xLDIuNC0xMC41LDQuMS0xNi4xLDQuOWMtNS41LDAuOC0xMSwxLjItMTYuNSwxLjFsLTAuMSwwCgkJYy0wLjktMC4xLTEuNi0wLjgtMS42LTEuOGMwLjEtMC44LDAuNy0xLjUsMS42LTEuNmM1LjQsMCwxMC43LTAuNCwxNi4xLTEuMmM1LjItMC44LDEwLjMtMi40LDE1LTQuN2M0LjYtMi4zLDguNi01LjcsMTEuNi05LjkKCQljMS40LTIuMSwyLjUtNC40LDMuMi02LjljMC40LTEuMiwwLjctMi41LDAuOC0zLjdjMC4xLTAuNiwwLjEtMS4zLDAuMi0xLjljMC0wLjYsMC0xLjIsMC0xLjhsMC0wLjFjMC0xLDAtMi0wLjEtMwoJCWMtMC4yLTAuOS0wLjQtMS44LTAuOC0yLjdjLTIuNS01LjgtOS4zLTguNS0xNS4xLTZjLTMuMiwxLjQtNS42LDQuMS02LjUsNy41Yy0wLjUsMS45LTAuNiwzLjgtMC4yLDUuN2MwLjQsMS45LDEuMSwzLjcsMS45LDUuNAoJCWwwLDAuMWMwLjMsMC42LDAsMS40LTAuNiwxLjdDNzcuMSw2OS42LDc2LjYsNjkuNiw3Ni4zLDY5LjNMNzYuMyw2OS4zeiIvPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTI2LjcsOTEuOGMwLDQuNC01LjYsNy45LTEyLjUsNy45UzEuOCw5Ni4xLDEuOCw5MS44YzAtNC40LDUuMi01LDEyLjEtNVMyNi43LDg3LjQsMjYuNyw5MS44eiIvPgoJCTxwYXRoIGQ9Ik0xNC4yLDEwMS40Yy04LDAtMTQuMi00LjItMTQuMi05LjZDMCw4NSw5LDg1LDEzLjksODVjNS4xLDAsMTQuNiwwLDE0LjYsNi44QzI4LjQsOTcuMSwyMi4yLDEwMS40LDE0LjIsMTAxLjR6CgkJCSBNMTMuOSw4OC41Yy04LjYsMC0xMC40LDEuMy0xMC40LDMuM2MwLDMuMyw0LjksNi4xLDEwLjcsNi4xczEwLjctMi44LDEwLjctNi4xQzI0LjksODkuNSwyMS41LDg4LjUsMTMuOSw4OC41eiIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwNC43LDkwLjFjMCw0LjQtNS42LDcuOS0xMi41LDcuOWMtNi45LDAtMTIuNS0zLjUtMTIuNS03LjljMC00LjQsNS4yLTUsMTIuMS01CgkJCUM5OC44LDg1LjEsMTA0LjcsODUuOCwxMDQuNyw5MC4xeiIvPgoJCTxwYXRoIGQ9Ik05Mi4yLDk5LjhjLTgsMC0xNC4yLTQuMi0xNC4yLTkuNmMwLTYuOCw5LTYuOCwxMy45LTYuOGM1LjEsMCwxNC42LDAsMTQuNiw2LjhDMTA2LjQsOTUuNSwxMDAuMiw5OS44LDkyLjIsOTkuOHoKCQkJIE05MS45LDg2LjljLTguNiwwLTEwLjQsMS4zLTEwLjQsMy4zYzAsMy4zLDQuOSw2LjEsMTAuNyw2LjFzMTAuNy0yLjgsMTAuNy02LjFDMTAyLjksODcuOSw5OS41LDg2LjksOTEuOSw4Ni45eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="},f442:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxOSAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIuMDYyNSAxNi44NTcxQzIuMDYyNSAxNy40ODkzIDIuNTM3MyAxOCAzLjEyNSAxOEg4LjQzNzVWMTIuMjg1N0gyLjA2MjVWMTYuODU3MVpNMTAuNTYyNSAxOEgxNS44NzVDMTYuNDYyNyAxOCAxNi45Mzc1IDE3LjQ4OTMgMTYuOTM3NSAxNi44NTcxVjEyLjI4NTdIMTAuNTYyNVYxOFpNMTYuOTM3NSA2LjU3MTQzSDE1LjUzOTZDMTUuNzQ1NSA2LjEzOTI5IDE1Ljg3NSA1LjY2MDcxIDE1Ljg3NSA1LjE0Mjg2QzE1Ljg3NSAzLjQxMDcxIDE0LjU2MzUgMiAxMi45NTMxIDJDMTEuNTcxOSAyIDEwLjY3ODcgMi43NjA3MSA5LjUzMzIgNC40MzkyOUM4LjM4NzcgMi43NjA3MSA3LjQ5NDUzIDIgNi4xMTMyOCAyQzQuNTAyOTMgMiAzLjE5MTQxIDMuNDEwNzEgMy4xOTE0MSA1LjE0Mjg2QzMuMTkxNDEgNS42NjA3MSAzLjMxNzU4IDYuMTM5MjkgMy41MjY3NiA2LjU3MTQzSDIuMDYyNUMxLjQ3NDggNi41NzE0MyAxIDcuMDgyMTQgMSA3LjcxNDI5VjEwLjU3MTRDMSAxMC44ODU3IDEuMjM5MDYgMTEuMTQyOSAxLjUzMTI1IDExLjE0MjlIMTcuNDY4OEMxNy43NjA5IDExLjE0MjkgMTggMTAuODg1NyAxOCAxMC41NzE0VjcuNzE0MjlDMTggNy4wODIxNCAxNy41MjUyIDYuNTcxNDMgMTYuOTM3NSA2LjU3MTQzWk02LjEwOTk2IDYuNTcxNDNDNS4zNzYxNyA2LjU3MTQzIDQuNzgxODQgNS45MzIxNCA0Ljc4MTg0IDUuMTQyODZDNC43ODE4NCA0LjM1MzU3IDUuMzc2MTcgMy43MTQyOSA2LjEwOTk2IDMuNzE0MjlDNi43NzA3IDMuNzE0MjkgNy4yNTg3OSAzLjgzMjE0IDguOTY4NzUgNi41NzE0M0g2LjEwOTk2Wk0xMi45NTMxIDYuNTcxNDNIMTAuMDk0M0MxMS44MDEgMy44MzkyOSAxMi4yNzU4IDMuNzE0MjkgMTIuOTUzMSAzLjcxNDI5QzEzLjY4NjkgMy43MTQyOSAxNC4yODEyIDQuMzUzNTcgMTQuMjgxMiA1LjE0Mjg2QzE0LjI4MTIgNS45MzIxNCAxMy42ODY5IDYuNTcxNDMgMTIuOTUzMSA2LjU3MTQzWiIgZmlsbD0iIzAyOTJGNCIvPgo8L3N2Zz4K"},f4fc8:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTgiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCA1OCAyMCI+CiAgPGRlZnM+CiAgICA8Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aCI+CiAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMTI4NiIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMTI4NiIgd2lkdGg9IjU4IiBoZWlnaHQ9IjIwIiBmaWxsPSIjZmZmIi8+CiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KICA8ZyBpZD0iaWNvbl9saW5lcGF5IiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSI+CiAgICA8ZyBpZD0iR3JvdXBfNDEwOCIgZGF0YS1uYW1lPSJHcm91cCA0MTA4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDIuNzEpIj4KICAgICAgPGcgaWQ9Ikdyb3VwXzQxMDUiIGRhdGEtbmFtZT0iR3JvdXAgNDEwNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzLjMxOCkiPgogICAgICAgIDxnIGlkPSJHcm91cF80MTA0IiBkYXRhLW5hbWU9Ikdyb3VwIDQxMDQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMCkiPgogICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMjg0IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMjg0IiB3aWR0aD0iMS45ODYiIGhlaWdodD0iOC42NTMiIHJ4PSIwLjk5MyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNi44OCAwLjAwMikiLz4KICAgICAgICAgIDxwYXRoIGlkPSJQYXRoXzM0NTkiIGRhdGEtbmFtZT0iUGF0aCAzNDU5IiBkPSJNMTMwLjEwNSw2MjguNDI0aC0zLjQ0di02LjMxM2EuMzU0LjM1NCwwLDAsMC0uMzU0LS4zNTVoLTEuMjc3YS4zNTUuMzU1LDAsMCwwLS4zNTUuMzU1djcuOTQ0YS4zNTUuMzU1LDAsMCwwLC4zNTUuMzU1aDUuMDcxYS4zNTUuMzU1LDAsMCwwLC4zNTUtLjM1NXYtMS4yNzdBLjM1NS4zNTUsMCwwLDAsMTMwLjEwNSw2MjguNDI0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyNC42NzkgLTYyMS43NTYpIi8+CiAgICAgICAgICA8cGF0aCBpZD0iUGF0aF8zNDYwIiBkYXRhLW5hbWU9IlBhdGggMzQ2MCIgZD0iTTIwMi43OTIsNjIzLjc0M2EuMzU1LjM1NSwwLDAsMCwuMzU1LS4zNTR2LTEuMjc3YS4zNTUuMzU1LDAsMCwwLS4zNTUtLjM1NWgtNS4wNzFhLjM1NS4zNTUsMCwwLDAtLjM1NS4zNTV2Ny45NDRhLjM1NS4zNTUsMCwwLDAsLjM1NS4zNTVoNS4wNzFhLjM1NS4zNTUsMCwwLDAsLjM1NS0uMzU1di0xLjI3N2EuMzU1LjM1NSwwLDAsMC0uMzU1LS4zNTVoLTMuNDR2LTEuMzQ4aDMuNDRhLjM1NS4zNTUsMCwwLDAsLjM1NS0uMzU0di0xLjI3N2EuMzU1LjM1NSwwLDAsMC0uMzU1LS4zNTVoLTMuNDR2LTEuMzQ4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3OC4zOTIgLTYyMS43NTYpIi8+CiAgICAgICAgICA8cGF0aCBpZD0iUGF0aF8zNDYxIiBkYXRhLW5hbWU9IlBhdGggMzQ2MSIgZD0iTTE3MC44NjUsNjIxLjc1M2gtMS4yNzdhLjM1NS4zNTUsMCwwLDAtLjM1NC4zNTV2NC42bC0zLjM0MS00Ljc3N2EuNDQxLjQ0MSwwLDAsMC0uMzkzLS4xNzQuMzYxLjM2MSwwLDAsMC0uMDYxLDBoLTEuMjc3YS4zNTUuMzU1LDAsMCwwLS4zNTQuMzU1djcuOTQ0YS4zNTUuMzU1LDAsMCwwLC4zNTQuMzU1aDEuMjc3YS4zNTUuMzU1LDAsMCwwLC4zNTUtLjM1NXYtNC44bDMuNDg0LDQuOTgxYS40MTUuNDE1LDAsMCwwLC4wNDEuMDQ5LjM1NS4zNTUsMCwwLDAsLjI0NS4xMjZoMS4zYS4zNTUuMzU1LDAsMCwwLC4zNTUtLjM1NXYtNy45NDRBLjM1NS4zNTUsMCwwLDAsMTcwLjg2NSw2MjEuNzUzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1My41OTQgLTYyMS43NTEpIi8+CiAgICAgICAgPC9nPgogICAgICA8L2c+CiAgICAgIDxnIGlkPSJHcm91cF80MTA3IiBkYXRhLW5hbWU9Ikdyb3VwIDQxMDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI4LjA4OSkiPgogICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMTI4NSIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMTI4NSIgd2lkdGg9IjI0LjM3NiIgaGVpZ2h0PSIxNS4yOSIgcng9IjMuMzk2IiBmaWxsPSIjMDhiZjViIi8+CiAgICAgICAgPGcgaWQ9Ikdyb3VwXzQxMDYiIGRhdGEtbmFtZT0iR3JvdXAgNDEwNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMy42MzggMy41MzkpIj4KICAgICAgICAgIDxwYXRoIGlkPSJQYXRoXzM0NjIiIGRhdGEtbmFtZT0iUGF0aCAzNDYyIiBkPSJNMjUxLjM3LDYyNS4wMjJhMi40MjksMi40MjksMCwwLDEtMi40NzQsMi40MjRoLTEuMDZ2MS45ODRhLjIzOC4yMzgsMCwwLDEtLjIzOC4yMzhoLTEuMTRhLjIzOC4yMzgsMCwwLDEtLjIzOC0uMjM4di02LjU5NGEuMjM4LjIzOCwwLDAsMSwuMjM4LS4yMzhIMjQ4LjlBMi40MywyLjQzLDAsMCwxLDI1MS4zNyw2MjUuMDIyWm0tMS42MTYsMGEuODY0Ljg2NCwwLDAsMC0uODU5LS45MDloLTEuMDZ2MS44MThoMS4wNkEuODY0Ljg2NCwwLDAsMCwyNDkuNzU0LDYyNS4wMjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjQ2LjIxOSAtNjIyLjU5OCkiIGZpbGw9IiNmZmYiLz4KICAgICAgICAgIDxwYXRoIGlkPSJQYXRoXzM0NjMiIGRhdGEtbmFtZT0iUGF0aCAzNDYzIiBkPSJNMjczLjU1Niw2MzAuMDYxdjQuOGEuMTI1LjEyNSwwLDAsMS0uMTI1LjEyNWgtMS4yNjRhLjEyNS4xMjUsMCwwLDEtLjEyNS0uMTI1di0uMzVhMS45LDEuOSwwLDAsMS0xLjUuNjE2LDIuNjgsMi42OCwwLDAsMSwwLTUuMzMzLDEuOSwxLjksMCwwLDEsMS41LjYxNnYtLjM1YS4xMjUuMTI1LDAsMCwxLC4xMjUtLjEyNWgxLjI2NEEuMTI1LjEyNSwwLDAsMSwyNzMuNTU2LDYzMC4wNjFabS0xLjUxNSwyLjRhMS4yLDEuMiwwLDEsMC0xLjIsMS4yMzJBMS4xNTMsMS4xNTMsMCwwLDAsMjcyLjA0MSw2MzIuNDZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYyLjQwNSAtNjI3LjkxNikiIGZpbGw9IiNmZmYiLz4KICAgICAgICAgIDxwYXRoIGlkPSJQYXRoXzM0NjQiIGRhdGEtbmFtZT0iUGF0aCAzNDY0IiBkPSJNMjk3LjAwNSw2MzAuNDY4bC0xLjE2MywyLjkyOS0xLjItMi45MzFhLjIwOS4yMDksMCwwLDAtLjE5My0uMTI5aC0xLjI4OWEuMTI1LjEyNSwwLDAsMC0uMTE2LjE3M2wyLjAwNiw0Ljg5LS43MzEsMS44NDFhLjEyNS4xMjUsMCwwLDAsLjExNi4xNzJoMS4yOWEuMjA5LjIwOSwwLDAsMCwuMTk0LS4xMzJsMi42ODgtNi43NzJhLjEyNS4xMjUsMCwwLDAtLjExNi0uMTcySDI5Ny4yQS4yMDkuMjA5LDAsMCwwLDI5Ny4wMDUsNjMwLjQ2OFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yODAuODEzIC02MjguMzE2KSIgZmlsbD0iI2ZmZiIvPgogICAgICAgIDwvZz4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},f83b:function(t,e,i){"use strict";var s=i("8bba"),o=i.n(s);o.a},f85e:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1IDMwQzIzLjI4NDMgMzAgMzAgMjMuMjg0MyAzMCAxNUMzMCA2LjcxNTczIDIzLjI4NDMgMCAxNSAwQzYuNzE1NzMgMCAwIDYuNzE1NzMgMCAxNUMwIDIzLjI4NDMgNi43MTU3MyAzMCAxNSAzMFoiIGZpbGw9IiM2OEI4MkIiLz4KPHBhdGggZD0iTTI1LjE3MzMgMTQuMjI0NEMyNS4xNzMzIDkuNjUxMTIgMjAuNTg2NyA1LjkyODg5IDE0Ljk1MTEgNS45Mjg4OUM5LjMxNTU1IDUuOTI4ODkgNC43Mjg4OCA5LjY1MTEyIDQuNzI4ODggMTQuMjI0NEM0LjcyODg4IDE4LjMyNDQgOC4zNjQ0NCAyMS43NiAxMy4yNzc4IDIyLjQwODlDMTMuNjExMSAyMi40OCAxNC4wNjQ0IDIyLjYyODkgMTQuMTc3OCAyMi45MTMzQzE0LjI4IDIzLjE3MTEgMTQuMjQ0NCAyMy41NzU2IDE0LjIxMTEgMjMuODM3OEMxNC4yMTExIDIzLjgzNzggMTQuMDkxMSAyNC41NiAxNC4wNjQ0IDI0LjcxMzNDMTQuMDIgMjQuOTcxMSAxMy44NiAyNS43MjQ0IDE0Ljk0ODkgMjUuMjY0NEMxNi4wNCAyNC44MDQ0IDIwLjgzNTYgMjEuNzk3OCAyMi45OCAxOS4zMjg5QzI0LjQ2NDQgMTcuNzA0NCAyNS4xNzMzIDE2LjA1NTYgMjUuMTczMyAxNC4yMjQ0WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEyLjg3MzMgMTIuMDEzM0gxMi4xNTU2QzEyLjA0NjcgMTIuMDEzMyAxMS45NTU2IDEyLjEwMjIgMTEuOTU1NiAxMi4yMTExVjE2LjY2NjdDMTEuOTU1NiAxNi43NzU2IDEyLjA0NDUgMTYuODY0NCAxMi4xNTU2IDE2Ljg2NDRIMTIuODczM0MxMi45ODIyIDE2Ljg2NDQgMTMuMDczMyAxNi43NzU2IDEzLjA3MzMgMTYuNjY2N1YxMi4yMTMzQzEzLjA3MzMgMTIuMTAyMiAxMi45ODQ1IDEyLjAxMzMgMTIuODczMyAxMi4wMTMzWiIgZmlsbD0iIzY4QjgyQiIvPgo8cGF0aCBkPSJNMTcuODA4OSAxMi4wMTMzSDE3LjA5MTFDMTYuOTggMTIuMDEzMyAxNi44OTExIDEyLjEwMjIgMTYuODkxMSAxMi4yMTExVjE0Ljg1NzhMMTQuODQ4OSAxMi4xMDIyQzE0Ljg0NDQgMTIuMDk1NiAxNC44NCAxMi4wODg5IDE0LjgzMzMgMTIuMDgyMkMxNC44MzMzIDEyLjA4MjIgMTQuODMzMyAxMi4wODIyIDE0LjgzMTEgMTIuMDhDMTQuODI2NyAxMi4wNzU2IDE0LjgyMjIgMTIuMDcxMSAxNC44MiAxMi4wNjY3QzE0LjgxNzggMTIuMDY0NSAxNC44MTc4IDEyLjA2NDUgMTQuODE1NSAxMi4wNjIyQzE0LjgxMTEgMTIuMDYgMTQuODA4OSAxMi4wNTU2IDE0LjgwNDQgMTIuMDUzM0MxNC44MDIyIDEyLjA1MTEgMTQuOCAxMi4wNTExIDE0LjggMTIuMDQ4OUMxNC43OTU1IDEyLjA0NjcgMTQuNzkzMyAxMi4wNDQ1IDE0Ljc4ODkgMTIuMDQyMkMxNC43ODY3IDEyLjA0IDE0Ljc4NDQgMTIuMDQgMTQuNzgyMiAxMi4wMzc4QzE0Ljc3NzggMTIuMDM1NiAxNC43NzU1IDEyLjAzMzMgMTQuNzcxMSAxMi4wMzExQzE0Ljc2ODkgMTIuMDMxMSAxNC43NjY3IDEyLjAyODkgMTQuNzY0NCAxMi4wMjg5QzE0Ljc2IDEyLjAyNjcgMTQuNzU3OCAxMi4wMjQ1IDE0Ljc1MzMgMTIuMDI0NUMxNC43NTExIDEyLjAyNDUgMTQuNzQ4OSAxMi4wMjIyIDE0Ljc0NjcgMTIuMDIyMkMxNC43NDIyIDEyLjAyIDE0Ljc0IDEyLjAyIDE0LjczNTUgMTIuMDE3OEMxNC43MzMzIDEyLjAxNzggMTQuNzMxMSAxMi4wMTU2IDE0LjcyODkgMTIuMDE1NkMxNC43MjQ0IDEyLjAxNTYgMTQuNzIyMiAxMi4wMTMzIDE0LjcxNzggMTIuMDEzM0MxNC43MTU1IDEyLjAxMzMgMTQuNzExMSAxMi4wMTMzIDE0LjcwODkgMTIuMDExMUMxNC43MDQ0IDEyLjAxMTEgMTQuNzAyMiAxMi4wMTExIDE0LjY5NzggMTIuMDA4OUMxNC42OTMzIDEyLjAwODkgMTQuNjkxMSAxMi4wMDg5IDE0LjY4NjcgMTIuMDA4OUMxNC42ODQ0IDEyLjAwODkgMTQuNjgyMiAxMi4wMDg5IDE0LjY4IDEyLjAwODlIMTMuOTYyMkMxMy44NTMzIDEyLjAwODkgMTMuNzYyMiAxMi4wOTc4IDEzLjc2MjIgMTIuMjA2N1YxNi42NjY3QzEzLjc2MjIgMTYuNzc1NiAxMy44NTExIDE2Ljg2NDUgMTMuOTYyMiAxNi44NjQ1SDE0LjY4QzE0Ljc5MTEgMTYuODY0NSAxNC44OCAxNi43NzU2IDE0Ljg4IDE2LjY2NjdWMTQuMDIyMkwxNi45MjQ0IDE2Ljc4MjJDMTYuOTM3OCAxNi44MDIyIDE2Ljk1NTUgMTYuODE3OCAxNi45NzU1IDE2LjgzMTFDMTYuOTc1NSAxNi44MzExIDE2Ljk3NzggMTYuODMxMSAxNi45Nzc4IDE2LjgzMzNDMTYuOTgyMiAxNi44MzU2IDE2Ljk4NjYgMTYuODM3OCAxNi45OTExIDE2Ljg0QzE2Ljk5MzMgMTYuODQyMiAxNi45OTU1IDE2Ljg0MjIgMTYuOTk3OCAxNi44NDIyQzE3IDE2Ljg0NDUgMTcuMDA0NCAxNi44NDQ1IDE3LjAwNjYgMTYuODQ2N0MxNy4wMDg5IDE2Ljg0ODkgMTcuMDEzMyAxNi44NDg5IDE3LjAxNTUgMTYuODUxMUMxNy4wMTc4IDE2Ljg1MTEgMTcuMDIgMTYuODUzMyAxNy4wMjIyIDE2Ljg1MzNDMTcuMDI2NiAxNi44NTU2IDE3LjAzMTEgMTYuODU1NiAxNy4wMzU1IDE2Ljg1NzhIMTcuMDM3OEMxNy4wNTMzIDE2Ljg2MjIgMTcuMDcxMSAxNi44NjQ1IDE3LjA4ODkgMTYuODY0NUgxNy44MDY2QzE3LjkxNzggMTYuODY0NSAxOC4wMDY2IDE2Ljc3NTYgMTguMDA2NiAxNi42NjY3VjEyLjIxMzNDMTguMDA4OSAxMi4xMDIyIDE3LjkyIDEyLjAxMzMgMTcuODA4OSAxMi4wMTMzWiIgZmlsbD0iIzY4QjgyQiIvPgo8cGF0aCBkPSJNMTEuMTQ2NiAxNS43NTExSDkuMTk3NzNWMTIuMjEzM0M5LjE5NzczIDEyLjEwNDQgOS4xMDg4NCAxMi4wMTMzIDguOTk3NzMgMTIuMDEzM0g4LjI3OTk2QzguMTcxMDcgMTIuMDEzMyA4LjA3OTk2IDEyLjEwMjIgOC4wNzk5NiAxMi4yMTMzVjE2LjY2NjdDOC4wNzk5NiAxNi43MiA4LjEwMjE4IDE2Ljc2ODkgOC4xMzU1MSAxNi44MDQ0TDguMTM3NzMgMTYuODA2N0w4LjEzOTk2IDE2LjgwODlDOC4xNzU1MSAxNi44NDIyIDguMjI0NCAxNi44NjQ0IDguMjc3NzMgMTYuODY0NEgxMS4xNDIyQzExLjI1MTEgMTYuODY0NCAxMS4zNCAxNi43NzU2IDExLjM0IDE2LjY2NDRWMTUuOTQ2N0MxMS4zNDQ0IDE1Ljg0IDExLjI1NTUgMTUuNzUxMSAxMS4xNDY2IDE1Ljc1MTFaIiBmaWxsPSIjNjhCODJCIi8+CjxwYXRoIGQ9Ik0yMS43Njg5IDEzLjEyODlDMjEuODc3OCAxMy4xMjg5IDIxLjk2NjcgMTMuMDQgMjEuOTY2NyAxMi45Mjg5VjEyLjIxMTFDMjEuOTY2NyAxMi4xIDIxLjg3NzggMTIuMDExMSAyMS43Njg5IDEyLjAxMTFIMTguOTA0NEMxOC44NTExIDEyLjAxMTEgMTguODAyMiAxMi4wMzMzIDE4Ljc2NjcgMTIuMDY2N0wxOC43NjQ0IDEyLjA2ODlDMTguNzYyMiAxMi4wNzExIDE4Ljc2MjIgMTIuMDcxMSAxOC43NjIyIDEyLjA3MzNDMTguNzI4OSAxMi4xMDg5IDE4LjcwNjcgMTIuMTU3OCAxOC43MDY3IDEyLjIxMTFWMTYuNjY2N0MxOC43MDY3IDE2LjcyIDE4LjcyODkgMTYuNzY4OSAxOC43NjIyIDE2LjgwNDVMMTguNzY0NCAxNi44MDY3TDE4Ljc2NjcgMTYuODA4OUMxOC44MDIyIDE2Ljg0MjIgMTguODUxMSAxNi44NjQ1IDE4LjkwNDQgMTYuODY0NUgyMS43Njg5QzIxLjg3NzggMTYuODY0NSAyMS45NjY3IDE2Ljc3NTYgMjEuOTY2NyAxNi42NjQ1VjE1Ljk0NjdDMjEuOTY2NyAxNS44Mzc4IDIxLjg3NzggMTUuNzQ2NyAyMS43Njg5IDE1Ljc0NjdIMTkuODJWMTQuOTkzM0gyMS43Njg5QzIxLjg3NzggMTQuOTkzMyAyMS45NjY3IDE0LjkwNDUgMjEuOTY2NyAxNC43OTMzVjE0LjA3NTZDMjEuOTY2NyAxMy45NjQ1IDIxLjg3NzggMTMuODc1NiAyMS43Njg5IDEzLjg3NTZIMTkuODJWMTMuMTIyMkgyMS43Njg5VjEzLjEyODlaIiBmaWxsPSIjNjhCODJCIi8+Cjwvc3ZnPgo="},f8db:function(t,e,i){},f919:function(t,e,i){"use strict";var s=i("6375"),o=i.n(s);o.a},f95b:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["relative-position line-height",{"q-mt-sm":t.opt.name}]},[t.opt.name?s("div",{staticClass:"input-label text-gray-3"},[t._v("\n    "+t._s(t.opt.name)+"\n  ")]):t._e(),t.opt.notInput?s("div",{class:["input-block cursor-pointer ellipsis",{disabled:t.opt.disable},{"shopping-waring":t.errorMessage||t.opt.errorText}],on:{click:t.updateClick}},[s("span",{class:[{"text-gray-3":!t.inputVal&&!t.opt.textColor},{"text-secondary":!t.opt.disable&&!t.opt.textColor},t.opt.textColor]},[t._t("badge-before"),t._v("\n      "+t._s(t.inputVal||t.opt.placeholder)+"\n      "),t._t("badge-after")],2),s("span",{staticClass:"icon"},["arrow"===t.opt.icon?s("q-icon",{staticClass:"b-color",attrs:{size:"18px",name:"arrow_forward_ios"}}):"googlemap"===t.opt.icon?s("img",{staticClass:"googlemap",attrs:{src:i("583a"),alt:"googlemap"}}):t.opt.icon?s("q-icon",{staticClass:"q-mr-none",attrs:{name:t.opt.icon,size:"20px"}}):t._e()],1)]):s("div",{class:{disabled:t.opt.disable}},["checkbox"===t.inputType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:["input-block",{"shopping-waring":t.errorMessage||t.opt.errorText}],attrs:{maxlength:t.opt.maxlength,disabled:t.opt.disable,placeholder:t.inputPlaceholder,type:"checkbox"},domProps:{checked:Array.isArray(t.inputVal)?t._i(t.inputVal,null)>-1:t.inputVal},on:{blur:t.checkRule,input:function(e){return t.inputChange(e.target.value)},change:function(e){var i=t.inputVal,s=e.target,o=!!s.checked;if(Array.isArray(i)){var r=null,n=t._i(i,r);s.checked?n<0&&(t.inputVal=i.concat([r])):n>-1&&(t.inputVal=i.slice(0,n).concat(i.slice(n+1)))}else t.inputVal=o}}}):"radio"===t.inputType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:["input-block",{"shopping-waring":t.errorMessage||t.opt.errorText}],attrs:{maxlength:t.opt.maxlength,disabled:t.opt.disable,placeholder:t.inputPlaceholder,type:"radio"},domProps:{checked:t._q(t.inputVal,null)},on:{blur:t.checkRule,input:function(e){return t.inputChange(e.target.value)},change:function(e){t.inputVal=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:["input-block",{"shopping-waring":t.errorMessage||t.opt.errorText}],attrs:{maxlength:t.opt.maxlength,disabled:t.opt.disable,placeholder:t.inputPlaceholder,type:t.inputType},domProps:{value:t.inputVal},on:{blur:t.checkRule,input:[function(e){e.target.composing||(t.inputVal=e.target.value)},function(e){return t.inputChange(e.target.value)}]}}),t.opt.icon?s("span",{staticClass:"icon"},["visibility"===t.opt.icon?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility",size:"20px"},on:{click:function(e){t.isPwd=!t.isPwd}}}):s("q-icon",{staticClass:"q-mr-none",attrs:{name:t.opt.icon,size:"20px"}})],1):t._e()]),t.errorMessage||t.opt.errorText?s("span",{staticClass:"input-des shopping-waring"},[t._v("\n    "+t._s(t.errorMessage||t.opt.errorText)+"\n  ")]):s("span",{staticClass:"input-des"},[t._v("\n    "+t._s(t.inputHint)+"\n  ")])])},o=[],r=(i("a481"),{model:{prop:"value",event:"change"},props:["value","opt"],data:function(){return{isPwd:!0,inputVal:"",errorMessage:""}},methods:{updateClick:function(){this.$emit("updateClick",!0)},checkRule:function(){var t="";for(var e in this.inputRules)if(t=this.inputRules[e](this.inputVal),"string"===typeof t){this.errorMessage=t;break}(this.inputVal||this.opt.required)&&!0!==t||(this.errorMessage="")},inputChange:function(t){var e=t;if("carrier_id"===this.opt.rules){var i=/^[0-9\/\.\+\-A-Za-z]*$/,s=t.substring(t.length-1);i.test(s)||(e=t.substring(0,t.length-1)),e=e.toUpperCase(),this.inputVal=e}if("ein"===this.opt.rules){var o=/^[0-9]*$/;o.test(t)||(e=e.replace(/[^\d]/g,""),this.inputVal=e)}" "===e?(this.inputVal="",this.$emit("change","")):this.$emit("change",e)},calculate:function(t){var e=t%10,i=(t-e)/10;return e+i},checkEin:function(t){var e=[],i=[1,2,1,2,1,2,4,1];if(t){if(8===t.length){for(var s=0;s<t.length;s++)e.push(parseInt(t[s],10));for(var o=0,r=0;r<i.length;r++)o+=this.calculate(e[r]*i[r]);return o%10===0||o%5===0||7===e[6]&&((o+1)%10===0||(o+1)%5===0)}return!1}return!1}},computed:{inputHint:function(){return this.opt.hint?this.opt.hint:"phone"===this.opt.rules?this.$t("certification.phone_hint"):""},passwordRule:function(){return[function(t){return!!t||"密碼為空"},function(t){return t.length>=6&&t.length<=64||"密碼長度錯誤 (6~64字)"}]},einRule:function(){var t=this,e=/^[0-9]*$/;return[function(t){return e.test(t)||"統一編號錯誤"},function(e){return t.checkEin(e)||"統一編號錯誤"}]},carrierIdRule:function(){var t=/^[0-9\/\.\+\-A-Z\s]*$/;return[function(t){return!!t||"載具號碼為空"},function(t){return"/"===t[0]||"載具號碼格式錯誤"},function(e){return t.test(e)||"請輸入正確的載具號碼 (英文字母為大寫)"},function(t){return 8===t.length||"載具號碼長度錯誤"}]},telRule:function(){var t=this,e=/^[0-9\-\(\)\#\s]*$/;return[function(e){return!!e||t.$t("certification.phone_empty")},function(t){return e.test(t)||"請輸入正確的聯絡電話"}]},phoneRule:function(){var t=/^[0-9]*$/;return[function(t){return!!t||"手機號碼為空"},function(t){return"09"===t.slice(0,2)||"請輸入正確的手機號碼"},function(t){return 10===t.length||"手機號碼長度錯誤"},function(e){return t.test(e)||"請輸入正確的手機號碼"}]},userNoRule:function(){var t=/^[A]{1}[0-9]{9}$/;return[function(t){return!!t||"會員編號為空"},function(e){return t.test(e)||"請輸入正確的會員編號"}]},codeRule:function(){var t=/^[0-9A-Za-z\s]*$/;return[function(t){return!!t||"特約碼為空"},function(t){return 8===t.length||"特約碼長度錯誤"},function(e){return t.test(e)||"請輸入正確的特約碼"}]},emailRule:function(){var t=/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return[function(t){return!!t||"Email 為空"},function(e){return t.test(e)||"請輸入正確的 Email"}]},inputRules:function(){var t=this;return"tel"===this.opt.rules?this.telRule:"carrier_id"===this.opt.rules?this.carrierIdRule:"ein"===this.opt.rules?this.einRule:"phone"===this.opt.rules?this.phoneRule:"user_no"===this.opt.rules?this.userNoRule:"code"===this.opt.rules?this.codeRule:"password"===this.opt.rules?this.passwordRule:"email"===this.opt.rules?this.emailRule:this.opt.required?[function(e){return!!e||t.$t("error.required")}]:[]},inputType:function(){return"password"===this.opt.rules?this.isPwd?"password":"text":this.opt.type?this.opt.type:"text"},inputPlaceholder:function(){return this.opt.placeholder?this.opt.placeholder:""}},created:function(){this.inputVal=this.value},watch:{value:function(){this.inputVal=this.value,this.checkRule()},errorMessage:function(t){this.$emit("updateErrorMessage",t)}}}),n=r,a=(i("d916"),i("2877")),c=Object(a["a"])(n,s,o,!1,null,"35dc6335",null);e["a"]=c.exports},f99a:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRUNFQ0VDIi8+CjxwYXRoIGQ9Ik0xMy42MzI1IDE3Ljg5MTRDMTcuODE2MiAxNy44OTE0IDIxLjIyODIgMTQuNDc5NCAyMS4yMjgyIDEwLjI5NTdDMjEuMjI4MiA2LjExMTkzIDE3LjgxNjIgMi42OTk5NSAxMy42MzI1IDIuNjk5OTVDOS40NDg3MiAyLjY5OTk1IDYuMDM2NzQgNi4xMTE5MyA2LjAzNjc0IDEwLjI5NTdDNi4wMzY3NCAxNC40Nzk0IDkuNDQ4NzIgMTcuODkxNCAxMy42MzI1IDE3Ljg5MTRaTTEzLjYzMjUgNC40NjAwOEMxNi44NTQ5IDQuNDYwMDggMTkuNDY4IDcuMDczMjQgMTkuNDY4IDEwLjI5NTdDMTkuNDY4IDEzLjUxODEgMTYuODU0OSAxNi4xMzEyIDEzLjYzMjUgMTYuMTMxMkMxMC40MSAxNi4xMzEyIDcuNzk2ODkgMTMuNTE4MSA3Ljc5Njg5IDEwLjI5NTdDNy43OTY4OSA3LjA3MzI0IDEwLjQyMzYgNC40NjAwOCAxMy42MzI1IDQuNDYwMDhaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMjMuODY4NCAxNy4yOTU3QzIyLjUyOCAxNy4yOTU3IDIxLjMyMjkgMTcuODIzNyAyMC40MDIzIDE4LjY2MzFDMTkuNzM4OCAxOC40ODcxIDE5LjA0ODMgMTguMzc4OCAxOC4zMzA3IDE4LjM3ODhIMTcuMjYxMUwxNy4wODUgMTguNDYwMUMxNC44OTE2IDE5LjQ2MiAxMi4zNzMzIDE5LjQ3NTUgMTAuMTY2MyAxOC40NjAxTDkuOTkwMyAxOC4zNzg4SDguOTM0MjFDNC41NjA5MiAxOC4zNzg4IDEgMjEuOTM5NyAxIDI2LjMxM1YyOC40OTI5QzEgMzAuMzYxNCAyLjUyOTk4IDMxLjg5MTMgNC4zOTg0NCAzMS44OTEzSDIwLjU5MThWMzIuNDA1OEMyMC41OTE4IDMyLjc3MTQgMjAuODA4NCAzMy4wODI4IDIxLjE0NjkgMzMuMjMxOEMyMS40NzE5IDMzLjM2NzIgMjEuODY0NSAzMy4yOTk1IDIyLjEyMTggMzMuMDQyMkwyMy4zMTMzIDMxLjg1MDdMMjMuODgxOSAzMS4yODIxTDI0LjIyMDQgMzEuNjIwNkwyNS42NDIxIDMzLjA0MjJDMjUuODE4MSAzMy4yMTgyIDI2LjAzNDcgMzMuMjk5NSAyNi4yNjQ5IDMzLjI5OTVDMjYuMzczMiAzMy4yOTk1IDI2LjQ5NTEgMzMuMjcyNCAyNi42MDM0IDMzLjIzMThDMjYuOTQxOSAzMy4wOTY0IDI3LjE1ODUgMzIuNzcxNCAyNy4xNTg1IDMyLjQwNThWMjYuMzk0M0MyOC4yOTU4IDI1LjQ0NjUgMjkuMDQwNSAyNC4wMzg0IDI5LjA0MDUgMjIuNDU0MkMyOS4wMjcgMTkuNjEwOSAyNi43MTE3IDE3LjI5NTcgMjMuODY4NCAxNy4yOTU3Wk0yMC41OTE4IDMwLjEzMTJINC4zOTg0NEMzLjQ5MTI5IDMwLjEzMTIgMi43NjAxNSAyOS40IDIuNzYwMTUgMjguNDkyOVYyNi4zMTNDMi43NjAxNSAyMi45MTQ2IDUuNTM1NzcgMjAuMTM5IDguOTM0MjEgMjAuMTM5SDkuNjI0NzNDMTIuMTk3MyAyMS4yNDkyIDE1LjEwODMgMjEuMjQ5MiAxNy42NTM3IDIwLjEzOUgxOC4zNDQyQzE4LjY1NTYgMjAuMTM5IDE4Ljk1MzUgMjAuMTc5NiAxOS4yNTE0IDIwLjIzMzdDMTguOTI2NCAyMC45MTA3IDE4LjcyMzMgMjEuNjU1NCAxOC43MjMzIDIyLjQ1NDJDMTguNzIzMyAyNC4wNTE5IDE5LjQ2OCAyNS40NiAyMC42MDUzIDI2LjM5NDNWMzAuMTMxMkgyMC41OTE4Wk0yNS4zNzEzIDMwLjI2NjZMMjQuNTA0OCAyOS40QzI0LjQ1MDYgMjkuMzQ1OSAyNC4zNjk0IDI5LjMwNTMgMjQuMzAxNyAyOS4yNjQ3QzIzLjk2MzIgMjkuMDc1MSAyMy41Mjk5IDI5LjExNTcgMjMuMjQ1NiAyOS40TDIyLjUxNDQgMzAuMTMxMkwyMi4zNzkgMzAuMjY2NlYzMC4xMzEyVjI3LjM1NTZDMjIuODUyOSAyNy41MDQ1IDIzLjM1MzkgMjcuNTk5MyAyMy44Njg0IDI3LjU5OTNDMjQuMDg1IDI3LjU5OTMgMjQuMzAxNyAyNy41NTg3IDI0LjUwNDggMjcuNTMxNkMyNC44MDI2IDI3LjQ5MSAyNS4wODcgMjcuNDM2OCAyNS4zNTc3IDI3LjM1NTZWMzAuMjY2NkgyNS4zNzEzWk0yNi4xNDMgMjQuOTMyQzI1LjY4MjcgMjUuMzUxNyAyNS4xMDA1IDI1LjY0OTYgMjQuNDUwNiAyNS43NzE0QzI0LjI2MSAyNS43OTg1IDI0LjA3MTUgMjUuODI1NiAyMy44Njg0IDI1LjgyNTZDMjIuMDEzNSAyNS44MjU2IDIwLjQ5NyAyNC4zMDkyIDIwLjQ5NyAyMi40NTQyQzIwLjQ5NyAyMS44MzE0IDIwLjY3MyAyMS4yNjI4IDIwLjk3MDkgMjAuNzYxOEMyMS4yOTU5IDIwLjIyMDIgMjEuNzU2MiAxOS43NzM0IDIyLjMyNDkgMTkuNDc1NUMyMi43ODUyIDE5LjIzMTggMjMuMzEzMyAxOS4wODI5IDIzLjg2ODQgMTkuMDgyOUMyNS43MjMzIDE5LjA4MjkgMjcuMjM5NyAyMC41OTkzIDI3LjIzOTcgMjIuNDU0MkMyNy4yMzk3IDIzLjQyOTEgMjYuODIgMjQuMzA5MiAyNi4xNDMgMjQuOTMyWiIgZmlsbD0iIzAwMDEwMCIvPgo8L3N2Zz4K"},f9d0:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nd-max-w-82.5 text-center"},[i("div",[i("div",{staticClass:"flex"},[i("q-btn",{staticClass:"q-ml-auto",attrs:{size:"md",flat:"",dense:"",round:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}})],1),i("div",{staticClass:"absolute-center font-size-subtitle-1 text-bold"},[t._v("\n      "+t._s(t.$t("footer_lg.service"))+"\n    ")])]),i("hr",{staticClass:"q-my-md"}),i("div",{staticClass:"flex flex-center"},[i("qrcode",{attrs:{value:t.lineLink,width:120}})],1),i("div",{staticClass:"q-mb-md font-size-subtitle-2"},[t._v("ID: "+t._s(t.lineId))]),i("div",{staticClass:"flex flex-center"},[i("div",[i("div",{staticClass:"q-mb-md q-py-sm q-px-md text-left border rounded-borders"},[i("div",[t._v("聯繫方式")]),i("div",{staticClass:"text-grey-7"},[t._v("1. 手機登入 LINE，點選「加入好友」")]),i("div",{staticClass:"text-grey-7"},[t._v("2. 掃描上方行動條碼或輸入 ID「@"+t._s(t.lineId)+"」")]),this.setBrandCode?t._e():i("div",{staticClass:"text-grey-7"},[t._v("3. 將 Nidin 加入好友獲得更即時的服務")])]),this.isUBrand||this.setBrandCode?t._e():i("div",{staticClass:"q-mb-md q-py-sm q-px-md text-left border rounded-borders"},[i("div",[t._v("聯繫時間")]),i("div",{staticClass:"text-grey-7"},[t._v("週一至週五 9:30-12:00、13:30-18:00（國定假日休息）")])]),i("div",{staticClass:"full-width"},[i("q-btn",{staticClass:"btn-primary bg-line full-width",on:{click:t.linkLine}},[t._v("\n          "+t._s(t.$t("footer_lg.service"))+"\n        ")])],1)])])])},o=[],r=i("9a13"),n=i("0c6b"),a=i("791e"),c={name:"NdCustomerService",mixins:[a["a"]],components:{Qrcode:r["a"],"i-li":n["a"]},computed:{lineId:function(){return"nidin"},lineLink:function(){return"https://page.line.me/nidin"}},methods:{linkLine:function(){var t="https://page.line.me/nidin";window.open(t,"_blank")}}},u=c,d=(i("f05d"),i("2877")),l=Object(d["a"])(u,s,o,!1,null,"40109fe3",null);e["a"]=l.exports},fb01:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width"},[i("div",{staticClass:"menu-list full-width flex column"},t._l(t.categoryListSort,(function(e,s){return i("div",{key:"category-"+s,ref:"s-category-"+e[t.schema.category.product_id],refInFor:!0,staticClass:"item full-width"},[i("div",[i("ul",{staticClass:"full-width"},t._l(t.productListSort(e),(function(s){return i("menu-prod-block",{key:"s-menu-prod-block-"+s,staticClass:"border-b-list",attrs:{menu:t.menu,prodId:s,storeInfo:t.storeInfo,layout:t.layout,iconList:t.iconList,imgList:t.imgList,categoryId:e[t.schema.category.product_id],disableList:t.disableList,orderInfo:t.orderInfo,orderId:t.orderId,menuInfo:t.menuInfo,searchProd:t.searchProd,prodSettingList:t.prodSettingList,promotionList:t.promotionList,promotionListSort:t.promotionListSort}})})),1)])])})),0)])},o=[],r=(i("6762"),i("2fdb"),i("6b54"),i("7514"),i("8615"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("55dd"),i("c5f6"),i("20d6"),i("791e")),n=i("5648"),a={components:{"menu-prod-block":n["a"]},props:["menu","storeInfo","layout","iconList","imgList","disableList","searchProd","orderInfo","orderId","menuInfo","prodSettingList","voucherPackList","promotionList"],mixins:[r["a"]],data:function(){return{}},methods:{prodsCount:function(t){return t[this.schema.category.product_list].length},productListSort:function(t){var e=this,i=e.schema.product,s=e.schema.category,o=t[this.schema.category.product_list],r=[],n={},a=[];for(var c in o=o.filter((function(o,a){var c=e.productList[o][i.is_enable],u=e.productList[o][i.is_visible],d=e.productList[o][i.group_id];if(d&&c&&u){var l=n[d],M={prod:o,index:a};l||(n[d]=[]),n[d].push(M)}if(c&&u){var h=t[s.product_id],p=e.disableList.product[h];if(p&&p.forEach((function(t){var e=t.product_id;if(d&&o===e){var i=n[d].findIndex((function(t){return t.prod===o}));n[d][i].disable=!0}else o===e&&r.push(o)})),3!==e.storeInfo.store_mode)return o;var m=e.voucherPackList;for(var g in m)return Number(g)===o?o:null}})),n){for(var u=0,d=0,l=n[c],M=0;M<l.length;M++)l[M].disable&&!u?(u++,a.push(l[M].prod)):!l[M].disable&&d?(u++,a.push(l[M].prod)):(l[M].disable&&u++,d++);if(u===l.length)for(var h=0;h<l.length;h++)r.push(l[h].prod)}if(2===e.storeInfo.menu_stop_sale_type){var p=r;a.length&&(p=r.concat(a)),p.forEach((function(t){o.indexOf(t)>-1&&o.splice(o.indexOf(t),1)}))}else a.forEach((function(t){o.indexOf(t)>-1&&o.splice(o.indexOf(t),1)}));return o=o.sort((function(t){return e.productList[t][e.schema.product.sort]})),o}},computed:{hasImg:function(){switch(this.layout){case this.layoutType.clickImg:case this.layoutType.smImg:case this.layoutType.bigImg:return!0;default:return!1}},layoutType:function(){return{bigImg:this.$config.layout_type.pic_out_big,clickImg:this.$config.layout_type.pic_click,smImg:this.$config.layout_type.pic_show}},categoryListSort:function(){var t=this,e=this.categoryList,i=this.schema.category;if(Object.keys(e)){e=Object.values(e).sort((function(t,e){return t[i.sort]-e[i.sort]}));var s=[];e=e.filter((function(e,o){var r=e[i.product_id];if(t.disableList.category&&t.disableList.category.forEach((function(t){r===t&&s.push(o)})),t.disableList.product[r]){var n=t.disableList.product[r].length,a=t.prodsCount(e);n===a&&s.push(o)}return e[i.is_visible]&&e[i.is_enable]})),s=s.filter((function(t,e,i){return i.indexOf(t)===e})),2===t.storeInfo.menu_stop_sale_type&&s.forEach((function(t){e.splice(t,1)}))}return e},promotionListSort:function(){var t=this,e={},i=this.schema.product,s=this.schema.category,o=function(o){var r=t.promotionList[o],n={};r.forEach((function(e){var o=t.categoryListSort.find((function(t){return t[s.product_list].indexOf(e)>-1}));if(t.productList[e]&&o){var r=t.productList[e][i.group_id];r?t.productListSort(o).forEach((function(s){var o=s.toString();t.productList[o][i.group_id]===r&&(Object.keys(n).includes(o)?n[o].push(e):n[o]=[e])})):t.productListSort(o).indexOf(e)>-1&&(n[e]=[e])}})),e[o]=n};for(var r in this.promotionList)o(r);return e},categoryList:function(){return this.menu.category_list_json.data},productList:function(){return this.menu.product_list_json.data},blockList:function(){return this.menu.block_list_json.data},adjustList:function(){return this.menu.adjust_list_json.data},optionList:function(){return this.menu.option_list_json.data},combineList:function(){return this.menu.combine_list_json.data},schema:function(){return{category:this.menu.category_list_json.schema,product:this.menu.product_list_json.schema,block:this.menu.block_list_json.schema,adjust:this.menu.adjust_list_json.schema,option:this.menu.option_list_json.schema,combine:this.menu.combine_list_json.schema}}}},c=a,u=i("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);e["a"]=d.exports},fe68:function(t,e,i){}}]);