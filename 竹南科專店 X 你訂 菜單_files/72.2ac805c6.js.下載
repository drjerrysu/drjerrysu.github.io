(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[72],{af6c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-header",{staticClass:"bg-white text-black shadow",attrs:{elevated:"",reveal:t.showMobileReveal}},[a("q-toolbar",{staticClass:"nd-layout-header"},[a("div",{staticClass:"gt-sm col-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("router-link",{attrs:{to:{name:"Home"},"data-testid":"header-logo-desktop"}},[a("div",{staticClass:"q-py-sm q-px-md"},[a("q-img",{attrs:{height:"2.25rem",contain:"",src:t.logoSrc}})],1)])],1),a("q-separator",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],staticClass:"q-mx-sm",attrs:{vertical:"",inset:""}}),a("div",{staticClass:"col row items-center"},[t.showLocation?a("nd-layout-v2-location",{attrs:{"data-testid":"header-location-desktop"}}):t._e()],1)],1)]),a("div",{staticClass:"gt-sm col-4"},[a("nd-layout-v2-search",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],attrs:{"data-testid":"header-search-desktop"}})],1),a("div",{staticClass:"gt-sm col-4"},[a("div",{staticClass:"row q-col-gutter-xs items-center justify-end"},[t.isLogin?a("div",{staticClass:"col-auot"},[a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",to:{name:"orders"},"data-testid":"header-orders-manage-icon-desktop"},nativeOn:{click:function(e){return t.setGATag("view_cart")}}},[a("nd-icon",{attrs:{name:"order-note",size:"1.5rem"}})],1)],1):t._e(),t.isLogin?a("div",{staticClass:"col-auot"},[a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",to:{name:"carts"},"data-testid":"header-cart-desktop"},nativeOn:{click:function(e){return t.setGATag("view_cart")}}},[a("nd-icon",{attrs:{name:"shopping-cart",size:"1.5rem"}}),t.$store.state.order.cart_amount?a("q-badge",{staticClass:"text-12 q-badge-xs q-ma-none",staticStyle:{top:"-6px",right:"-8px","font-size":"10px","font-weight":"500"},attrs:{color:"red",floating:"",rounded:""}},[t._v("\n                "+t._s(t.$store.state.order.cart_amount)+"\n              ")]):t._e()],1)],1):t._e(),t.isLogin?a("div",{staticClass:"col-auot"},[a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",to:{name:"Notify"},"data-testid":"header-notify-desktop"}},[a("nd-icon",{attrs:{name:"notification",size:"1.5rem"}}),t.$store.state.user.unread_total?a("q-badge",{staticClass:"text-12 q-badge-xs q-ma-none",staticStyle:{top:"-6px",right:"-8px","font-size":"10px","font-weight":"500"},attrs:{color:"red",floating:"",rounded:""}},[t._v("\n                "+t._s(t.$store.state.user.unread_total)+"\n              ")]):t._e()],1)],1):t._e(),a("div",{staticClass:"col-auot"},[a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm","data-testid":"header-lang-desktop"},on:{click:function(e){return t.changeLang(t.lang)}}},["tw"===this.lang?a("q-img",{staticClass:"q-ma-sm",attrs:{width:"1.5rem",height:"1.5rem",src:s("95d3"),ratio:1}}):t._e(),"en-us"===this.lang?a("q-img",{staticClass:"q-ma-sm",attrs:{width:"1.5rem",height:"1.5rem",src:s("e946"),ratio:1}}):t._e()],1)],1),a("div",{staticClass:"col-auot"},[t.isLogin?a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm","data-testid":"header-avatar-desktop"}},[a("q-img",{staticClass:"q-ma-sm",attrs:{"img-class":"circle",width:"1.5rem",height:"1.5rem",src:t.userImage}}),a("q-menu",[a("q-list",{staticClass:"min-w-272px"},[t.canUpgrade?a("div",{staticClass:"nd-mt-1 nd-px-4 nd-py-2 cursor-pointer",attrs:{"data-testid":"header-upgrade-desktop"},on:{click:function(e){return t.$router.push({name:"Upgrade"})}}},[a("div",{staticClass:"bg-primary items-center flex nd-px-4 nd-py-2 nd-rounded-md"},[a("div",{staticClass:"nd-font-size-body text-white"},[t._v("\n                        前往"+t._s(t.$t("footer_lg.member_upgrade"))+"\n                      ")]),a("q-icon",{staticClass:"q-ma-none q-ml-xs",attrs:{color:"white",size:"xs",name:"chevron_right"}})],1)]):t._e(),t.canUpgrade?a("div",{staticClass:"nd-hr"}):t._e(),a("div",{staticClass:"row nd-px-4 nd-py-2 bg-grey-1"},[a("div",{staticClass:"col-auto nd-mr-3"},[a("q-avatar",{attrs:{rounded:"",size:"2.5rem"}},[a("img",{attrs:{src:t.userImage}})])],1),a("div",{staticClass:"col"},[a("div",{staticClass:"nd-font-size-body nd-font-weight-medium"},[t._v("\n                        "+t._s(t.$store.state.user.user_info.nickname)+"\n                      ")]),a("div",{staticClass:"nd-font-size-caption text-grey-7"},[t._v("\n                        "+t._s(t.$store.state.user.user_info.user_no)+"\n                      ")])])]),a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-profile-desktop"},on:{click:function(e){return t.$router.push({name:"Profile"})}}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("header.profile"))+"\n                    ")])]),a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-favorite-store-desktop"},on:{click:function(e){return t.$router.push({name:"FavoriteStore"})}}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("header.favorite_stores"))+"\n                    ")])]),t.isPhoneVerity?t._e():a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-member-card-desktop"},on:{click:function(e){t.setGATag("view_header_member"),t.$router.push(t.toMemberCard)}}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("header.member_card"))+"\n                    ")])]),t.isPhoneVerity?t._e():a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-coupon-desktop"},on:{click:function(e){return t.$router.push({name:"Coupons"})}}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("header.coupon"))+"\n                    ")])]),a("div",{staticClass:"nd-hr"}),a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-orders-manage-text-desktop"},on:{click:function(e){return t.$router.push({path:"/orders"})}}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("header.orders"))+"\n                    ")])]),t._e(),a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-feedback-desktop"},on:{click:function(e){return t.$router.push({name:"feedback"})}}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("header.feedback"))+"\n                    ")])]),a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-problems-desktop"},on:{click:function(e){return t.$router.push({name:"problems"})}}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("account.faq"))+"\n                    ")])]),a("div",{staticClass:"nd-hr"}),t.isUnique&&!t.isBrandDomain?a("div",{staticClass:"nd-btn",attrs:{"data-testid":"header-nidin-desktop"},on:{click:t.clearUnique}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("footer_lg.nidin"))+"\n                    ")])]):t._e(),a("div",{staticClass:"nd-btn nd-mb-1",attrs:{"data-testid":"header-logout-desktop"},on:{click:t.logout}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                      "+t._s(t.$t("footer_lg.logout"))+"\n                    ")])])])],1)],1):t._e()],1),a("div",{staticClass:"col-auot"},[t.isLogin?t._e():a("q-btn",{attrs:{flat:"",to:{name:"login"},"data-testid":"header-login-desktop"}},[a("div",{staticClass:"nd-font-size-body"},[t._v("\n                "+t._s(t.$t("footer_lg.login")+" / "+t.$t("footer_lg.register"))+"\n              ")])])],1)])]),a("div",{staticClass:"lt-md col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"absolute mobile-logo"},[a("router-link",{staticClass:"mobile-logo-link",attrs:{to:{name:"Home"},"data-testid":"header-logo-mobile"}},[a("q-img",{attrs:{width:"6rem",height:"1.5rem",src:t.logoSrc}})],1)],1),t.showGoBack?a("div",{staticClass:"col-auto row items-center"},[a("q-btn",{attrs:{color:"grey-6",dense:"",flat:"",icon:"fas fa-caret-left",rounded:"",size:"xs","data-testid":"header-go-back-mobile"},on:{click:t.goBack}})],1):t._e(),a("div",{staticClass:"col"},[a("div",{staticClass:"row justify-end items-center"},[t.showAddHome?a("q-btn",{attrs:{dense:"",flat:"",size:"xs","data-testid":"header-add-home-mobile"},on:{click:function(e){return t.setShowAddHome(!0)}}},[a("nd-icon",{attrs:{color:"primary",name:"desktop",size:"1rem"}})],1):t._e(),t.showSearchIcon?a("q-btn",{attrs:{dense:"",rounded:"",size:"sm","data-testid":"header-search-mobile"},on:{click:t.search}},[a("q-img",{staticClass:"q-ma-sm",attrs:{width:"1rem",height:"1rem",src:s("21f7")}})],1):t._e(),t._l(t.users.pins,(function(e){return a("q-btn",{key:e,attrs:{to:{name:t.base[e]["name"]},dense:"",flat:"",rounded:"",size:"xs","data-testid":"header-tools-mobile"}},[a("q-icon",{attrs:{size:"xs"}},[a("q-img",{attrs:{src:t.base[e]["icon"]}})],1)],1)}))],2)])])])])],1),t.showSearchSticky?a("nd-layout-v2-header-sticky",{staticClass:"lt-md"}):t._e()],1)},o=[],r=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),i=s.n(r),n=(s("386d"),s("791e")),d=s("7073");function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"NdLayoutV2Header",mixins:[n["a"],d["a"]],components:{"nd-layout-v2-location":function(){return s.e(36).then(s.bind(null,"5e7e"))},"nd-layout-v2-header-sticky":function(){return s.e(106).then(s.bind(null,"8c60"))},"nd-layout-v2-search":function(){return s.e(37).then(s.bind(null,"5a7d"))},"nd-icon":function(){return Promise.resolve().then(s.bind(null,"5473"))}},props:{logoSrc:{type:String,default:s("ad9a")},show:{type:Object,default:function(){return{}}},showAddHome:{type:Boolean,default:!1},toolsBase:{type:Array,default:function(){return[]}},userImage:{type:String,default:s("2093")},users:{type:Object,default:function(){return{}}}},computed:{base:function(){return this.$store.state.tools.base},isJkos:function(){return"jkos"===this.$route.query.platform},lang:{get:function(){return this.$i18n.locale},set:function(t){this.$i18n.locale=t,this.$q.localStorage.set(this.$config.language,this.lang)}},toMemberCard:function(){return this.isUnique?{name:"Account"}:{name:"MemberCardList",query:{type:"member_card"}}},showGoBack:function(){var t=!1;return this.$route.meta.back&&(t=!0),this.$store.state.app.liff.ready&&(t=!1),this.isJkos&&(t=!1),t},showSearchSticky:function(){var t=!1;return this.$route.meta.layout&&this.$route.meta.layout.header&&null!==this.$route.meta.layout.header.searchSticky&&"undefined"!==typeof this.$route.meta.layout.header.searchSticky&&(t=this.$route.meta.layout.header.searchSticky),this.showLocationModule||this.showSearchModule||(t=!1),this.$q.screen.gt.sm&&(t=!1),t},showLocation:function(){var t=!0;return this.$route.meta.layout&&this.$route.meta.layout.header&&null!==this.$route.meta.layout.header.location&&"undefined"!==typeof this.$route.meta.layout.header.location&&(t=this.$route.meta.layout.header.location),this.isUStore&&(t=!1),!1===this.showLocationModule&&(t=!1),this.$q.screen.lt.md&&(t=!1),t},showLocationModule:function(){return this.$store.getters["location/showLocationModule"]},showMobileReveal:function(){var t=!1;return this.$q.screen.lt.md&&this.$route.meta.layout&&this.$route.meta.layout.header&&this.$route.meta.layout.header.mobileReveal&&null!==this.$route.meta.layout.header.mobileReveal&&"undefined"!==typeof this.$route.meta.layout.header.mobileReveal&&(t=this.$route.meta.layout.header.mobileReveal),t},showSearch:function(){var t=!0;return this.$route.meta.layout&&this.$route.meta.layout.header&&null!==this.$route.meta.layout.header.search&&"undefined"!==typeof this.$route.meta.layout.header.search&&(t=this.$route.meta.layout.header.search),this.isUStore&&(t=!1),!1===this.showSearchModule&&(t=!1),t},showSearchIcon:function(){var t=!0;return this.$route.meta.layout&&this.$route.meta.layout.header&&null!==this.$route.meta.layout.header.searchIcon&&"undefined"!==typeof this.$route.meta.layout.header.searchIcon&&(t=this.$route.meta.layout.header.searchIcon),this.isUStore&&(t=!1),!1===this.showSearchModule&&(t=!1),t},showSearchModule:function(){return this.$store.getters["search/showSearchModule"]}},methods:{changeLang:function(t){switch(t){case"tw":this.lang="en-us";break;case"en-us":this.lang="tw";break;default:this.lang="tw";break}},goBack:function(){this.$router.go(-1)},logout:function(){var t=this;this.$q.dialog({class:"nidin-dialog",title:this.$t("dialog.notice"),message:this.$t("dialog.q.logout"),ok:{label:this.$t("dialog.confirm"),color:"primary",textColor:"white"},cancel:{label:this.$t("dialog.cancel"),color:"gray-6",textColor:"gray-2"}}).onOk((function(){t.logoutApi()}))},logoutApi:function(){this.$store.dispatch("user/doLogout"),this.$store.dispatch("order/doLogout"),this.$store.commit("onSite/doLogout"),this.$store.dispatch("location/doLogout"),this.$store.state.app.liff.ready&&window.liff.logout(),this.$vlf&&this.$vlf.clear(),this.$router.push({name:"login"})},search:function(){this.$router.push({name:"SearchBox"})},setShowAddHome:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("update:show",l({},this.show,{add_home:t}))}}},h=u,m=(s("ef39"),s("2877")),f=Object(m["a"])(h,a,o,!1,null,"d043c61a",null);e["default"]=f.exports},d865:function(t,e,s){},ef39:function(t,e,s){"use strict";var a=s("d865"),o=s.n(a);o.a}}]);